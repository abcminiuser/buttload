   1               		.file	"Dataflash.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	DFSPIRoutinePointer
  19               		.data
  22               	DFSPIRoutinePointer:
  23 0000 0000      		.word	pm(SPI_SPITransmit)
  24               	.global	DataFlashError
  25               		.section	.progmem.data,"a",@progbits
  28               	DataFlashError:
  29 0000 4441 5441 		.string	"DATAFLASH ERROR"
  29      464C 4153 
  29      4820 4552 
  29      524F 5200 
  30               	.global	DF_Pages
  33               	DF_Pages:
  34 0010 0001      		.word	256
  35 0012 0002      		.word	512
  36 0014 0004      		.word	1024
  37 0016 0008      		.word	2048
  38 0018 0010      		.word	4096
  39 001a 0010      		.word	4096
  40 001c 0020      		.word	8192
  41 001e 0020      		.word	8192
  42               	.global	DF_PageSize
  45               	DF_PageSize:
  46 0020 0801      		.word	264
  47 0022 0801      		.word	264
  48 0024 0801      		.word	264
  49 0026 0801      		.word	264
  50 0028 0801      		.word	264
  51 002a 1002      		.word	528
  52 002c 1002      		.word	528
  53 002e 2004      		.word	1056
  54               	.global	DF_PageBits
  57               	DF_PageBits:
  58 0030 09        		.byte	9
  59 0031 09        		.byte	9
  60 0032 09        		.byte	9
  61 0033 09        		.byte	9
  62 0034 09        		.byte	9
  63 0035 0A        		.byte	10
  64 0036 0A        		.byte	10
  65 0037 0B        		.byte	11
  66               		.text
  67               	.global	DF_EnableDataflash
  69               	DF_EnableDataflash:
  70               	.LFB23:
  71               	.LM1:
  72               	/* prologue: frame size=0 */
  73               	/* prologue end (size=0) */
  74 0000 9091 0000 		lds r25,UseExernalDF
  75               	.LM2:
  76 0004 8130      		cpi r24,lo8(1)
  77 0006 31F4      		brne .L2
  78               	.LM3:
  79 0008 9130      		cpi r25,lo8(1)
  80 000a 11F4      		brne .L3
  81               	.LM4:
  82 000c 82E0      		ldi r24,lo8(2)
  83 000e 05C0      		rjmp .L8
  84               	.L3:
  85               	.LM5:
  86 0010 2898      		cbi 37-0x20,0
  87 0012 0895      		ret
  88               	.L2:
  89               	.LM6:
  90 0014 9130      		cpi r25,lo8(1)
  91 0016 21F4      		brne .L6
  92               	.LM7:
  93 0018 892F      		mov r24,r25
  94               	.L8:
  95 001a 0E94 0000 		call MAIN_ResetCSLine
  96 001e 0895      		ret
  97               	.L6:
  98               	.LM8:
  99 0020 289A      		sbi 37-0x20,0
 100 0022 0895      		ret
 101               	/* epilogue: frame size=0 */
 102               	/* epilogue: noreturn */
 103               	/* epilogue end (size=0) */
 104               	/* function DF_EnableDataflash size 18 (18) */
 105               	.LFE23:
 107               	.global	DF_ReadBufferByte
 109               	DF_ReadBufferByte:
 110               	.LFB21:
 111               	.LM9:
 112               	/* prologue: frame size=0 */
 113 0024 0F93      		push r16
 114 0026 1F93      		push r17
 115               	/* prologue end (size=2) */
 116 0028 8C01      		movw r16,r24
 117               	.LM10:
 118 002a 80E0      		ldi r24,lo8(0)
 119 002c 0E94 0000 		call DF_EnableDataflash
 120 0030 81E0      		ldi r24,lo8(1)
 121 0032 0E94 0000 		call DF_EnableDataflash
 122               	.LM11:
 123 0036 E091 0000 		lds r30,DFSPIRoutinePointer
 124 003a F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 125 003e 84E5      		ldi r24,lo8(84)
 126 0040 0995      		icall
 127               	.LM12:
 128 0042 812F      		mov r24,r17
 129 0044 9927      		clr r25
 130 0046 E091 0000 		lds r30,DFSPIRoutinePointer
 131 004a F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 132 004e 0995      		icall
 133               	.LM13:
 134 0050 E091 0000 		lds r30,DFSPIRoutinePointer
 135 0054 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 136 0058 802F      		mov r24,r16
 137 005a 0995      		icall
 138               	.LM14:
 139 005c E091 0000 		lds r30,DFSPIRoutinePointer
 140 0060 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 141 0064 80E0      		ldi r24,lo8(0)
 142 0066 0995      		icall
 143               	.LM15:
 144 0068 E091 0000 		lds r30,DFSPIRoutinePointer
 145 006c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 146 0070 80E0      		ldi r24,lo8(0)
 147 0072 0995      		icall
 148               	.LM16:
 149 0074 9927      		clr r25
 150               	/* epilogue: frame size=0 */
 151 0076 1F91      		pop r17
 152 0078 0F91      		pop r16
 153 007a 0895      		ret
 154               	/* epilogue end (size=3) */
 155               	/* function DF_ReadBufferByte size 44 (39) */
 156               	.LFE21:
 158               	.global	DF_ContinuousReadEnable
 160               	DF_ContinuousReadEnable:
 161               	.LFB20:
 162               	.LM17:
 163               	/* prologue: frame size=0 */
 164 007c EF92      		push r14
 165 007e FF92      		push r15
 166 0080 0F93      		push r16
 167 0082 1F93      		push r17
 168               	/* prologue end (size=4) */
 169 0084 8C01      		movw r16,r24
 170 0086 7B01      		movw r14,r22
 171               	.LM18:
 172 0088 80E0      		ldi r24,lo8(0)
 173 008a 0E94 0000 		call DF_EnableDataflash
 174 008e 81E0      		ldi r24,lo8(1)
 175 0090 0E94 0000 		call DF_EnableDataflash
 176               	.LM19:
 177 0094 E091 0000 		lds r30,DFSPIRoutinePointer
 178 0098 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 179 009c 88E6      		ldi r24,lo8(104)
 180 009e 0995      		icall
 181               	.LM20:
 182 00a0 8AB5      		in r24,74-0x20
 183 00a2 9801      		movw r18,r16
 184 00a4 02C0      		rjmp 2f
 185 00a6 3695      	1:	lsr r19
 186 00a8 2795      		ror r18
 187 00aa 8A95      	2:	dec r24
 188 00ac E2F7      		brpl 1b
 189 00ae C901      		movw r24,r18
 190 00b0 E091 0000 		lds r30,DFSPIRoutinePointer
 191 00b4 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 192 00b8 0995      		icall
 193               	.LM21:
 194 00ba 8BB5      		in r24,75-0x20
 195 00bc 9801      		movw r18,r16
 196 00be 02C0      		rjmp 2f
 197 00c0 220F      	1:	lsl r18
 198 00c2 331F      		rol r19
 199 00c4 8A95      	2:	dec r24
 200 00c6 E2F7      		brpl 1b
 201 00c8 8F2D      		mov r24,r15
 202 00ca 9927      		clr r25
 203 00cc E091 0000 		lds r30,DFSPIRoutinePointer
 204 00d0 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 205 00d4 820F      		add r24,r18
 206 00d6 0995      		icall
 207               	.LM22:
 208 00d8 E091 0000 		lds r30,DFSPIRoutinePointer
 209 00dc F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 210 00e0 8E2D      		mov r24,r14
 211 00e2 0995      		icall
 212 00e4 03E0      		ldi r16,lo8(3)
 213               	.L16:
 214               	.LBB2:
 215               	.LM23:
 216 00e6 E091 0000 		lds r30,DFSPIRoutinePointer
 217 00ea F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 218 00ee 80E0      		ldi r24,lo8(0)
 219 00f0 0995      		icall
 220               	.LM24:
 221 00f2 0150      		subi r16,lo8(-(-1))
 222 00f4 07FF      		sbrs r16,7
 223 00f6 F7CF      		rjmp .L16
 224               	.LBE2:
 225               	/* epilogue: frame size=0 */
 226 00f8 1F91      		pop r17
 227 00fa 0F91      		pop r16
 228 00fc FF90      		pop r15
 229 00fe EF90      		pop r14
 230 0100 0895      		ret
 231               	/* epilogue end (size=5) */
 232               	/* function DF_ContinuousReadEnable size 69 (60) */
 233               	.LFE20:
 235               	.global	DF_BufferWriteEnable
 237               	DF_BufferWriteEnable:
 238               	.LFB19:
 239               	.LM25:
 240               	/* prologue: frame size=0 */
 241 0102 0F93      		push r16
 242 0104 1F93      		push r17
 243               	/* prologue end (size=2) */
 244 0106 8C01      		movw r16,r24
 245               	.LM26:
 246 0108 80E0      		ldi r24,lo8(0)
 247 010a 0E94 0000 		call DF_EnableDataflash
 248 010e 81E0      		ldi r24,lo8(1)
 249 0110 0E94 0000 		call DF_EnableDataflash
 250               	.LM27:
 251 0114 E091 0000 		lds r30,DFSPIRoutinePointer
 252 0118 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 253 011c 84E8      		ldi r24,lo8(-124)
 254 011e 0995      		icall
 255               	.LM28:
 256 0120 E091 0000 		lds r30,DFSPIRoutinePointer
 257 0124 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 258 0128 80E0      		ldi r24,lo8(0)
 259 012a 0995      		icall
 260               	.LM29:
 261 012c 812F      		mov r24,r17
 262 012e 9927      		clr r25
 263 0130 E091 0000 		lds r30,DFSPIRoutinePointer
 264 0134 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 265 0138 0995      		icall
 266               	.LM30:
 267 013a E091 0000 		lds r30,DFSPIRoutinePointer
 268 013e F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 269 0142 802F      		mov r24,r16
 270 0144 0995      		icall
 271               	/* epilogue: frame size=0 */
 272 0146 1F91      		pop r17
 273 0148 0F91      		pop r16
 274 014a 0895      		ret
 275               	/* epilogue end (size=3) */
 276               	/* function DF_BufferWriteEnable size 37 (32) */
 277               	.LFE19:
 279               	.global	DF_WaitWhileBusy
 281               	DF_WaitWhileBusy:
 282               	.LFB16:
 283               	.LM31:
 284               	/* prologue: frame size=0 */
 285               	/* prologue end (size=0) */
 286               	.LM32:
 287 014c 80E0      		ldi r24,lo8(0)
 288 014e 0E94 0000 		call DF_EnableDataflash
 289 0152 81E0      		ldi r24,lo8(1)
 290 0154 0E94 0000 		call DF_EnableDataflash
 291               	.LM33:
 292 0158 E091 0000 		lds r30,DFSPIRoutinePointer
 293 015c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 294 0160 87E5      		ldi r24,lo8(87)
 295 0162 0995      		icall
 296               	.L23:
 297               	.LM34:
 298 0164 E091 0000 		lds r30,DFSPIRoutinePointer
 299 0168 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 300 016c 80E0      		ldi r24,lo8(0)
 301 016e 0995      		icall
 302 0170 8823      		tst r24
 303 0172 C4F7      		brge .L23
 304               	/* epilogue: frame size=0 */
 305 0174 0895      		ret
 306               	/* epilogue end (size=1) */
 307               	/* function DF_WaitWhileBusy size 22 (21) */
 308               	.LFE16:
 310               	.global	DF_EraseBlock
 312               	DF_EraseBlock:
 313               	.LFB22:
 314               	.LM35:
 315               	/* prologue: frame size=0 */
 316 0176 0F93      		push r16
 317 0178 1F93      		push r17
 318               	/* prologue end (size=2) */
 319 017a 8C01      		movw r16,r24
 320               	.LM36:
 321 017c 80E0      		ldi r24,lo8(0)
 322 017e 0E94 0000 		call DF_EnableDataflash
 323 0182 81E0      		ldi r24,lo8(1)
 324 0184 0E94 0000 		call DF_EnableDataflash
 325               	.LM37:
 326 0188 E091 0000 		lds r30,DFSPIRoutinePointer
 327 018c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 328 0190 80E5      		ldi r24,lo8(80)
 329 0192 0995      		icall
 330               	.LM38:
 331 0194 812F      		mov r24,r17
 332 0196 9927      		clr r25
 333 0198 E091 0000 		lds r30,DFSPIRoutinePointer
 334 019c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 335 01a0 0995      		icall
 336               	.LM39:
 337 01a2 E091 0000 		lds r30,DFSPIRoutinePointer
 338 01a6 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 339 01aa 802F      		mov r24,r16
 340 01ac 0995      		icall
 341               	.LM40:
 342 01ae E091 0000 		lds r30,DFSPIRoutinePointer
 343 01b2 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 344 01b6 80E0      		ldi r24,lo8(0)
 345 01b8 0995      		icall
 346               	.LM41:
 347 01ba 0E94 0000 		call DF_WaitWhileBusy
 348               	/* epilogue: frame size=0 */
 349 01be 1F91      		pop r17
 350 01c0 0F91      		pop r16
 351 01c2 0895      		ret
 352               	/* epilogue end (size=3) */
 353               	/* function DF_EraseBlock size 39 (34) */
 354               	.LFE22:
 356               	.global	DF_CopyFlashPageToBuffer
 358               	DF_CopyFlashPageToBuffer:
 359               	.LFB18:
 360               	.LM42:
 361               	/* prologue: frame size=0 */
 362 01c4 0F93      		push r16
 363 01c6 1F93      		push r17
 364               	/* prologue end (size=2) */
 365 01c8 8C01      		movw r16,r24
 366               	.LM43:
 367 01ca 80E0      		ldi r24,lo8(0)
 368 01cc 0E94 0000 		call DF_EnableDataflash
 369 01d0 81E0      		ldi r24,lo8(1)
 370 01d2 0E94 0000 		call DF_EnableDataflash
 371               	.LM44:
 372 01d6 E091 0000 		lds r30,DFSPIRoutinePointer
 373 01da F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 374 01de 83E5      		ldi r24,lo8(83)
 375 01e0 0995      		icall
 376               	.LM45:
 377 01e2 8AB5      		in r24,74-0x20
 378 01e4 9801      		movw r18,r16
 379 01e6 02C0      		rjmp 2f
 380 01e8 3695      	1:	lsr r19
 381 01ea 2795      		ror r18
 382 01ec 8A95      	2:	dec r24
 383 01ee E2F7      		brpl 1b
 384 01f0 C901      		movw r24,r18
 385 01f2 E091 0000 		lds r30,DFSPIRoutinePointer
 386 01f6 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 387 01fa 0995      		icall
 388               	.LM46:
 389 01fc 8BB5      		in r24,75-0x20
 390 01fe 02C0      		rjmp 2f
 391 0200 000F      	1:	lsl r16
 392 0202 111F      		rol r17
 393 0204 8A95      	2:	dec r24
 394 0206 E2F7      		brpl 1b
 395 0208 C801      		movw r24,r16
 396 020a E091 0000 		lds r30,DFSPIRoutinePointer
 397 020e F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 398 0212 0995      		icall
 399               	.LM47:
 400 0214 E091 0000 		lds r30,DFSPIRoutinePointer
 401 0218 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 402 021c 80E0      		ldi r24,lo8(0)
 403 021e 0995      		icall
 404               	.LM48:
 405 0220 0E94 0000 		call DF_WaitWhileBusy
 406               	/* epilogue: frame size=0 */
 407 0224 1F91      		pop r17
 408 0226 0F91      		pop r16
 409 0228 0895      		ret
 410               	/* epilogue end (size=3) */
 411               	/* function DF_CopyFlashPageToBuffer size 53 (48) */
 412               	.LFE18:
 414               	.global	DF_CopyBufferToFlashPage
 416               	DF_CopyBufferToFlashPage:
 417               	.LFB17:
 418               	.LM49:
 419               	/* prologue: frame size=0 */
 420 022a 0F93      		push r16
 421 022c 1F93      		push r17
 422               	/* prologue end (size=2) */
 423 022e 8C01      		movw r16,r24
 424               	.LM50:
 425 0230 80E0      		ldi r24,lo8(0)
 426 0232 0E94 0000 		call DF_EnableDataflash
 427 0236 81E0      		ldi r24,lo8(1)
 428 0238 0E94 0000 		call DF_EnableDataflash
 429               	.LM51:
 430 023c E091 0000 		lds r30,DFSPIRoutinePointer
 431 0240 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 432 0244 83E8      		ldi r24,lo8(-125)
 433 0246 0995      		icall
 434               	.LM52:
 435 0248 8AB5      		in r24,74-0x20
 436 024a 9801      		movw r18,r16
 437 024c 02C0      		rjmp 2f
 438 024e 3695      	1:	lsr r19
 439 0250 2795      		ror r18
 440 0252 8A95      	2:	dec r24
 441 0254 E2F7      		brpl 1b
 442 0256 C901      		movw r24,r18
 443 0258 E091 0000 		lds r30,DFSPIRoutinePointer
 444 025c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 445 0260 0995      		icall
 446               	.LM53:
 447 0262 8BB5      		in r24,75-0x20
 448 0264 02C0      		rjmp 2f
 449 0266 000F      	1:	lsl r16
 450 0268 111F      		rol r17
 451 026a 8A95      	2:	dec r24
 452 026c E2F7      		brpl 1b
 453 026e C801      		movw r24,r16
 454 0270 E091 0000 		lds r30,DFSPIRoutinePointer
 455 0274 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 456 0278 0995      		icall
 457               	.LM54:
 458 027a E091 0000 		lds r30,DFSPIRoutinePointer
 459 027e F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 460 0282 80E0      		ldi r24,lo8(0)
 461 0284 0995      		icall
 462               	.LM55:
 463 0286 0E94 0000 		call DF_WaitWhileBusy
 464               	/* epilogue: frame size=0 */
 465 028a 1F91      		pop r17
 466 028c 0F91      		pop r16
 467 028e 0895      		ret
 468               	/* epilogue end (size=3) */
 469               	/* function DF_CopyBufferToFlashPage size 53 (48) */
 470               	.LFE17:
 472               	.global	DF_GetChipCharacteristics
 474               	DF_GetChipCharacteristics:
 475               	.LFB15:
 476               	.LM56:
 477               	/* prologue: frame size=0 */
 478               	/* prologue end (size=0) */
 479               	.LM57:
 480 0290 80E0      		ldi r24,lo8(0)
 481 0292 0E94 0000 		call DF_EnableDataflash
 482 0296 81E0      		ldi r24,lo8(1)
 483 0298 0E94 0000 		call DF_EnableDataflash
 484               	.LM58:
 485 029c E091 0000 		lds r30,DFSPIRoutinePointer
 486 02a0 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 487 02a4 87E5      		ldi r24,lo8(87)
 488 02a6 0995      		icall
 489               	.LM59:
 490 02a8 E091 0000 		lds r30,DFSPIRoutinePointer
 491 02ac F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 492 02b0 80E0      		ldi r24,lo8(0)
 493 02b2 0995      		icall
 494 02b4 9927      		clr r25
 495 02b6 8873      		andi r24,lo8(56)
 496 02b8 9070      		andi r25,hi8(56)
 497 02ba 43E0      		ldi r20,3
 498 02bc 9595      	1:	asr r25
 499 02be 8795      		ror r24
 500 02c0 4A95      		dec r20
 501 02c2 E1F7      		brne 1b
 502               	.LBB3:
 503               	.LM60:
 504 02c4 9927      		clr r25
 505 02c6 FC01      		movw r30,r24
 506 02c8 E050      		subi r30,lo8(-(DF_PageBits))
 507 02ca F040      		sbci r31,hi8(-(DF_PageBits))
 508               	/* #APP */
 509 02cc 4491      		lpm r20, Z
 510               		
 511               	/* #NOAPP */
 512               	.LBE3:
 513 02ce 4093 0000 		sts DataflashInfo,r20
 514               	.LBB4:
 515               	.LM61:
 516 02d2 9C01      		movw r18,r24
 517 02d4 280F      		add r18,r24
 518 02d6 391F      		adc r19,r25
 519 02d8 F901      		movw r30,r18
 520 02da E050      		subi r30,lo8(-(DF_PageSize))
 521 02dc F040      		sbci r31,hi8(-(DF_PageSize))
 522               	/* #APP */
 523 02de 8591      		lpm r24, Z+
 524 02e0 9491      		lpm r25, Z
 525               		
 526               	/* #NOAPP */
 527               	.LBE4:
 528 02e2 9093 0000 		sts (DataflashInfo+1)+1,r25
 529 02e6 8093 0000 		sts DataflashInfo+1,r24
 530               	.LBB5:
 531               	.LM62:
 532 02ea F901      		movw r30,r18
 533 02ec E050      		subi r30,lo8(-(DF_Pages))
 534 02ee F040      		sbci r31,hi8(-(DF_Pages))
 535               	/* #APP */
 536 02f0 8591      		lpm r24, Z+
 537 02f2 9491      		lpm r25, Z
 538               		
 539               	/* #NOAPP */
 540               	.LBE5:
 541 02f4 9093 0000 		sts (DataflashInfo+3)+1,r25
 542 02f8 8093 0000 		sts DataflashInfo+3,r24
 543               	.LM63:
 544 02fc 80E1      		ldi r24,lo8(16)
 545 02fe 841B      		sub r24,r20
 546 0300 8ABD      		out 74-0x20,r24
 547               	.LM64:
 548 0302 4850      		subi r20,lo8(-(-8))
 549 0304 4BBD      		out 75-0x20,r20
 550               	/* epilogue: frame size=0 */
 551 0306 0895      		ret
 552               	/* epilogue end (size=1) */
 553               	/* function DF_GetChipCharacteristics size 71 (70) */
 554               	.LFE15:
 556               	.global	DF_CheckCorrectOnboardChip
 558               	DF_CheckCorrectOnboardChip:
 559               	.LFB14:
 560               	.LM65:
 561               	/* prologue: frame size=0 */
 562               	/* prologue end (size=0) */
 563               	.LM66:
 564 0308 0E94 0000 		call DF_GetChipCharacteristics
 565               	.LM67:
 566 030c 8091 0000 		lds r24,DataflashInfo+3
 567 0310 9091 0000 		lds r25,(DataflashInfo+3)+1
 568 0314 8050      		subi r24,lo8(2048)
 569 0316 9840      		sbci r25,hi8(2048)
 570 0318 61F0      		breq .L35
 571               	.LM68:
 572 031a 8091 6400 		lds r24,100
 573 031e 8460      		ori r24,lo8(4)
 574 0320 8093 6400 		sts 100,r24
 575               	.LM69:
 576 0324 80E0      		ldi r24,lo8(DataFlashError)
 577 0326 90E0      		ldi r25,hi8(DataFlashError)
 578 0328 0E94 0000 		call MAIN_ShowError
 579               	.LM70:
 580 032c 80E0      		ldi r24,lo8(0)
 581 032e 90E0      		ldi r25,hi8(0)
 582 0330 0895      		ret
 583               	.L35:
 584               	.LM71:
 585 0332 81E0      		ldi r24,lo8(1)
 586 0334 90E0      		ldi r25,hi8(1)
 587               	.LM72:
 588 0336 0895      		ret
 589               	/* epilogue: frame size=0 */
 590               	/* epilogue: noreturn */
 591               	/* epilogue end (size=0) */
 592               	/* function DF_CheckCorrectOnboardChip size 25 (25) */
 593               	.LFE14:
 595               		.comm DataflashInfo,5,1
 596               		.comm CurrPageAddress,2,1
 597               		.comm CurrBuffByte,2,1
 598               		.comm UseExernalDF,1,1
 599               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 Dataflash.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:22     .data:00000000 DFSPIRoutinePointer
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:28     .progmem.data:00000000 DataFlashError
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:33     .progmem.data:00000010 DF_Pages
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:45     .progmem.data:00000020 DF_PageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:57     .progmem.data:00000030 DF_PageBits
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:69     .text:00000000 DF_EnableDataflash
                            *COM*:00000001 UseExernalDF
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:109    .text:00000024 DF_ReadBufferByte
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:160    .text:0000007c DF_ContinuousReadEnable
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:237    .text:00000102 DF_BufferWriteEnable
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:281    .text:0000014c DF_WaitWhileBusy
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:312    .text:00000176 DF_EraseBlock
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:358    .text:000001c4 DF_CopyFlashPageToBuffer
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:416    .text:0000022a DF_CopyBufferToFlashPage
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:474    .text:00000290 DF_GetChipCharacteristics
                            *COM*:00000005 DataflashInfo
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccyQaaaa.s:558    .text:00000308 DF_CheckCorrectOnboardChip
                            *COM*:00000002 CurrPageAddress
                            *COM*:00000002 CurrBuffByte

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
SPI_SPITransmit
MAIN_ResetCSLine
MAIN_ShowError
