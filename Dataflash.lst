   1               		.file	"Dataflash.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	DFSPIRoutinePointer
  19               		.data
  22               	DFSPIRoutinePointer:
  23 0000 0000      		.word	pm(SPI_SPITransmit)
  24               	.global	DataFlashError
  25               		.section	.progmem.data,"a",@progbits
  28               	DataFlashError:
  29 0000 4441 5441 		.string	"DATAFLASH ERROR"
  29      464C 4153 
  29      4820 4552 
  29      524F 5200 
  30               	.global	DF_Pages
  33               	DF_Pages:
  34 0010 F900      		.word	249
  35 0012 F101      		.word	497
  36 0014 E103      		.word	993
  37 0016 103E      		.word	15888
  38 0018 840F      		.word	3972
  39 001a 840F      		.word	3972
  40 001c 081F      		.word	7944
  41 001e 081F      		.word	7944
  42               	.global	DF_PageSize
  45               	DF_PageSize:
  46 0020 0801      		.word	264
  47 0022 0801      		.word	264
  48 0024 0801      		.word	264
  49 0026 0801      		.word	264
  50 0028 0801      		.word	264
  51 002a 1002      		.word	528
  52 002c 1002      		.word	528
  53 002e 2004      		.word	1056
  54               	.global	DF_PageBits
  57               	DF_PageBits:
  58 0030 09        		.byte	9
  59 0031 09        		.byte	9
  60 0032 09        		.byte	9
  61 0033 09        		.byte	9
  62 0034 09        		.byte	9
  63 0035 0A        		.byte	10
  64 0036 0A        		.byte	10
  65 0037 0B        		.byte	11
  66               		.text
  67               	.global	DF_EnableDataflash
  69               	DF_EnableDataflash:
  70               	.LFB16:
  71               	.LM1:
  72               	/* prologue: frame size=0 */
  73               	/* prologue end (size=0) */
  74 0000 9091 0000 		lds r25,UseExernalDF
  75               	.LM2:
  76 0004 8130      		cpi r24,lo8(1)
  77 0006 31F4      		brne .L2
  78               	.LM3:
  79 0008 9130      		cpi r25,lo8(1)
  80 000a 11F4      		brne .L3
  81               	.LM4:
  82 000c 82E0      		ldi r24,lo8(2)
  83 000e 05C0      		rjmp .L8
  84               	.L3:
  85               	.LM5:
  86 0010 2898      		cbi 37-0x20,0
  87 0012 0895      		ret
  88               	.L2:
  89               	.LM6:
  90 0014 9130      		cpi r25,lo8(1)
  91 0016 21F4      		brne .L6
  92               	.LM7:
  93 0018 892F      		mov r24,r25
  94               	.L8:
  95 001a 0E94 0000 		call MAIN_ResetCSLine
  96 001e 0895      		ret
  97               	.L6:
  98               	.LM8:
  99 0020 289A      		sbi 37-0x20,0
 100 0022 0895      		ret
 101               	/* epilogue: frame size=0 */
 102               	/* epilogue: noreturn */
 103               	/* epilogue end (size=0) */
 104               	/* function DF_EnableDataflash size 18 (18) */
 105               	.LFE16:
 107               	.global	DF_ReadBufferByte
 109               	DF_ReadBufferByte:
 110               	.LFB14:
 111               	.LM9:
 112               	/* prologue: frame size=0 */
 113 0024 0F93      		push r16
 114 0026 1F93      		push r17
 115               	/* prologue end (size=2) */
 116 0028 8C01      		movw r16,r24
 117               	.LM10:
 118 002a 80E0      		ldi r24,lo8(0)
 119 002c 0E94 0000 		call DF_EnableDataflash
 120               	/* #APP */
 121 0030 0000      		nop
 122               	/* #NOAPP */
 123 0032 81E0      		ldi r24,lo8(1)
 124 0034 0E94 0000 		call DF_EnableDataflash
 125               	.LM11:
 126 0038 E091 0000 		lds r30,DFSPIRoutinePointer
 127 003c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 128 0040 84E5      		ldi r24,lo8(84)
 129 0042 0995      		icall
 130               	.LM12:
 131 0044 812F      		mov r24,r17
 132 0046 9927      		clr r25
 133 0048 E091 0000 		lds r30,DFSPIRoutinePointer
 134 004c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 135 0050 0995      		icall
 136               	.LM13:
 137 0052 E091 0000 		lds r30,DFSPIRoutinePointer
 138 0056 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 139 005a 802F      		mov r24,r16
 140 005c 0995      		icall
 141               	.LM14:
 142 005e E091 0000 		lds r30,DFSPIRoutinePointer
 143 0062 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 144 0066 80E0      		ldi r24,lo8(0)
 145 0068 0995      		icall
 146               	.LM15:
 147 006a E091 0000 		lds r30,DFSPIRoutinePointer
 148 006e F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 149 0072 80E0      		ldi r24,lo8(0)
 150 0074 0995      		icall
 151               	.LM16:
 152 0076 9927      		clr r25
 153               	/* epilogue: frame size=0 */
 154 0078 1F91      		pop r17
 155 007a 0F91      		pop r16
 156 007c 0895      		ret
 157               	/* epilogue end (size=3) */
 158               	/* function DF_ReadBufferByte size 46 (41) */
 159               	.LFE14:
 161               	.global	DF_ContinuousReadEnable
 163               	DF_ContinuousReadEnable:
 164               	.LFB13:
 165               	.LM17:
 166               	/* prologue: frame size=0 */
 167 007e EF92      		push r14
 168 0080 FF92      		push r15
 169 0082 0F93      		push r16
 170 0084 1F93      		push r17
 171               	/* prologue end (size=4) */
 172 0086 8C01      		movw r16,r24
 173 0088 7B01      		movw r14,r22
 174               	.LM18:
 175 008a 80E0      		ldi r24,lo8(0)
 176 008c 0E94 0000 		call DF_EnableDataflash
 177               	/* #APP */
 178 0090 0000      		nop
 179               	/* #NOAPP */
 180 0092 81E0      		ldi r24,lo8(1)
 181 0094 0E94 0000 		call DF_EnableDataflash
 182               	.LM19:
 183 0098 E091 0000 		lds r30,DFSPIRoutinePointer
 184 009c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 185 00a0 88E6      		ldi r24,lo8(104)
 186 00a2 0995      		icall
 187               	.LM20:
 188 00a4 8AB5      		in r24,74-0x20
 189 00a6 9801      		movw r18,r16
 190 00a8 02C0      		rjmp 2f
 191 00aa 3695      	1:	lsr r19
 192 00ac 2795      		ror r18
 193 00ae 8A95      	2:	dec r24
 194 00b0 E2F7      		brpl 1b
 195 00b2 C901      		movw r24,r18
 196 00b4 E091 0000 		lds r30,DFSPIRoutinePointer
 197 00b8 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 198 00bc 0995      		icall
 199               	.LM21:
 200 00be 8BB5      		in r24,75-0x20
 201 00c0 02C0      		rjmp 2f
 202 00c2 000F      	1:	lsl r16
 203 00c4 111F      		rol r17
 204 00c6 8A95      	2:	dec r24
 205 00c8 E2F7      		brpl 1b
 206 00ca 8F2D      		mov r24,r15
 207 00cc 9927      		clr r25
 208 00ce E091 0000 		lds r30,DFSPIRoutinePointer
 209 00d2 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 210 00d6 800F      		add r24,r16
 211 00d8 0995      		icall
 212               	.LM22:
 213 00da E091 0000 		lds r30,DFSPIRoutinePointer
 214 00de F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 215 00e2 8E2D      		mov r24,r14
 216 00e4 0995      		icall
 217 00e6 03E0      		ldi r16,lo8(3)
 218               	.L14:
 219               	.LBB2:
 220               	.LM23:
 221 00e8 E091 0000 		lds r30,DFSPIRoutinePointer
 222 00ec F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 223 00f0 80E0      		ldi r24,lo8(0)
 224 00f2 0995      		icall
 225               	.LM24:
 226 00f4 0150      		subi r16,lo8(-(-1))
 227 00f6 07FF      		sbrs r16,7
 228 00f8 F7CF      		rjmp .L14
 229               	.LBE2:
 230               	/* epilogue: frame size=0 */
 231 00fa 1F91      		pop r17
 232 00fc 0F91      		pop r16
 233 00fe FF90      		pop r15
 234 0100 EF90      		pop r14
 235 0102 0895      		ret
 236               	/* epilogue end (size=5) */
 237               	/* function DF_ContinuousReadEnable size 70 (61) */
 238               	.LFE13:
 240               	.global	DF_BufferWriteEnable
 242               	DF_BufferWriteEnable:
 243               	.LFB12:
 244               	.LM25:
 245               	/* prologue: frame size=0 */
 246 0104 0F93      		push r16
 247 0106 1F93      		push r17
 248               	/* prologue end (size=2) */
 249 0108 8C01      		movw r16,r24
 250               	.LM26:
 251 010a 80E0      		ldi r24,lo8(0)
 252 010c 0E94 0000 		call DF_EnableDataflash
 253               	/* #APP */
 254 0110 0000      		nop
 255               	/* #NOAPP */
 256 0112 81E0      		ldi r24,lo8(1)
 257 0114 0E94 0000 		call DF_EnableDataflash
 258               	.LM27:
 259 0118 E091 0000 		lds r30,DFSPIRoutinePointer
 260 011c F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 261 0120 84E8      		ldi r24,lo8(-124)
 262 0122 0995      		icall
 263               	.LM28:
 264 0124 E091 0000 		lds r30,DFSPIRoutinePointer
 265 0128 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 266 012c 80E0      		ldi r24,lo8(0)
 267 012e 0995      		icall
 268               	.LM29:
 269 0130 812F      		mov r24,r17
 270 0132 9927      		clr r25
 271 0134 E091 0000 		lds r30,DFSPIRoutinePointer
 272 0138 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 273 013c 0995      		icall
 274               	.LM30:
 275 013e E091 0000 		lds r30,DFSPIRoutinePointer
 276 0142 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 277 0146 802F      		mov r24,r16
 278 0148 0995      		icall
 279               	/* epilogue: frame size=0 */
 280 014a 1F91      		pop r17
 281 014c 0F91      		pop r16
 282 014e 0895      		ret
 283               	/* epilogue end (size=3) */
 284               	/* function DF_BufferWriteEnable size 39 (34) */
 285               	.LFE12:
 287               	.global	DF_GetChipCharacteristics
 289               	DF_GetChipCharacteristics:
 290               	.LFB9:
 291               	.LM31:
 292               	/* prologue: frame size=0 */
 293               	/* prologue end (size=0) */
 294               	.LM32:
 295 0150 80E0      		ldi r24,lo8(0)
 296 0152 0E94 0000 		call DF_EnableDataflash
 297               	/* #APP */
 298 0156 0000      		nop
 299               	/* #NOAPP */
 300 0158 81E0      		ldi r24,lo8(1)
 301 015a 0E94 0000 		call DF_EnableDataflash
 302               	.LM33:
 303 015e E091 0000 		lds r30,DFSPIRoutinePointer
 304 0162 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 305 0166 87E5      		ldi r24,lo8(87)
 306 0168 0995      		icall
 307               	.LM34:
 308 016a E091 0000 		lds r30,DFSPIRoutinePointer
 309 016e F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 310 0172 80E0      		ldi r24,lo8(0)
 311 0174 0995      		icall
 312               	.LM35:
 313 0176 682F      		mov r22,r24
 314 0178 7727      		clr r23
 315 017a CB01      		movw r24,r22
 316 017c 8873      		andi r24,lo8(56)
 317 017e 9070      		andi r25,hi8(56)
 318 0180 33E0      		ldi r19,3
 319 0182 9595      	1:	asr r25
 320 0184 8795      		ror r24
 321 0186 3A95      		dec r19
 322 0188 E1F7      		brne 1b
 323               	.LBB3:
 324               	.LM36:
 325 018a 9927      		clr r25
 326 018c FC01      		movw r30,r24
 327 018e E050      		subi r30,lo8(-(DF_PageBits))
 328 0190 F040      		sbci r31,hi8(-(DF_PageBits))
 329               	/* #APP */
 330 0192 4491      		lpm r20, Z
 331               		
 332               	/* #NOAPP */
 333               	.LBE3:
 334 0194 4093 0000 		sts DataflashInfo,r20
 335               	.LBB4:
 336               	.LM37:
 337 0198 9C01      		movw r18,r24
 338 019a 280F      		add r18,r24
 339 019c 391F      		adc r19,r25
 340 019e F901      		movw r30,r18
 341 01a0 E050      		subi r30,lo8(-(DF_PageSize))
 342 01a2 F040      		sbci r31,hi8(-(DF_PageSize))
 343               	/* #APP */
 344 01a4 8591      		lpm r24, Z+
 345 01a6 9491      		lpm r25, Z
 346               		
 347               	/* #NOAPP */
 348               	.LBE4:
 349 01a8 9093 0000 		sts (DataflashInfo+1)+1,r25
 350 01ac 8093 0000 		sts DataflashInfo+1,r24
 351               	.LBB5:
 352               	.LM38:
 353 01b0 F901      		movw r30,r18
 354 01b2 E050      		subi r30,lo8(-(DF_Pages))
 355 01b4 F040      		sbci r31,hi8(-(DF_Pages))
 356               	/* #APP */
 357 01b6 8591      		lpm r24, Z+
 358 01b8 9491      		lpm r25, Z
 359               		
 360               	/* #NOAPP */
 361               	.LBE5:
 362 01ba 9093 0000 		sts (DataflashInfo+3)+1,r25
 363 01be 8093 0000 		sts DataflashInfo+3,r24
 364               	.LM39:
 365 01c2 80E1      		ldi r24,lo8(16)
 366 01c4 841B      		sub r24,r20
 367 01c6 8ABD      		out 74-0x20,r24
 368               	.LM40:
 369 01c8 4850      		subi r20,lo8(-(-8))
 370 01ca 4BBD      		out 75-0x20,r20
 371               	.LM41:
 372 01cc CB01      		movw r24,r22
 373               	/* epilogue: frame size=0 */
 374 01ce 0895      		ret
 375               	/* epilogue end (size=1) */
 376               	/* function DF_GetChipCharacteristics size 76 (75) */
 377               	.LFE9:
 379               	.global	DF_ErasePage
 381               	DF_ErasePage:
 382               	.LFB15:
 383               	.LM42:
 384               	/* prologue: frame size=0 */
 385 01d0 0F93      		push r16
 386 01d2 1F93      		push r17
 387               	/* prologue end (size=2) */
 388 01d4 8C01      		movw r16,r24
 389               	.LM43:
 390 01d6 80E0      		ldi r24,lo8(0)
 391 01d8 0E94 0000 		call DF_EnableDataflash
 392               	/* #APP */
 393 01dc 0000      		nop
 394               	/* #NOAPP */
 395 01de 81E0      		ldi r24,lo8(1)
 396 01e0 0E94 0000 		call DF_EnableDataflash
 397               	.LM44:
 398 01e4 E091 0000 		lds r30,DFSPIRoutinePointer
 399 01e8 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 400 01ec 81E8      		ldi r24,lo8(-127)
 401 01ee 0995      		icall
 402               	.LM45:
 403 01f0 8AB5      		in r24,74-0x20
 404 01f2 9801      		movw r18,r16
 405 01f4 02C0      		rjmp 2f
 406 01f6 3695      	1:	lsr r19
 407 01f8 2795      		ror r18
 408 01fa 8A95      	2:	dec r24
 409 01fc E2F7      		brpl 1b
 410 01fe C901      		movw r24,r18
 411 0200 E091 0000 		lds r30,DFSPIRoutinePointer
 412 0204 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 413 0208 0995      		icall
 414               	.LM46:
 415 020a 8BB5      		in r24,75-0x20
 416 020c 02C0      		rjmp 2f
 417 020e 000F      	1:	lsl r16
 418 0210 111F      		rol r17
 419 0212 8A95      	2:	dec r24
 420 0214 E2F7      		brpl 1b
 421 0216 E091 0000 		lds r30,DFSPIRoutinePointer
 422 021a F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 423 021e 802F      		mov r24,r16
 424 0220 0995      		icall
 425               	.LM47:
 426 0222 E091 0000 		lds r30,DFSPIRoutinePointer
 427 0226 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 428 022a 80E0      		ldi r24,lo8(0)
 429 022c 0995      		icall
 430               	.L20:
 431               	.LM48:
 432 022e 0E94 0000 		call DF_GetChipCharacteristics
 433 0232 8823      		tst r24
 434 0234 E4F7      		brge .L20
 435               	/* epilogue: frame size=0 */
 436 0236 1F91      		pop r17
 437 0238 0F91      		pop r16
 438 023a 0895      		ret
 439               	/* epilogue end (size=3) */
 440               	/* function DF_ErasePage size 58 (53) */
 441               	.LFE15:
 443               	.global	DF_CopyFlashPageToBuffer
 445               	DF_CopyFlashPageToBuffer:
 446               	.LFB11:
 447               	.LM49:
 448               	/* prologue: frame size=0 */
 449 023c 0F93      		push r16
 450 023e 1F93      		push r17
 451               	/* prologue end (size=2) */
 452 0240 8C01      		movw r16,r24
 453               	.LM50:
 454 0242 80E0      		ldi r24,lo8(0)
 455 0244 0E94 0000 		call DF_EnableDataflash
 456               	/* #APP */
 457 0248 0000      		nop
 458               	/* #NOAPP */
 459 024a 81E0      		ldi r24,lo8(1)
 460 024c 0E94 0000 		call DF_EnableDataflash
 461               	.LM51:
 462 0250 E091 0000 		lds r30,DFSPIRoutinePointer
 463 0254 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 464 0258 83E5      		ldi r24,lo8(83)
 465 025a 0995      		icall
 466               	.LM52:
 467 025c 8AB5      		in r24,74-0x20
 468 025e 9801      		movw r18,r16
 469 0260 02C0      		rjmp 2f
 470 0262 3695      	1:	lsr r19
 471 0264 2795      		ror r18
 472 0266 8A95      	2:	dec r24
 473 0268 E2F7      		brpl 1b
 474 026a C901      		movw r24,r18
 475 026c E091 0000 		lds r30,DFSPIRoutinePointer
 476 0270 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 477 0274 0995      		icall
 478               	.LM53:
 479 0276 8BB5      		in r24,75-0x20
 480 0278 02C0      		rjmp 2f
 481 027a 000F      	1:	lsl r16
 482 027c 111F      		rol r17
 483 027e 8A95      	2:	dec r24
 484 0280 E2F7      		brpl 1b
 485 0282 E091 0000 		lds r30,DFSPIRoutinePointer
 486 0286 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 487 028a 802F      		mov r24,r16
 488 028c 0995      		icall
 489               	.LM54:
 490 028e E091 0000 		lds r30,DFSPIRoutinePointer
 491 0292 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 492 0296 80E0      		ldi r24,lo8(0)
 493 0298 0995      		icall
 494               	.L24:
 495               	.LM55:
 496 029a 0E94 0000 		call DF_GetChipCharacteristics
 497 029e 8823      		tst r24
 498 02a0 E4F7      		brge .L24
 499               	/* epilogue: frame size=0 */
 500 02a2 1F91      		pop r17
 501 02a4 0F91      		pop r16
 502 02a6 0895      		ret
 503               	/* epilogue end (size=3) */
 504               	/* function DF_CopyFlashPageToBuffer size 58 (53) */
 505               	.LFE11:
 507               	.global	DF_CopyBufferToFlashPage
 509               	DF_CopyBufferToFlashPage:
 510               	.LFB10:
 511               	.LM56:
 512               	/* prologue: frame size=0 */
 513 02a8 0F93      		push r16
 514 02aa 1F93      		push r17
 515               	/* prologue end (size=2) */
 516 02ac 8C01      		movw r16,r24
 517               	.LM57:
 518 02ae 80E0      		ldi r24,lo8(0)
 519 02b0 0E94 0000 		call DF_EnableDataflash
 520               	/* #APP */
 521 02b4 0000      		nop
 522               	/* #NOAPP */
 523 02b6 81E0      		ldi r24,lo8(1)
 524 02b8 0E94 0000 		call DF_EnableDataflash
 525               	.LM58:
 526 02bc E091 0000 		lds r30,DFSPIRoutinePointer
 527 02c0 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 528 02c4 83E8      		ldi r24,lo8(-125)
 529 02c6 0995      		icall
 530               	.LM59:
 531 02c8 8AB5      		in r24,74-0x20
 532 02ca 9801      		movw r18,r16
 533 02cc 02C0      		rjmp 2f
 534 02ce 3695      	1:	lsr r19
 535 02d0 2795      		ror r18
 536 02d2 8A95      	2:	dec r24
 537 02d4 E2F7      		brpl 1b
 538 02d6 C901      		movw r24,r18
 539 02d8 E091 0000 		lds r30,DFSPIRoutinePointer
 540 02dc F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 541 02e0 0995      		icall
 542               	.LM60:
 543 02e2 8BB5      		in r24,75-0x20
 544 02e4 02C0      		rjmp 2f
 545 02e6 000F      	1:	lsl r16
 546 02e8 111F      		rol r17
 547 02ea 8A95      	2:	dec r24
 548 02ec E2F7      		brpl 1b
 549 02ee E091 0000 		lds r30,DFSPIRoutinePointer
 550 02f2 F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 551 02f6 802F      		mov r24,r16
 552 02f8 0995      		icall
 553               	.LM61:
 554 02fa E091 0000 		lds r30,DFSPIRoutinePointer
 555 02fe F091 0000 		lds r31,(DFSPIRoutinePointer)+1
 556 0302 80E0      		ldi r24,lo8(0)
 557 0304 0995      		icall
 558               	.L28:
 559               	.LM62:
 560 0306 0E94 0000 		call DF_GetChipCharacteristics
 561 030a 8823      		tst r24
 562 030c E4F7      		brge .L28
 563               	/* epilogue: frame size=0 */
 564 030e 1F91      		pop r17
 565 0310 0F91      		pop r16
 566 0312 0895      		ret
 567               	/* epilogue end (size=3) */
 568               	/* function DF_CopyBufferToFlashPage size 58 (53) */
 569               	.LFE10:
 571               	.global	DF_CheckCorrectOnboardChip
 573               	DF_CheckCorrectOnboardChip:
 574               	.LFB8:
 575               	.LM63:
 576               	/* prologue: frame size=0 */
 577               	/* prologue end (size=0) */
 578               	.LM64:
 579 0314 0E94 0000 		call DF_GetChipCharacteristics
 580               	.LM65:
 581 0318 8091 0000 		lds r24,DataflashInfo
 582 031c 8930      		cpi r24,lo8(9)
 583 031e 61F0      		breq .L32
 584               	.LM66:
 585 0320 8091 6400 		lds r24,100
 586 0324 8460      		ori r24,lo8(4)
 587 0326 8093 6400 		sts 100,r24
 588               	.LM67:
 589 032a 80E0      		ldi r24,lo8(DataFlashError)
 590 032c 90E0      		ldi r25,hi8(DataFlashError)
 591 032e 0E94 0000 		call MAIN_ShowError
 592               	.LM68:
 593 0332 80E0      		ldi r24,lo8(0)
 594 0334 90E0      		ldi r25,hi8(0)
 595 0336 0895      		ret
 596               	.L32:
 597               	.LM69:
 598 0338 81E0      		ldi r24,lo8(1)
 599 033a 90E0      		ldi r25,hi8(1)
 600               	.LM70:
 601 033c 0895      		ret
 602               	/* epilogue: frame size=0 */
 603               	/* epilogue: noreturn */
 604               	/* epilogue end (size=0) */
 605               	/* function DF_CheckCorrectOnboardChip size 21 (21) */
 606               	.LFE8:
 608               		.comm DataflashInfo,5,1
 609               		.comm CurrPageAddress,2,1
 610               		.comm CurrBuffByte,2,1
 611               		.comm UseExernalDF,1,1
 612               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 Dataflash.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:22     .data:00000000 DFSPIRoutinePointer
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:28     .progmem.data:00000000 DataFlashError
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:33     .progmem.data:00000010 DF_Pages
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:45     .progmem.data:00000020 DF_PageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:57     .progmem.data:00000030 DF_PageBits
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:69     .text:00000000 DF_EnableDataflash
                            *COM*:00000001 UseExernalDF
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:109    .text:00000024 DF_ReadBufferByte
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:163    .text:0000007e DF_ContinuousReadEnable
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:242    .text:00000104 DF_BufferWriteEnable
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:289    .text:00000150 DF_GetChipCharacteristics
                            *COM*:00000005 DataflashInfo
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:381    .text:000001d0 DF_ErasePage
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:445    .text:0000023c DF_CopyFlashPageToBuffer
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:509    .text:000002a8 DF_CopyBufferToFlashPage
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEVaaaa.s:573    .text:00000314 DF_CheckCorrectOnboardChip
                            *COM*:00000002 CurrPageAddress
                            *COM*:00000002 CurrBuffByte

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
SPI_SPITransmit
MAIN_ResetCSLine
MAIN_ShowError
