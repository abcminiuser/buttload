   1               		.file	"V2Protocol.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	V2P_GetChecksum
  20               	V2P_GetChecksum:
  21               	.LFB16:
  22               	.LM1:
  23               	/* prologue: frame size=0 */
  24               	/* prologue end (size=0) */
  25               	.LM2:
  26 0000 9091 0000 		lds r25,SequenceNum
  27               	.LVL0:
  28 0004 8BE1      		ldi r24,lo8(27)
  29 0006 9827      		eor r25,r24
  30               	.LM3:
  31 0008 4091 0000 		lds r20,MessageSize
  32 000c 5091 0000 		lds r21,(MessageSize)+1
  33 0010 9427      		eor r25,r20
  34               	.LM4:
  35 0012 252F      		mov r18,r21
  36 0014 3327      		clr r19
  37 0016 8EE0      		ldi r24,lo8(14)
  38 0018 8227      		eor r24,r18
  39               	.LM5:
  40 001a 9827      		eor r25,r24
  41 001c 20E0      		ldi r18,lo8(0)
  42 001e 30E0      		ldi r19,hi8(0)
  43               	.LVL1:
  44 0020 E0E0      		ldi r30,lo8(PacketBytes)
  45 0022 F0E0      		ldi r31,hi8(PacketBytes)
  46 0024 00C0      		rjmp .L2
  47               	.L3:
  48               	.LBB14:
  49               	.LM6:
  50 0026 8191      		ld r24,Z+
  51 0028 9827      		eor r25,r24
  52               	.LM7:
  53 002a 2F5F      		subi r18,lo8(-(1))
  54 002c 3F4F      		sbci r19,hi8(-(1))
  55               	.L2:
  56 002e 2417      		cp r18,r20
  57 0030 3507      		cpc r19,r21
  58 0032 01F4      		brne .L3
  59               	.LBE14:
  60               	.LM8:
  61 0034 892F      		mov r24,r25
  62 0036 9927      		clr r25
  63               	/* epilogue: frame size=0 */
  64 0038 0895      		ret
  65               	/* epilogue end (size=1) */
  66               	/* function V2P_GetChecksum size 29 (28) */
  67               	.LFE16:
  69               	.global	V2P_IncrementCurrAddress
  71               	V2P_IncrementCurrAddress:
  72               	.LFB18:
  73               	.LM9:
  74               	/* prologue: frame size=0 */
  75               	/* prologue end (size=0) */
  76               	.LM10:
  77 003a 8091 0000 		lds r24,CurrAddress
  78 003e 9091 0000 		lds r25,(CurrAddress)+1
  79 0042 A091 0000 		lds r26,(CurrAddress)+2
  80 0046 B091 0000 		lds r27,(CurrAddress)+3
  81 004a 0196      		adiw r24,1
  82 004c A11D      		adc r26,__zero_reg__
  83 004e B11D      		adc r27,__zero_reg__
  84 0050 8093 0000 		sts CurrAddress,r24
  85 0054 9093 0000 		sts (CurrAddress)+1,r25
  86 0058 A093 0000 		sts (CurrAddress)+2,r26
  87 005c B093 0000 		sts (CurrAddress)+3,r27
  88               	/* epilogue: frame size=0 */
  89 0060 0895      		ret
  90               	/* epilogue end (size=1) */
  91               	/* function V2P_IncrementCurrAddress size 20 (19) */
  92               	.LFE18:
  94               	.global	V2P_CheckForExtendedAddress
  96               	V2P_CheckForExtendedAddress:
  97               	.LFB19:
  98               	.LM11:
  99               	/* prologue: frame size=0 */
 100               	/* prologue end (size=0) */
 101               	.LM12:
 102 0062 8091 0000 		lds r24,CurrAddress
 103 0066 9091 0000 		lds r25,(CurrAddress)+1
 104 006a A091 0000 		lds r26,(CurrAddress)+2
 105 006e B091 0000 		lds r27,(CurrAddress)+3
 106 0072 B7FF      		sbrs r27,7
 107 0074 00C0      		rjmp .L11
 108               	.LM13:
 109 0076 8DE4      		ldi r24,lo8(77)
 110 0078 0E94 0000 		call USI_SPITransmit
 111               	.LM14:
 112 007c 80E0      		ldi r24,lo8(0)
 113 007e 0E94 0000 		call USI_SPITransmit
 114               	.LM15:
 115 0082 8091 0000 		lds r24,CurrAddress+2
 116 0086 0E94 0000 		call USI_SPITransmit
 117               	.LM16:
 118 008a 80E0      		ldi r24,lo8(0)
 119 008c 0E94 0000 		call USI_SPITransmit
 120               	.LM17:
 121 0090 8091 0000 		lds r24,CurrAddress
 122 0094 9091 0000 		lds r25,(CurrAddress)+1
 123 0098 A091 0000 		lds r26,(CurrAddress)+2
 124 009c B091 0000 		lds r27,(CurrAddress)+3
 125 00a0 BF77      		andi r27,hhi8(2147483647)
 126 00a2 8093 0000 		sts CurrAddress,r24
 127 00a6 9093 0000 		sts (CurrAddress)+1,r25
 128 00aa A093 0000 		sts (CurrAddress)+2,r26
 129 00ae B093 0000 		sts (CurrAddress)+3,r27
 130               	.L11:
 131 00b2 0895      		ret
 132               	/* epilogue: frame size=0 */
 133               	/* epilogue: noreturn */
 134               	/* epilogue end (size=0) */
 135               	/* function V2P_CheckForExtendedAddress size 41 (41) */
 136               	.LFE19:
 138               	.global	V2P_SendPacket
 140               	V2P_SendPacket:
 141               	.LFB15:
 142               	.LM18:
 143               	/* prologue: frame size=0 */
 144 00b4 0F93      		push r16
 145 00b6 1F93      		push r17
 146 00b8 CF93      		push r28
 147 00ba DF93      		push r29
 148               	/* prologue end (size=4) */
 149               	.LM19:
 150 00bc 8BE1      		ldi r24,lo8(27)
 151 00be 0E94 0000 		call USART_Tx
 152               	.LM20:
 153 00c2 8091 0000 		lds r24,SequenceNum
 154 00c6 0E94 0000 		call USART_Tx
 155               	.LM21:
 156 00ca 8091 0000 		lds r24,MessageSize+1
 157 00ce 0E94 0000 		call USART_Tx
 158               	.LM22:
 159 00d2 8091 0000 		lds r24,MessageSize
 160 00d6 0E94 0000 		call USART_Tx
 161               	.LM23:
 162 00da 8EE0      		ldi r24,lo8(14)
 163 00dc 0E94 0000 		call USART_Tx
 164 00e0 C0E0      		ldi r28,lo8(0)
 165 00e2 D0E0      		ldi r29,hi8(0)
 166               	.LVL2:
 167 00e4 00E0      		ldi r16,lo8(PacketBytes)
 168 00e6 10E0      		ldi r17,hi8(PacketBytes)
 169 00e8 00C0      		rjmp .L13
 170               	.L14:
 171               	.LBB15:
 172               	.LM24:
 173 00ea F801      		movw r30,r16
 174 00ec 8191      		ld r24,Z+
 175 00ee 8F01      		movw r16,r30
 176 00f0 0E94 0000 		call USART_Tx
 177               	.LM25:
 178 00f4 2196      		adiw r28,1
 179               	.L13:
 180 00f6 8091 0000 		lds r24,MessageSize
 181 00fa 9091 0000 		lds r25,(MessageSize)+1
 182 00fe C817      		cp r28,r24
 183 0100 D907      		cpc r29,r25
 184 0102 00F0      		brlo .L14
 185               	.LBE15:
 186               	.LM26:
 187 0104 0E94 0000 		call V2P_GetChecksum
 188 0108 0E94 0000 		call USART_Tx
 189               	.LM27:
 190 010c 8091 0000 		lds r24,SequenceNum
 191 0110 9091 0000 		lds r25,(SequenceNum)+1
 192 0114 0196      		adiw r24,1
 193 0116 9093 0000 		sts (SequenceNum)+1,r25
 194 011a 8093 0000 		sts SequenceNum,r24
 195               	/* epilogue: frame size=0 */
 196 011e DF91      		pop r29
 197 0120 CF91      		pop r28
 198 0122 1F91      		pop r17
 199 0124 0F91      		pop r16
 200 0126 0895      		ret
 201               	/* epilogue end (size=5) */
 202               	/* function V2P_SendPacket size 58 (49) */
 203               	.LFE15:
 205               	.global	V2P_GetSetParamater
 207               	V2P_GetSetParamater:
 208               	.LFB17:
 209               	.LM28:
 210               	/* prologue: frame size=0 */
 211               	/* prologue end (size=0) */
 212               	.LM29:
 213 0128 2091 0000 		lds r18,PacketBytes+1
 214               	.LVL3:
 215               	.LM30:
 216 012c 83E0      		ldi r24,lo8(3)
 217 012e 90E0      		ldi r25,hi8(3)
 218 0130 9093 0000 		sts (MessageSize)+1,r25
 219 0134 8093 0000 		sts MessageSize,r24
 220               	.LM31:
 221 0138 1092 0000 		sts PacketBytes+1,__zero_reg__
 222               	.LM32:
 223 013c 2839      		cpi r18,lo8(-104)
 224 013e 00F4      		brsh .L28
 225               	.LM33:
 226 0140 2639      		cpi r18,lo8(-106)
 227 0142 00F0      		brlo .+2
 228 0144 00C0      		rjmp .L24
 229 0146 2039      		cpi r18,lo8(-112)
 230 0148 01F0      		breq .L22
 231 014a 2139      		cpi r18,lo8(-111)
 232 014c 00F4      		brsh .L29
 233 014e 2038      		cpi r18,lo8(-128)
 234 0150 01F0      		breq .L19
 235 0152 2138      		cpi r18,lo8(-127)
 236 0154 01F0      		breq .+2
 237 0156 00C0      		rjmp .L18
 238 0158 00C0      		rjmp .L20
 239               	.L29:
 240 015a 2139      		cpi r18,lo8(-111)
 241 015c 01F0      		breq .L22
 242 015e 2239      		cpi r18,lo8(-110)
 243 0160 01F0      		breq .+2
 244 0162 00C0      		rjmp .L18
 245 0164 00C0      		rjmp .L23
 246               	.L28:
 247 0166 2A39      		cpi r18,lo8(-102)
 248 0168 01F4      		brne .+2
 249 016a 00C0      		rjmp .L24
 250 016c 2B39      		cpi r18,lo8(-101)
 251 016e 00F4      		brsh .L30
 252 0170 2839      		cpi r18,lo8(-104)
 253 0172 01F0      		breq .+2
 254 0174 00C0      		rjmp .L18
 255 0176 00C0      		rjmp .L25
 256               	.L30:
 257 0178 2E39      		cpi r18,lo8(-98)
 258 017a 01F4      		brne .+2
 259 017c 00C0      		rjmp .L26
 260 017e 2F39      		cpi r18,lo8(-97)
 261 0180 01F0      		breq .+2
 262 0182 00C0      		rjmp .L18
 263 0184 00C0      		rjmp .L27
 264               	.L19:
 265               	.LM34:
 266 0186 84E0      		ldi r24,lo8(4)
 267 0188 00C0      		rjmp .L44
 268               	.L20:
 269               	.LM35:
 270 018a 81E0      		ldi r24,lo8(1)
 271               	.LVL4:
 272               	.L44:
 273               	.LVL5:
 274 018c 8093 0000 		sts PacketBytes+2,r24
 275 0190 00C0      		rjmp .L31
 276               	.LVL6:
 277               	.L22:
 278               	.LM36:
 279 0192 82E0      		ldi r24,lo8(2)
 280 0194 00C0      		rjmp .L44
 281               	.L23:
 282               	.LBB16:
 283               	.LBB17:
 284               	.LM37:
 285 0196 20E0      		ldi r18,lo8(EEPROMVars+138)
 286 0198 30E0      		ldi r19,hi8(EEPROMVars+138)
 287               	.LVL7:
 288 019a D901      		movw r26,r18
 289               	.LVL8:
 290               	/* #APP */
 291 019c 0E94 0000 		call __eeprom_read_byte_1F2021
 292 01a0 802D      		mov r24,__tmp_reg__
 293               	.LVL9:
 294               	/* #NOAPP */
 295               	.LBE17:
 296               	.LBE16:
 297               	.LM38:
 298 01a2 8F3F      		cpi r24,lo8(-1)
 299 01a4 01F4      		brne .L32
 300 01a6 87E0      		ldi r24,lo8(7)
 301               	.LVL10:
 302 01a8 00C0      		rjmp .L44
 303               	.LVL11:
 304               	.L32:
 305               	.LBB18:
 306               	.LBB19:
 307               	.LM39:
 308 01aa D901      		movw r26,r18
 309               	.LVL12:
 310 01ac 00C0      		rjmp .L45
 311               	.LVL13:
 312               	.L27:
 313               	.LBE19:
 314               	.LBE18:
 315               	.LM40:
 316 01ae 8091 0000 		lds r24,PacketBytes
 317 01b2 8330      		cpi r24,lo8(3)
 318 01b4 01F4      		brne .L35
 319               	.LM41:
 320 01b6 8091 0000 		lds r24,Param_ControllerInit
 321 01ba 00C0      		rjmp .L44
 322               	.L35:
 323               	.LM42:
 324 01bc 82E0      		ldi r24,lo8(2)
 325 01be 90E0      		ldi r25,hi8(2)
 326 01c0 9093 0000 		sts (MessageSize)+1,r25
 327 01c4 8093 0000 		sts MessageSize,r24
 328               	.LM43:
 329 01c8 8091 0000 		lds r24,PacketBytes+2
 330 01cc 8093 0000 		sts Param_ControllerInit,r24
 331 01d0 00C0      		rjmp .L31
 332               	.L25:
 333               	.LM44:
 334 01d2 8091 0000 		lds r24,PacketBytes
 335 01d6 A0E0      		ldi r26,lo8(EEPROMVars+2)
 336 01d8 B0E0      		ldi r27,hi8(EEPROMVars+2)
 337 01da 8330      		cpi r24,lo8(3)
 338 01dc 01F0      		breq .L45
 339               	.LM45:
 340 01de 82E0      		ldi r24,lo8(2)
 341 01e0 90E0      		ldi r25,hi8(2)
 342 01e2 9093 0000 		sts (MessageSize)+1,r25
 343 01e6 8093 0000 		sts MessageSize,r24
 344               	.LBB20:
 345               	.LBB21:
 346               	.LM46:
 347 01ea 8091 0000 		lds r24,PacketBytes+2
 348               	/* #APP */
 349 01ee 082E      		mov __tmp_reg__,r24
 350 01f0 0E94 0000 		call __eeprom_write_byte_1F2021
 351               	.LVL14:
 352               	/* #NOAPP */
 353               	.LBE21:
 354               	.LBE20:
 355               	.LM47:
 356 01f4 0E94 0000 		call USI_SPISetSpeed
 357               	.LVL15:
 358 01f8 00C0      		rjmp .L31
 359               	.LVL16:
 360               	.L26:
 361               	.LM48:
 362 01fa 8091 0000 		lds r24,PacketBytes
 363 01fe A0E0      		ldi r26,lo8(EEPROMVars+1)
 364 0200 B0E0      		ldi r27,hi8(EEPROMVars+1)
 365 0202 8330      		cpi r24,lo8(3)
 366 0204 01F4      		brne .L39
 367               	.LVL17:
 368               	.L45:
 369               	.LVL18:
 370               	.LBB22:
 371               	.LBB23:
 372               	.LM49:
 373               	/* #APP */
 374 0206 0E94 0000 		call __eeprom_read_byte_1F2021
 375 020a 802D      		mov r24,__tmp_reg__
 376               	.LVL19:
 377               	/* #NOAPP */
 378 020c 00C0      		rjmp .L44
 379               	.LVL20:
 380               	.L39:
 381               	.LBE23:
 382               	.LBE22:
 383               	.LM50:
 384 020e 82E0      		ldi r24,lo8(2)
 385 0210 90E0      		ldi r25,hi8(2)
 386 0212 9093 0000 		sts (MessageSize)+1,r25
 387 0216 8093 0000 		sts MessageSize,r24
 388               	.LBB24:
 389               	.LBB25:
 390               	.LM51:
 391 021a 8091 0000 		lds r24,PacketBytes+2
 392               	/* #APP */
 393 021e 082E      		mov __tmp_reg__,r24
 394 0220 0E94 0000 		call __eeprom_write_byte_1F2021
 395               	.LVL21:
 396               	/* #NOAPP */
 397               	.LBE25:
 398               	.LBE24:
 399               	.LM52:
 400 0224 81E0      		ldi r24,lo8(1)
 401 0226 0E94 0000 		call MAIN_ResetCSLine
 402               	.LVL22:
 403 022a 00C0      		rjmp .L31
 404               	.LVL23:
 405               	.L24:
 406               	.LM53:
 407 022c 8091 0000 		lds r24,PacketBytes
 408 0230 8330      		cpi r24,lo8(3)
 409 0232 01F4      		brne .L41
 410               	.LM54:
 411 0234 1092 0000 		sts PacketBytes+2,__zero_reg__
 412 0238 00C0      		rjmp .L31
 413               	.L41:
 414               	.LM55:
 415 023a 82E0      		ldi r24,lo8(2)
 416 023c 90E0      		ldi r25,hi8(2)
 417 023e 9093 0000 		sts (MessageSize)+1,r25
 418 0242 8093 0000 		sts MessageSize,r24
 419 0246 00C0      		rjmp .L31
 420               	.L18:
 421               	.LM56:
 422 0248 82E0      		ldi r24,lo8(2)
 423 024a 90E0      		ldi r25,hi8(2)
 424 024c 9093 0000 		sts (MessageSize)+1,r25
 425 0250 8093 0000 		sts MessageSize,r24
 426               	.LM57:
 427 0254 80EC      		ldi r24,lo8(-64)
 428 0256 8093 0000 		sts PacketBytes+1,r24
 429               	.LVL24:
 430               	.L31:
 431               	.LM58:
 432 025a 0E94 0000 		call V2P_SendPacket
 433               	.LVL25:
 434               	/* epilogue: frame size=0 */
 435 025e 0895      		ret
 436               	/* epilogue end (size=1) */
 437               	/* function V2P_GetSetParamater size 160 (159) */
 438               	.LFE17:
 440               	.global	V2P_RunStateMachine
 442               	V2P_RunStateMachine:
 443               	.LFB14:
 444               	.LM59:
 445               	/* prologue: frame size=0 */
 446 0260 CF92      		push r12
 447 0262 DF92      		push r13
 448 0264 EF92      		push r14
 449 0266 FF92      		push r15
 450 0268 0F93      		push r16
 451 026a 1F93      		push r17
 452 026c CF93      		push r28
 453 026e DF93      		push r29
 454               	/* prologue end (size=8) */
 455               	.LVL26:
 456 0270 6C01      		movw r12,r24
 457               	.LM60:
 458 0272 0E94 0000 		call BUFF_InitialiseBuffer
 459               	.LVL27:
 460               	.LM61:
 461 0276 1092 8100 		sts 129,__zero_reg__
 462               	.LM62:
 463 027a 1092 0000 		sts InProgrammingMode,__zero_reg__
 464               	.LM63:
 465 027e 1092 0000 		sts CurrAddress,__zero_reg__
 466 0282 1092 0000 		sts (CurrAddress)+1,__zero_reg__
 467 0286 1092 0000 		sts (CurrAddress)+2,__zero_reg__
 468 028a 1092 0000 		sts (CurrAddress)+3,__zero_reg__
 469 028e 10E0      		ldi r17,lo8(0)
 470               	.LVL28:
 471 0290 00C0      		rjmp .L105
 472               	.LVL29:
 473               	.L102:
 474               	.LM64:
 475 0292 12E0      		ldi r17,lo8(2)
 476 0294 00C0      		rjmp .L109
 477               	.L49:
 478 0296 19E0      		ldi r17,lo8(9)
 479               	.L109:
 480               	.LM65:
 481 0298 8091 0000 		lds r24,PacketTimeOut
 482 029c 8130      		cpi r24,lo8(1)
 483 029e 01F4      		brne .+2
 484 02a0 00C0      		rjmp .L50
 485               	.LM66:
 486 02a2 1123      		tst r17
 487 02a4 01F0      		breq .L52
 488               	.LM67:
 489 02a6 1092 0000 		sts PacketTimeOut,__zero_reg__
 490 02aa 1092 0000 		sts PacketTimeOutTicks,__zero_reg__
 491 02ae 1092 B200 		sts 178,__zero_reg__
 492 02b2 80EF      		ldi r24,lo8(-16)
 493 02b4 8093 B300 		sts 179,r24
 494 02b8 82E0      		ldi r24,lo8(2)
 495 02ba 8093 7000 		sts 112,r24
 496 02be 8FE0      		ldi r24,lo8(15)
 497 02c0 8093 B000 		sts 176,r24
 498               	.LM68:
 499 02c4 1530      		cpi r17,lo8(5)
 500 02c6 01F4      		brne .+2
 501 02c8 00C0      		rjmp .L58
 502 02ca 1630      		cpi r17,lo8(6)
 503 02cc 00F4      		brsh .L63
 504 02ce 1230      		cpi r17,lo8(2)
 505 02d0 01F0      		breq .L55
 506 02d2 1330      		cpi r17,lo8(3)
 507 02d4 00F4      		brsh .L64
 508 02d6 1123      		tst r17
 509 02d8 01F0      		breq .L52
 510 02da 1130      		cpi r17,lo8(1)
 511 02dc 01F4      		brne .L109
 512 02de 00C0      		rjmp .L97
 513               	.L64:
 514 02e0 1330      		cpi r17,lo8(3)
 515 02e2 01F0      		breq .L56
 516 02e4 1430      		cpi r17,lo8(4)
 517 02e6 01F4      		brne .L109
 518 02e8 00C0      		rjmp .L98
 519               	.L63:
 520 02ea 1830      		cpi r17,lo8(8)
 521 02ec 01F4      		brne .+2
 522 02ee 00C0      		rjmp .L61
 523 02f0 1930      		cpi r17,lo8(9)
 524 02f2 00F4      		brsh .L65
 525 02f4 1630      		cpi r17,lo8(6)
 526 02f6 01F4      		brne .+2
 527 02f8 00C0      		rjmp .L59
 528 02fa 1730      		cpi r17,lo8(7)
 529 02fc 01F4      		brne .L109
 530 02fe 00C0      		rjmp .L99
 531               	.L65:
 532 0300 1C30      		cpi r17,lo8(12)
 533 0302 00F4      		brsh .L109
 534 0304 00C0      		rjmp .L100
 535               	.L52:
 536               	.LM69:
 537 0306 8091 0000 		lds r24,BuffElements
 538 030a 8111      		cpse r24,__zero_reg__
 539 030c 81E0      		ldi r24,lo8(1)
 540               	.L66:
 541 030e 182F      		mov r17,r24
 542               	.LM70:
 543 0310 F29B      		sbis 62-0x20,2
 544 0312 00C0      		rjmp .L109
 545 0314 8091 0000 		lds r24,InProgrammingMode
 546 0318 8823      		tst r24
 547 031a 01F0      		breq .+2
 548 031c 00C0      		rjmp .L109
 549 031e 00C0      		rjmp .L101
 550               	.L97:
 551               	.LM71:
 552 0320 0E94 0000 		call USART_Rx
 553 0324 8B31      		cpi r24,lo8(27)
 554 0326 01F0      		breq .+2
 555 0328 00C0      		rjmp .L49
 556 032a 00C0      		rjmp .L102
 557               	.L55:
 558               	.LM72:
 559 032c 0E94 0000 		call USART_Rx
 560 0330 9927      		clr r25
 561 0332 9093 0000 		sts (SequenceNum)+1,r25
 562 0336 8093 0000 		sts SequenceNum,r24
 563 033a 13E0      		ldi r17,lo8(3)
 564 033c 00C0      		rjmp .L109
 565               	.L56:
 566               	.LM73:
 567 033e 0E94 0000 		call USART_Rx
 568 0342 9927      		clr r25
 569 0344 982F      		mov r25,r24
 570 0346 8827      		clr r24
 571 0348 9093 0000 		sts (MessageSize)+1,r25
 572 034c 8093 0000 		sts MessageSize,r24
 573 0350 14E0      		ldi r17,lo8(4)
 574 0352 00C0      		rjmp .L109
 575               	.L98:
 576               	.LM74:
 577 0354 0091 0000 		lds r16,MessageSize
 578 0358 1091 0000 		lds r17,(MessageSize)+1
 579 035c 0E94 0000 		call USART_Rx
 580 0360 9927      		clr r25
 581 0362 802B      		or r24,r16
 582 0364 912B      		or r25,r17
 583 0366 9093 0000 		sts (MessageSize)+1,r25
 584 036a 8093 0000 		sts MessageSize,r24
 585               	.LM75:
 586 036e 8351      		subi r24,lo8(275)
 587 0370 9140      		sbci r25,hi8(275)
 588 0372 00F0      		brlo .+2
 589 0374 00C0      		rjmp .L49
 590 0376 15E0      		ldi r17,lo8(5)
 591               	.L105:
 592 0378 C0E0      		ldi r28,lo8(0)
 593 037a D0E0      		ldi r29,hi8(0)
 594 037c 00C0      		rjmp .L109
 595               	.L58:
 596               	.LM76:
 597 037e 0E94 0000 		call USART_Rx
 598 0382 8E30      		cpi r24,lo8(14)
 599 0384 01F0      		breq .+2
 600 0386 00C0      		rjmp .L49
 601 0388 16E0      		ldi r17,lo8(6)
 602 038a 00C0      		rjmp .L109
 603               	.L59:
 604               	.LM77:
 605 038c 8091 0000 		lds r24,MessageSize
 606 0390 9091 0000 		lds r25,(MessageSize)+1
 607 0394 C817      		cp r28,r24
 608 0396 D907      		cpc r29,r25
 609 0398 01F4      		brne .L71
 610 039a 17E0      		ldi r17,lo8(7)
 611 039c 00C0      		rjmp .L109
 612               	.L71:
 613               	.LM78:
 614 039e 0E94 0000 		call USART_Rx
 615 03a2 FE01      		movw r30,r28
 616 03a4 E050      		subi r30,lo8(-(PacketBytes))
 617 03a6 F040      		sbci r31,hi8(-(PacketBytes))
 618 03a8 8083      		st Z,r24
 619 03aa 2196      		adiw r28,1
 620 03ac 00C0      		rjmp .L109
 621               	.L99:
 622               	.LM79:
 623 03ae 8091 0000 		lds r24,PacketTimeOut
 624 03b2 8823      		tst r24
 625 03b4 01F0      		breq .+2
 626 03b6 00C0      		rjmp .L109
 627               	.LM80:
 628 03b8 0E94 0000 		call V2P_GetChecksum
 629 03bc 182F      		mov r17,r24
 630               	.LVL30:
 631 03be 0E94 0000 		call USART_Rx
 632 03c2 1817      		cp r17,r24
 633 03c4 01F0      		breq .L74
 634 03c6 1BE0      		ldi r17,lo8(11)
 635               	.LVL31:
 636 03c8 00C0      		rjmp .L109
 637               	.LVL32:
 638               	.L74:
 639               	.LM81:
 640 03ca 8091 0000 		lds r24,PacketBytes
 641 03ce 8430      		cpi r24,lo8(4)
 642 03d0 00F4      		brsh .L81
 643 03d2 8230      		cpi r24,lo8(2)
 644 03d4 00F0      		brlo .+2
 645 03d6 00C0      		rjmp .L78
 646 03d8 8130      		cpi r24,lo8(1)
 647 03da 01F0      		breq .+2
 648 03dc 00C0      		rjmp .L76
 649 03de 00C0      		rjmp .L103
 650               	.L81:
 651 03e0 8630      		cpi r24,lo8(6)
 652 03e2 01F0      		breq .L79
 653 03e4 8730      		cpi r24,lo8(7)
 654 03e6 01F0      		breq .+2
 655 03e8 00C0      		rjmp .L76
 656 03ea 00C0      		rjmp .L104
 657               	.L103:
 658               	.LM82:
 659 03ec 8BE0      		ldi r24,lo8(11)
 660 03ee 90E0      		ldi r25,hi8(11)
 661 03f0 9093 0000 		sts (MessageSize)+1,r25
 662 03f4 8093 0000 		sts MessageSize,r24
 663 03f8 E0E0      		ldi r30,lo8(SignonResponse)
 664 03fa F0E0      		ldi r31,hi8(SignonResponse)
 665 03fc A0E0      		ldi r26,lo8(PacketBytes)
 666 03fe B0E0      		ldi r27,hi8(PacketBytes)
 667               	.L82:
 668               	.LBB26:
 669               	.LBB27:
 670               	.LM83:
 671               	/* #APP */
 672 0400 8491      		lpm r24, Z
 673               		
 674               	.LVL33:
 675               	/* #NOAPP */
 676               	.LBE27:
 677 0402 8D93      		st X+,r24
 678 0404 3196      		adiw r30,1
 679               	.LM84:
 680 0406 80E0      		ldi r24,hi8(PacketBytes+11)
 681 0408 A030      		cpi r26,lo8(PacketBytes+11)
 682 040a B807      		cpc r27,r24
 683               	.LVL34:
 684 040c 01F4      		brne .L82
 685 040e 00C0      		rjmp .L107
 686               	.L104:
 687               	.LBE26:
 688               	.LM85:
 689 0410 82E0      		ldi r24,lo8(2)
 690 0412 90E0      		ldi r25,hi8(2)
 691 0414 9093 0000 		sts (MessageSize)+1,r25
 692 0418 8093 0000 		sts MessageSize,r24
 693               	.LM86:
 694 041c 80EC      		ldi r24,lo8(-64)
 695 041e 8093 0000 		sts PacketBytes+1,r24
 696 0422 00C0      		rjmp .L107
 697               	.L79:
 698               	.LM87:
 699 0424 82E0      		ldi r24,lo8(2)
 700 0426 90E0      		ldi r25,hi8(2)
 701 0428 9093 0000 		sts (MessageSize)+1,r25
 702 042c 8093 0000 		sts MessageSize,r24
 703               	.LM88:
 704 0430 0E94 0000 		call V2P_CheckForExtendedAddress
 705               	.LM89:
 706 0434 E090 0000 		lds r14,PacketBytes+3
 707 0438 FF24      		clr r15
 708 043a 0027      		clr r16
 709 043c 1127      		clr r17
 710 043e 102F      		mov r17,r16
 711 0440 0F2D      		mov r16,r15
 712 0442 FE2C      		mov r15,r14
 713 0444 EE24      		clr r14
 714 0446 2091 0000 		lds r18,PacketBytes+1
 715 044a 3327      		clr r19
 716 044c 4427      		clr r20
 717 044e 5527      		clr r21
 718 0450 522F      		mov r21,r18
 719 0452 4427      		clr r20
 720 0454 3327      		clr r19
 721 0456 2227      		clr r18
 722 0458 8091 0000 		lds r24,PacketBytes+2
 723 045c 9927      		clr r25
 724 045e AA27      		clr r26
 725 0460 BB27      		clr r27
 726 0462 DC01      		movw r26,r24
 727 0464 9927      		clr r25
 728 0466 8827      		clr r24
 729 0468 282B      		or r18,r24
 730 046a 392B      		or r19,r25
 731 046c 4A2B      		or r20,r26
 732 046e 5B2B      		or r21,r27
 733 0470 8091 0000 		lds r24,PacketBytes+4
 734 0474 9927      		clr r25
 735 0476 AA27      		clr r26
 736 0478 BB27      		clr r27
 737 047a 282B      		or r18,r24
 738 047c 392B      		or r19,r25
 739 047e 4A2B      		or r20,r26
 740 0480 5B2B      		or r21,r27
 741 0482 E22A      		or r14,r18
 742 0484 F32A      		or r15,r19
 743 0486 042B      		or r16,r20
 744 0488 152B      		or r17,r21
 745 048a E092 0000 		sts CurrAddress,r14
 746 048e F092 0000 		sts (CurrAddress)+1,r15
 747 0492 0093 0000 		sts (CurrAddress)+2,r16
 748 0496 1093 0000 		sts (CurrAddress)+3,r17
 749               	.LM90:
 750 049a 1092 0000 		sts PacketBytes+1,__zero_reg__
 751               	.L107:
 752               	.LM91:
 753 049e 0E94 0000 		call V2P_SendPacket
 754 04a2 00C0      		rjmp .L106
 755               	.L78:
 756               	.LM92:
 757 04a4 0E94 0000 		call V2P_GetSetParamater
 758 04a8 00C0      		rjmp .L106
 759               	.L76:
 760               	.LM93:
 761 04aa F601      		movw r30,r12
 762 04ac 0995      		icall
 763               	.L106:
 764 04ae 18E0      		ldi r17,lo8(8)
 765               	.LVL35:
 766 04b0 00C0      		rjmp .L109
 767               	.L100:
 768               	.LM94:
 769 04b2 1B30      		cpi r17,lo8(11)
 770 04b4 01F4      		brne .L84
 771               	.LM95:
 772 04b6 81EC      		ldi r24,lo8(-63)
 773 04b8 00C0      		rjmp .L108
 774               	.L84:
 775               	.LM96:
 776 04ba 1A30      		cpi r17,lo8(10)
 777 04bc 01F4      		brne .L87
 778               	.L50:
 779               	.LM97:
 780 04be 80E8      		ldi r24,lo8(-128)
 781 04c0 00C0      		rjmp .L108
 782               	.L87:
 783               	.LM98:
 784 04c2 80EC      		ldi r24,lo8(-64)
 785               	.L108:
 786 04c4 8093 0000 		sts PacketBytes+1,r24
 787               	.LM99:
 788 04c8 82E0      		ldi r24,lo8(2)
 789 04ca 90E0      		ldi r25,hi8(2)
 790 04cc 9093 0000 		sts (MessageSize)+1,r25
 791 04d0 8093 0000 		sts MessageSize,r24
 792               	.LM100:
 793 04d4 0E94 0000 		call V2P_SendPacket
 794               	.L61:
 795               	.LM101:
 796 04d8 1092 0000 		sts PacketTimeOut,__zero_reg__
 797               	.LM102:
 798 04dc 0E94 0000 		call BUFF_InitialiseBuffer
 799               	.LM103:
 800 04e0 1092 B000 		sts 176,__zero_reg__
 801 04e4 1092 7000 		sts 112,__zero_reg__
 802 04e8 10E0      		ldi r17,lo8(0)
 803 04ea 00C0      		rjmp .L109
 804               	.L101:
 805               	.LM104:
 806 04ec 80E8      		ldi r24,lo8(-128)
 807 04ee 8093 6100 		sts 97,r24
 808 04f2 83E0      		ldi r24,lo8(3)
 809 04f4 8093 6100 		sts 97,r24
 810 04f8 1092 C100 		sts 193,__zero_reg__
 811               	.LM105:
 812 04fc 0E94 0000 		call TOUT_SetupSleepTimer
 813               	/* epilogue: frame size=0 */
 814 0500 DF91      		pop r29
 815 0502 CF91      		pop r28
 816 0504 1F91      		pop r17
 817 0506 0F91      		pop r16
 818 0508 FF90      		pop r15
 819 050a EF90      		pop r14
 820 050c DF90      		pop r13
 821 050e CF90      		pop r12
 822 0510 0895      		ret
 823               	/* epilogue end (size=9) */
 824               	/* function V2P_RunStateMachine size 350 (333) */
 825               	.LFE14:
 827               	.global	SignonResponse
 828               		.section	.progmem.data,"a",@progbits
 831               	SignonResponse:
 832 0000 01        		.byte	1
 833 0001 00        		.byte	0
 834 0002 08        		.byte	8
 835 0003 41        		.byte	65
 836 0004 56        		.byte	86
 837 0005 52        		.byte	82
 838 0006 49        		.byte	73
 839 0007 53        		.byte	83
 840 0008 50        		.byte	80
 841 0009 5F        		.byte	95
 842 000a 32        		.byte	50
 843 000b 00        		.byte	0
 844               	.global	ButtLoadData
 847               	ButtLoadData:
 848 000c 40        		.byte	64
 849 000d 28        		.byte	40
 850 000e 23        		.byte	35
 851 000f 29        		.byte	41
 852 0010 2A        		.byte	42
 853 0011 53        		.byte	83
 854 0012 43        		.byte	67
 855 0013 52        		.byte	82
 856 0014 45        		.byte	69
 857 0015 57        		.byte	87
 858 0016 20        		.byte	32
 859 0017 52        		.byte	82
 860 0018 45        		.byte	69
 861 0019 54        		.byte	84
 862 001a 52        		.byte	82
 863 001b 4F        		.byte	79
 864 001c 44        		.byte	68
 865 001d 41        		.byte	65
 866 001e 4E        		.byte	78
 867 001f 00        		.byte	0
 868 0020 2A        		.byte	42
 869               	.global	PacketBytes
 870               	.global	PacketBytes
 871               		.section .bss
 874               	PacketBytes:
 875 0000 0000 0000 		.skip 275,0
 875      0000 0000 
 875      0000 0000 
 875      0000 0000 
 875      0000 0000 
 876               	.global	SequenceNum
 877               	.global	SequenceNum
 880               	SequenceNum:
 881 0113 0000      		.skip 2,0
 882               	.global	MessageSize
 883               	.global	MessageSize
 886               	MessageSize:
 887 0115 0000      		.skip 2,0
 888               	.global	InProgrammingMode
 889               	.global	InProgrammingMode
 892               	InProgrammingMode:
 893 0117 00        		.skip 1,0
 894               	.global	CurrAddress
 895               	.global	CurrAddress
 898               	CurrAddress:
 899 0118 0000 0000 		.skip 4,0
 900               	.global	Param_ControllerInit
 901               	.global	Param_ControllerInit
 904               	Param_ControllerInit:
 905 011c 00        		.skip 1,0
 963               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 V2Protocol.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:20     .text:00000000 V2P_GetChecksum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:880    .bss:00000113 SequenceNum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:886    .bss:00000115 MessageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:874    .bss:00000000 PacketBytes
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:71     .text:0000003a V2P_IncrementCurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:898    .bss:00000118 CurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:96     .text:00000062 V2P_CheckForExtendedAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:140    .text:000000b4 V2P_SendPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:207    .text:00000128 V2P_GetSetParamater
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:904    .bss:0000011c Param_ControllerInit
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:442    .text:00000260 V2P_RunStateMachine
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:892    .bss:00000117 InProgrammingMode
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:831    .progmem.data:00000000 SignonResponse
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccS6aaaa.s:847    .progmem.data:0000000c ButtLoadData

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
USI_SPITransmit
USART_Tx
EEPROMVars
__eeprom_read_byte_1F2021
__eeprom_write_byte_1F2021
USI_SPISetSpeed
MAIN_ResetCSLine
BUFF_InitialiseBuffer
PacketTimeOut
PacketTimeOutTicks
BuffElements
USART_Rx
TOUT_SetupSleepTimer
