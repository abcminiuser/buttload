   1               		.file	"V2Protocol.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	Param_ControllerInit
  19               	.global	Param_ControllerInit
  20               		.section .bss
  23               	Param_ControllerInit:
  24 0000 00        		.skip 1,0
  25               	.global	CurrAddress
  26               	.global	CurrAddress
  29               	CurrAddress:
  30 0001 0000 0000 		.skip 4,0
  31               	.global	InProgrammingMode
  32               	.global	InProgrammingMode
  35               	InProgrammingMode:
  36 0005 00        		.skip 1,0
  37               	.global	MessageSize
  38               	.global	MessageSize
  41               	MessageSize:
  42 0006 0000      		.skip 2,0
  43               	.global	SequenceNum
  44               	.global	SequenceNum
  47               	SequenceNum:
  48 0008 0000      		.skip 2,0
  49               	.global	PacketBytes
  50               	.global	PacketBytes
  53               	PacketBytes:
  54 000a 0000 0000 		.skip 275,0
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  55               	.global	InterpretPacketRoutine
  56               		.data
  59               	InterpretPacketRoutine:
  60 0000 0000      		.word	pm(AICI_InterpretPacket)
  61               	.global	SignonResponse
  62               		.section	.progmem.data,"a",@progbits
  65               	SignonResponse:
  66 0000 01        		.byte	1
  67 0001 00        		.byte	0
  68 0002 08        		.byte	8
  69 0003 41        		.byte	65
  70 0004 56        		.byte	86
  71 0005 52        		.byte	82
  72 0006 49        		.byte	73
  73 0007 53        		.byte	83
  74 0008 50        		.byte	80
  75 0009 5F        		.byte	95
  76 000a 32        		.byte	50
  77               		.text
  78               	.global	V2P_GetChecksum
  80               	V2P_GetChecksum:
  81               	.LFB16:
  82               	.LM1:
  83               	/* prologue: frame size=0 */
  84               	/* prologue end (size=0) */
  85               	.LM2:
  86 0000 6BE1      		ldi r22,lo8(27)
  87               	.LM3:
  88 0002 8091 0000 		lds r24,SequenceNum
  89 0006 6827      		eor r22,r24
  90               	.LM4:
  91 0008 2091 0000 		lds r18,MessageSize
  92 000c 3091 0000 		lds r19,(MessageSize)+1
  93 0010 832F      		mov r24,r19
  94 0012 9927      		clr r25
  95 0014 6827      		eor r22,r24
  96               	.LM5:
  97 0016 8091 0000 		lds r24,MessageSize
  98 001a 6827      		eor r22,r24
  99               	.LM6:
 100 001c 8EE0      		ldi r24,lo8(14)
 101 001e 6827      		eor r22,r24
 102               	.LBB2:
 103               	.LM7:
 104 0020 40E0      		ldi r20,lo8(0)
 105 0022 50E0      		ldi r21,hi8(0)
 106 0024 4217      		cp r20,r18
 107 0026 5307      		cpc r21,r19
 108 0028 48F4      		brsh .L7
 109 002a E0E0      		ldi r30,lo8(PacketBytes)
 110 002c F0E0      		ldi r31,hi8(PacketBytes)
 111               	.L5:
 112               	.LM8:
 113 002e 8191      		ld r24,Z+
 114 0030 6827      		eor r22,r24
 115               	.LM9:
 116 0032 4F5F      		subi r20,lo8(-(1))
 117 0034 5F4F      		sbci r21,hi8(-(1))
 118 0036 4217      		cp r20,r18
 119 0038 5307      		cpc r21,r19
 120 003a C8F3      		brlo .L5
 121               	.L7:
 122               	.LBE2:
 123               	.LM10:
 124 003c 862F      		mov r24,r22
 125 003e 9927      		clr r25
 126               	/* epilogue: frame size=0 */
 127 0040 0895      		ret
 128               	/* epilogue end (size=1) */
 129               	/* function V2P_GetChecksum size 33 (32) */
 130               	.LFE16:
 132               	.global	V2P_SendPacket
 134               	V2P_SendPacket:
 135               	.LFB15:
 136               	.LM11:
 137               	/* prologue: frame size=0 */
 138 0042 0F93      		push r16
 139 0044 1F93      		push r17
 140 0046 CF93      		push r28
 141 0048 DF93      		push r29
 142               	/* prologue end (size=4) */
 143               	.LM12:
 144 004a 8BE1      		ldi r24,lo8(27)
 145 004c 0E94 0000 		call USART_Tx
 146               	.LM13:
 147 0050 8091 0000 		lds r24,SequenceNum
 148 0054 0E94 0000 		call USART_Tx
 149               	.LM14:
 150 0058 8091 0000 		lds r24,MessageSize+1
 151 005c 0E94 0000 		call USART_Tx
 152               	.LM15:
 153 0060 8091 0000 		lds r24,MessageSize
 154 0064 0E94 0000 		call USART_Tx
 155               	.LM16:
 156 0068 8EE0      		ldi r24,lo8(14)
 157 006a 0E94 0000 		call USART_Tx
 158               	.LBB3:
 159               	.LM17:
 160 006e C0E0      		ldi r28,lo8(0)
 161 0070 D0E0      		ldi r29,hi8(0)
 162 0072 8091 0000 		lds r24,MessageSize
 163 0076 9091 0000 		lds r25,(MessageSize)+1
 164 007a C817      		cp r28,r24
 165 007c D907      		cpc r29,r25
 166 007e 78F4      		brsh .L14
 167 0080 00E0      		ldi r16,lo8(PacketBytes)
 168 0082 10E0      		ldi r17,hi8(PacketBytes)
 169               	.L12:
 170               	.LM18:
 171 0084 F801      		movw r30,r16
 172 0086 8191      		ld r24,Z+
 173 0088 8F01      		movw r16,r30
 174 008a 0E94 0000 		call USART_Tx
 175               	.LM19:
 176 008e 2196      		adiw r28,1
 177 0090 8091 0000 		lds r24,MessageSize
 178 0094 9091 0000 		lds r25,(MessageSize)+1
 179 0098 C817      		cp r28,r24
 180 009a D907      		cpc r29,r25
 181 009c 98F3      		brlo .L12
 182               	.L14:
 183               	.LBE3:
 184               	.LM20:
 185 009e 0E94 0000 		call V2P_GetChecksum
 186 00a2 0E94 0000 		call USART_Tx
 187               	.LM21:
 188 00a6 8091 0000 		lds r24,SequenceNum
 189 00aa 9091 0000 		lds r25,(SequenceNum)+1
 190 00ae 0196      		adiw r24,1
 191 00b0 9093 0000 		sts (SequenceNum)+1,r25
 192 00b4 8093 0000 		sts SequenceNum,r24
 193               	/* epilogue: frame size=0 */
 194 00b8 DF91      		pop r29
 195 00ba CF91      		pop r28
 196 00bc 1F91      		pop r17
 197 00be 0F91      		pop r16
 198 00c0 0895      		ret
 199               	/* epilogue end (size=5) */
 200               	/* function V2P_SendPacket size 64 (55) */
 201               	.LFE15:
 203               	.global	V2P_GetSetParamater
 205               	V2P_GetSetParamater:
 206               	.LFB17:
 207               	.LM22:
 208               	/* prologue: frame size=0 */
 209               	/* prologue end (size=0) */
 210               	.LM23:
 211 00c2 2091 0000 		lds r18,PacketBytes+1
 212               	.LM24:
 213 00c6 83E0      		ldi r24,lo8(3)
 214 00c8 90E0      		ldi r25,hi8(3)
 215 00ca 9093 0000 		sts (MessageSize)+1,r25
 216 00ce 8093 0000 		sts MessageSize,r24
 217               	.LM25:
 218 00d2 1092 0000 		sts PacketBytes+1,__zero_reg__
 219               	.LM26:
 220 00d6 3327      		clr r19
 221 00d8 2239      		cpi r18,146
 222 00da 3105      		cpc r19,__zero_reg__
 223 00dc 51F1      		breq .L21
 224               	.LM27:
 225 00de 2339      		cpi r18,147
 226 00e0 3105      		cpc r19,__zero_reg__
 227 00e2 8CF4      		brge .L44
 228 00e4 2138      		cpi r18,129
 229 00e6 3105      		cpc r19,__zero_reg__
 230 00e8 01F1      		breq .L18
 231 00ea 2238      		cpi r18,130
 232 00ec 3105      		cpc r19,__zero_reg__
 233 00ee 24F4      		brge .L45
 234 00f0 2038      		cpi r18,128
 235 00f2 3105      		cpc r19,__zero_reg__
 236 00f4 41F1      		breq .L22
 237 00f6 7AC0      		rjmp .L43
 238               	.L45:
 239 00f8 2039      		cpi r18,144
 240 00fa 3105      		cpc r19,__zero_reg__
 241 00fc C1F0      		breq .L20
 242 00fe 2139      		cpi r18,145
 243 0100 3105      		cpc r19,__zero_reg__
 244 0102 A9F0      		breq .L20
 245 0104 73C0      		rjmp .L43
 246               	.L44:
 247 0106 2839      		cpi r18,152
 248 0108 3105      		cpc r19,__zero_reg__
 249 010a 89F1      		breq .L29
 250 010c 2939      		cpi r18,153
 251 010e 3105      		cpc r19,__zero_reg__
 252 0110 2CF4      		brge .L46
 253 0112 2639      		cpi r18,150
 254 0114 3105      		cpc r19,__zero_reg__
 255 0116 0CF4      		brge .+2
 256 0118 69C0      		rjmp .L43
 257 011a 5AC0      		rjmp .L40
 258               	.L46:
 259 011c 2E39      		cpi r18,158
 260 011e 3105      		cpc r19,__zero_reg__
 261 0120 E1F1      		breq .L34
 262 0122 2F39      		cpi r18,159
 263 0124 3105      		cpc r19,__zero_reg__
 264 0126 89F0      		breq .L26
 265 0128 61C0      		rjmp .L43
 266               	.L18:
 267               	.LM28:
 268 012a 81E0      		ldi r24,lo8(1)
 269 012c 3FC0      		rjmp .L48
 270               	.L20:
 271               	.LM29:
 272 012e 82E0      		ldi r24,lo8(2)
 273 0130 3DC0      		rjmp .L48
 274               	.L21:
 275               	.LBB4:
 276               	.LM30:
 277 0132 A0E0      		ldi r26,lo8(EEPROMVars+134)
 278 0134 B0E0      		ldi r27,hi8(EEPROMVars+134)
 279 0136 9D01      		movw r18,r26
 280               	.LBB5:
 281               	.LM31:
 282               	/* #APP */
 283 0138 0E94 0000 		call __eeprom_read_byte_1F2021
 284 013c 802D      		mov r24,__tmp_reg__
 285               	/* #NOAPP */
 286               	.LBE5:
 287               	.LBE4:
 288               	.LM32:
 289 013e 8F3F      		cpi r24,lo8(-1)
 290 0140 11F0      		breq .L22
 291               	.LBB6:
 292               	.LBB7:
 293               	.LM33:
 294 0142 D901      		movw r26,r18
 295 0144 30C0      		rjmp .L47
 296               	.L22:
 297               	.LBE7:
 298               	.LBE6:
 299               	.LM34:
 300 0146 84E0      		ldi r24,lo8(4)
 301 0148 31C0      		rjmp .L48
 302               	.L26:
 303               	.LM35:
 304 014a 8091 0000 		lds r24,PacketBytes
 305 014e 8330      		cpi r24,lo8(3)
 306 0150 19F4      		brne .L27
 307               	.LM36:
 308 0152 8091 0000 		lds r24,Param_ControllerInit
 309 0156 2AC0      		rjmp .L48
 310               	.L27:
 311               	.LM37:
 312 0158 82E0      		ldi r24,lo8(2)
 313 015a 90E0      		ldi r25,hi8(2)
 314 015c 9093 0000 		sts (MessageSize)+1,r25
 315 0160 8093 0000 		sts MessageSize,r24
 316               	.LM38:
 317 0164 8091 0000 		lds r24,PacketBytes+2
 318 0168 8093 0000 		sts Param_ControllerInit,r24
 319               	.LM39:
 320 016c 48C0      		rjmp .L16
 321               	.L29:
 322               	.LM40:
 323 016e 8091 0000 		lds r24,PacketBytes
 324 0172 A0E0      		ldi r26,lo8(EEPROMVars+1)
 325 0174 B0E0      		ldi r27,hi8(EEPROMVars+1)
 326 0176 8330      		cpi r24,lo8(3)
 327 0178 B1F0      		breq .L47
 328               	.LM41:
 329 017a 82E0      		ldi r24,lo8(2)
 330 017c 90E0      		ldi r25,hi8(2)
 331 017e 9093 0000 		sts (MessageSize)+1,r25
 332 0182 8093 0000 		sts MessageSize,r24
 333               	.LBB8:
 334               	.LM42:
 335 0186 8091 0000 		lds r24,PacketBytes+2
 336               	.LBB9:
 337               	.LM43:
 338               	/* #APP */
 339 018a 082E      		mov __tmp_reg__,r24
 340 018c 0E94 0000 		call __eeprom_write_byte_1F2021
 341               	/* #NOAPP */
 342               	.LBE9:
 343               	.LBE8:
 344               	.LM44:
 345 0190 8091 0000 		lds r24,PacketBytes+2
 346 0194 0E94 0000 		call USI_SPISetSpeed
 347               	.LM45:
 348 0198 32C0      		rjmp .L16
 349               	.L34:
 350               	.LM46:
 351 019a 8091 0000 		lds r24,PacketBytes
 352 019e A0E0      		ldi r26,lo8(EEPROMVars)
 353 01a0 B0E0      		ldi r27,hi8(EEPROMVars)
 354 01a2 8330      		cpi r24,lo8(3)
 355 01a4 31F4      		brne .L35
 356               	.L47:
 357               	.LBB10:
 358               	.LBB11:
 359               	.LM47:
 360               	/* #APP */
 361 01a6 0E94 0000 		call __eeprom_read_byte_1F2021
 362 01aa 802D      		mov r24,__tmp_reg__
 363               	/* #NOAPP */
 364               	.L48:
 365               	.LBE11:
 366               	.LBE10:
 367               	.LM48:
 368 01ac 8093 0000 		sts PacketBytes+2,r24
 369 01b0 26C0      		rjmp .L16
 370               	.L35:
 371               	.LM49:
 372 01b2 82E0      		ldi r24,lo8(2)
 373 01b4 90E0      		ldi r25,hi8(2)
 374 01b6 9093 0000 		sts (MessageSize)+1,r25
 375 01ba 8093 0000 		sts MessageSize,r24
 376               	.LBB12:
 377               	.LM50:
 378 01be 8091 0000 		lds r24,PacketBytes+2
 379               	.LBB13:
 380               	.LM51:
 381               	/* #APP */
 382 01c2 082E      		mov __tmp_reg__,r24
 383 01c4 0E94 0000 		call __eeprom_write_byte_1F2021
 384               	/* #NOAPP */
 385               	.LBE13:
 386               	.LBE12:
 387               	.LM52:
 388 01c8 81E0      		ldi r24,lo8(1)
 389 01ca 0E94 0000 		call MAIN_ResetCSLine
 390               	.LM53:
 391 01ce 17C0      		rjmp .L16
 392               	.L40:
 393               	.LM54:
 394 01d0 8091 0000 		lds r24,PacketBytes
 395 01d4 8330      		cpi r24,lo8(3)
 396 01d6 19F4      		brne .L41
 397               	.LM55:
 398 01d8 1092 0000 		sts PacketBytes+2,__zero_reg__
 399 01dc 10C0      		rjmp .L16
 400               	.L41:
 401               	.LM56:
 402 01de 82E0      		ldi r24,lo8(2)
 403 01e0 90E0      		ldi r25,hi8(2)
 404 01e2 9093 0000 		sts (MessageSize)+1,r25
 405 01e6 8093 0000 		sts MessageSize,r24
 406               	.LM57:
 407 01ea 09C0      		rjmp .L16
 408               	.L43:
 409               	.LM58:
 410 01ec 82E0      		ldi r24,lo8(2)
 411 01ee 90E0      		ldi r25,hi8(2)
 412 01f0 9093 0000 		sts (MessageSize)+1,r25
 413 01f4 8093 0000 		sts MessageSize,r24
 414               	.LM59:
 415 01f8 80EC      		ldi r24,lo8(-64)
 416 01fa 8093 0000 		sts PacketBytes+1,r24
 417               	.L16:
 418               	.LM60:
 419 01fe 0E94 0000 		call V2P_SendPacket
 420               	/* epilogue: frame size=0 */
 421 0202 0895      		ret
 422               	/* epilogue end (size=1) */
 423               	/* function V2P_GetSetParamater size 165 (164) */
 424               	.LFE17:
 426               	.global	V2P_IncrementCurrAddress
 428               	V2P_IncrementCurrAddress:
 429               	.LFB18:
 430               	.LM61:
 431               	/* prologue: frame size=0 */
 432               	/* prologue end (size=0) */
 433               	.LM62:
 434 0204 8091 0000 		lds r24,CurrAddress
 435 0208 9091 0000 		lds r25,(CurrAddress)+1
 436 020c A091 0000 		lds r26,(CurrAddress)+2
 437 0210 B091 0000 		lds r27,(CurrAddress)+3
 438 0214 0196      		adiw r24,1
 439 0216 A11D      		adc r26,__zero_reg__
 440 0218 B11D      		adc r27,__zero_reg__
 441 021a 8093 0000 		sts CurrAddress,r24
 442 021e 9093 0000 		sts (CurrAddress)+1,r25
 443 0222 A093 0000 		sts (CurrAddress)+2,r26
 444 0226 B093 0000 		sts (CurrAddress)+3,r27
 445               	/* epilogue: frame size=0 */
 446 022a 0895      		ret
 447               	/* epilogue end (size=1) */
 448               	/* function V2P_IncrementCurrAddress size 20 (19) */
 449               	.LFE18:
 451               	.global	V2P_CheckForExtendedAddress
 453               	V2P_CheckForExtendedAddress:
 454               	.LFB19:
 455               	.LM63:
 456               	/* prologue: frame size=0 */
 457               	/* prologue end (size=0) */
 458               	.LM64:
 459 022c 8091 0000 		lds r24,CurrAddress
 460 0230 9091 0000 		lds r25,(CurrAddress)+1
 461 0234 A091 0000 		lds r26,(CurrAddress)+2
 462 0238 B091 0000 		lds r27,(CurrAddress)+3
 463 023c B7FF      		sbrs r27,7
 464 023e 1EC0      		rjmp .L50
 465               	.LM65:
 466 0240 8DE4      		ldi r24,lo8(77)
 467 0242 0E94 0000 		call USI_SPITransmit
 468               	.LM66:
 469 0246 80E0      		ldi r24,lo8(0)
 470 0248 0E94 0000 		call USI_SPITransmit
 471               	.LM67:
 472 024c 8091 0000 		lds r24,CurrAddress+2
 473 0250 0E94 0000 		call USI_SPITransmit
 474               	.LM68:
 475 0254 80E0      		ldi r24,lo8(0)
 476 0256 0E94 0000 		call USI_SPITransmit
 477               	.LM69:
 478 025a 8091 0000 		lds r24,CurrAddress
 479 025e 9091 0000 		lds r25,(CurrAddress)+1
 480 0262 A091 0000 		lds r26,(CurrAddress)+2
 481 0266 B091 0000 		lds r27,(CurrAddress)+3
 482 026a BF77      		andi r27,hhi8(2147483647)
 483 026c 8093 0000 		sts CurrAddress,r24
 484 0270 9093 0000 		sts (CurrAddress)+1,r25
 485 0274 A093 0000 		sts (CurrAddress)+2,r26
 486 0278 B093 0000 		sts (CurrAddress)+3,r27
 487               	.L50:
 488 027c 0895      		ret
 489               	/* epilogue: frame size=0 */
 490               	/* epilogue: noreturn */
 491               	/* epilogue end (size=0) */
 492               	/* function V2P_CheckForExtendedAddress size 41 (41) */
 493               	.LFE19:
 495               	.global	V2P_RunStateMachine
 497               	V2P_RunStateMachine:
 498               	.LFB14:
 499               	.LM70:
 500               	/* prologue: frame size=0 */
 501 027e EF92      		push r14
 502 0280 FF92      		push r15
 503 0282 0F93      		push r16
 504 0284 1F93      		push r17
 505 0286 CF93      		push r28
 506               	/* prologue end (size=5) */
 507               	.LM71:
 508 0288 C0E0      		ldi r28,lo8(0)
 509               	.LM72:
 510 028a EE24      		clr r14
 511 028c FF24      		clr r15
 512               	.LM73:
 513 028e 0E94 0000 		call BUFF_InitialiseBuffer
 514               	.LM74:
 515 0292 C093 8100 		sts 129,r28
 516               	.LM75:
 517 0296 C093 0000 		sts InProgrammingMode,r28
 518               	.LM76:
 519 029a 1092 0000 		sts CurrAddress,__zero_reg__
 520 029e 1092 0000 		sts (CurrAddress)+1,__zero_reg__
 521 02a2 1092 0000 		sts (CurrAddress)+2,__zero_reg__
 522 02a6 1092 0000 		sts (CurrAddress)+3,__zero_reg__
 523               	.L113:
 524               	.LM77:
 525 02aa 8091 0000 		lds r24,PacketTimeOut
 526 02ae 8130      		cpi r24,lo8(1)
 527 02b0 11F4      		brne .L56
 528               	.LM78:
 529 02b2 CAE0      		ldi r28,lo8(10)
 530 02b4 11C0      		rjmp .L57
 531               	.L56:
 532               	.LM79:
 533 02b6 CC23      		tst r28
 534 02b8 79F0      		breq .L57
 535               	.LM80:
 536 02ba 1092 0000 		sts PacketTimeOut,__zero_reg__
 537 02be 1092 0000 		sts PacketTimeOutTicks,__zero_reg__
 538 02c2 1092 B200 		sts 178,__zero_reg__
 539 02c6 80EF      		ldi r24,lo8(-16)
 540 02c8 8093 B300 		sts 179,r24
 541 02cc 82E0      		ldi r24,lo8(2)
 542 02ce 8093 7000 		sts 112,r24
 543 02d2 8FE0      		ldi r24,lo8(15)
 544 02d4 8093 B000 		sts 176,r24
 545               	.L57:
 546               	.LM81:
 547 02d8 8C2F      		mov r24,r28
 548 02da 9927      		clr r25
 549 02dc 8530      		cpi r24,5
 550 02de 9105      		cpc r25,__zero_reg__
 551 02e0 09F4      		brne .+2
 552 02e2 88C0      		rjmp .L81
 553 02e4 8630      		cpi r24,6
 554 02e6 9105      		cpc r25,__zero_reg__
 555 02e8 ACF4      		brge .L102
 556 02ea 8230      		cpi r24,2
 557 02ec 9105      		cpc r25,__zero_reg__
 558 02ee 09F4      		brne .+2
 559 02f0 58C0      		rjmp .L76
 560 02f2 8330      		cpi r24,3
 561 02f4 9105      		cpc r25,__zero_reg__
 562 02f6 34F4      		brge .L103
 563 02f8 0097      		sbiw r24,0
 564 02fa 99F1      		breq .L65
 565 02fc 0197      		sbiw r24,1
 566 02fe 09F4      		brne .+2
 567 0300 4AC0      		rjmp .L73
 568 0302 D3CF      		rjmp .L113
 569               	.L103:
 570 0304 8330      		cpi r24,3
 571 0306 9105      		cpc r25,__zero_reg__
 572 0308 09F4      		brne .+2
 573 030a 54C0      		rjmp .L77
 574 030c 0497      		sbiw r24,4
 575 030e 09F4      		brne .+2
 576 0310 5CC0      		rjmp .L78
 577 0312 CBCF      		rjmp .L113
 578               	.L102:
 579 0314 8830      		cpi r24,8
 580 0316 9105      		cpc r25,__zero_reg__
 581 0318 D1F0      		breq .L63
 582 031a 8930      		cpi r24,9
 583 031c 9105      		cpc r25,__zero_reg__
 584 031e 44F4      		brge .L104
 585 0320 8630      		cpi r24,6
 586 0322 9105      		cpc r25,__zero_reg__
 587 0324 09F4      		brne .+2
 588 0326 6EC0      		rjmp .L84
 589 0328 0797      		sbiw r24,7
 590 032a 09F4      		brne .+2
 591 032c 7FC0      		rjmp .L87
 592 032e BDCF      		rjmp .L113
 593               	.L104:
 594 0330 8930      		cpi r24,9
 595 0332 9105      		cpc r25,__zero_reg__
 596 0334 09F4      		brne .+2
 597 0336 ACC0      		rjmp .L95
 598 0338 0A97      		sbiw r24,10
 599 033a 09F0      		breq .+2
 600 033c B6CF      		rjmp .L113
 601               	.LM82:
 602 033e 82E0      		ldi r24,lo8(2)
 603 0340 90E0      		ldi r25,hi8(2)
 604 0342 9093 0000 		sts (MessageSize)+1,r25
 605 0346 8093 0000 		sts MessageSize,r24
 606               	.LM83:
 607 034a 80E8      		ldi r24,lo8(-128)
 608 034c F7C0      		rjmp .L112
 609               	.L63:
 610               	.LM84:
 611 034e 1092 0000 		sts PacketTimeOut,__zero_reg__
 612               	.LM85:
 613 0352 0E94 0000 		call BUFF_InitialiseBuffer
 614               	.LM86:
 615 0356 1092 B000 		sts 176,__zero_reg__
 616 035a 1092 7000 		sts 112,__zero_reg__
 617               	.LM87:
 618 035e C0E0      		ldi r28,lo8(0)
 619               	.LM88:
 620 0360 A4CF      		rjmp .L113
 621               	.L65:
 622               	.LM89:
 623 0362 8091 0000 		lds r24,BuffElements
 624 0366 8111      		cpse r24,__zero_reg__
 625               	.LM90:
 626 0368 C1E0      		ldi r28,lo8(1)
 627               	.L66:
 628               	.LM91:
 629 036a F29B      		sbis 62-0x20,2
 630 036c 9ECF      		rjmp .L113
 631 036e 8091 0000 		lds r24,InProgrammingMode
 632 0372 8823      		tst r24
 633 0374 09F0      		breq .+2
 634 0376 99CF      		rjmp .L113
 635               	.LM92:
 636 0378 80E8      		ldi r24,lo8(-128)
 637 037a 8093 6100 		sts 97,r24
 638 037e 83E0      		ldi r24,lo8(3)
 639 0380 8093 6100 		sts 97,r24
 640 0384 8091 C100 		lds r24,193
 641 0388 8078      		andi r24,lo8(-128)
 642 038a 8093 C100 		sts 193,r24
 643               	.LM93:
 644 038e 81E0      		ldi r24,lo8(1)
 645 0390 8093 8100 		sts 129,r24
 646               	.LM94:
 647 0394 D9C0      		rjmp .L52
 648               	.L73:
 649               	.LM95:
 650 0396 0E94 0000 		call USART_Rx
 651 039a 8B31      		cpi r24,lo8(27)
 652 039c 89F5      		brne .L82
 653               	.LM96:
 654 039e C2E0      		ldi r28,lo8(2)
 655 03a0 84CF      		rjmp .L113
 656               	.L76:
 657               	.LM97:
 658 03a2 0E94 0000 		call USART_Rx
 659 03a6 9927      		clr r25
 660 03a8 9093 0000 		sts (SequenceNum)+1,r25
 661 03ac 8093 0000 		sts SequenceNum,r24
 662               	.LM98:
 663 03b0 C3E0      		ldi r28,lo8(3)
 664               	.LM99:
 665 03b2 7BCF      		rjmp .L113
 666               	.L77:
 667               	.LM100:
 668 03b4 0E94 0000 		call USART_Rx
 669 03b8 9927      		clr r25
 670 03ba 982F      		mov r25,r24
 671 03bc 8827      		clr r24
 672 03be 9093 0000 		sts (MessageSize)+1,r25
 673 03c2 8093 0000 		sts MessageSize,r24
 674               	.LM101:
 675 03c6 C4E0      		ldi r28,lo8(4)
 676               	.LM102:
 677 03c8 70CF      		rjmp .L113
 678               	.L78:
 679               	.LM103:
 680 03ca 0E94 0000 		call USART_Rx
 681 03ce 282F      		mov r18,r24
 682 03d0 3327      		clr r19
 683 03d2 8091 0000 		lds r24,MessageSize
 684 03d6 9091 0000 		lds r25,(MessageSize)+1
 685 03da 822B      		or r24,r18
 686 03dc 932B      		or r25,r19
 687 03de 9093 0000 		sts (MessageSize)+1,r25
 688 03e2 8093 0000 		sts MessageSize,r24
 689               	.LM104:
 690 03e6 8351      		subi r24,lo8(275)
 691 03e8 9140      		sbci r25,hi8(275)
 692 03ea 50F4      		brsh .L82
 693               	.LM105:
 694 03ec C5E0      		ldi r28,lo8(5)
 695               	.LM106:
 696 03ee EE24      		clr r14
 697 03f0 FF24      		clr r15
 698 03f2 5BCF      		rjmp .L113
 699               	.L81:
 700               	.LM107:
 701 03f4 0E94 0000 		call USART_Rx
 702 03f8 8E30      		cpi r24,lo8(14)
 703 03fa 11F4      		brne .L82
 704               	.LM108:
 705 03fc C6E0      		ldi r28,lo8(6)
 706 03fe 55CF      		rjmp .L113
 707               	.L82:
 708               	.LM109:
 709 0400 C9E0      		ldi r28,lo8(9)
 710               	.LM110:
 711 0402 53CF      		rjmp .L113
 712               	.L84:
 713               	.LM111:
 714 0404 8091 0000 		lds r24,MessageSize
 715 0408 9091 0000 		lds r25,(MessageSize)+1
 716 040c E816      		cp r14,r24
 717 040e F906      		cpc r15,r25
 718 0410 11F4      		brne .L85
 719               	.LM112:
 720 0412 C7E0      		ldi r28,lo8(7)
 721 0414 4ACF      		rjmp .L113
 722               	.L85:
 723               	.LM113:
 724 0416 8701      		movw r16,r14
 725 0418 0050      		subi r16,lo8(-(PacketBytes))
 726 041a 1040      		sbci r17,hi8(-(PacketBytes))
 727 041c 0894      		sec
 728 041e E11C      		adc r14,__zero_reg__
 729 0420 F11C      		adc r15,__zero_reg__
 730 0422 0E94 0000 		call USART_Rx
 731 0426 F801      		movw r30,r16
 732 0428 8083      		st Z,r24
 733               	.LM114:
 734 042a 3FCF      		rjmp .L113
 735               	.L87:
 736               	.LM115:
 737 042c 0E94 0000 		call V2P_GetChecksum
 738 0430 182F      		mov r17,r24
 739 0432 0E94 0000 		call USART_Rx
 740 0436 1817      		cp r17,r24
 741 0438 09F0      		breq .+2
 742 043a 79C0      		rjmp .L88
 743 043c C091 0000 		lds r28,PacketTimeOut
 744 0440 CC23      		tst r28
 745 0442 09F0      		breq .+2
 746 0444 74C0      		rjmp .L88
 747               	.LM116:
 748 0446 8091 0000 		lds r24,PacketBytes
 749 044a 9927      		clr r25
 750 044c 8430      		cpi r24,4
 751 044e 9105      		cpc r25,__zero_reg__
 752 0450 3CF4      		brge .L100
 753 0452 8230      		cpi r24,2
 754 0454 9105      		cpc r25,__zero_reg__
 755 0456 0CF0      		brlt .+2
 756 0458 61C0      		rjmp .L98
 757 045a 0197      		sbiw r24,1
 758 045c 39F0      		breq .L90
 759 045e 61C0      		rjmp .L99
 760               	.L100:
 761 0460 8630      		cpi r24,6
 762 0462 9105      		cpc r25,__zero_reg__
 763 0464 E9F0      		breq .L96
 764 0466 0797      		sbiw r24,7
 765 0468 99F0      		breq .L95
 766 046a 5BC0      		rjmp .L99
 767               	.L90:
 768               	.LM117:
 769 046c 8BE0      		ldi r24,lo8(11)
 770 046e 90E0      		ldi r25,hi8(11)
 771 0470 9093 0000 		sts (MessageSize)+1,r25
 772 0474 8093 0000 		sts MessageSize,r24
 773 0478 A0E0      		ldi r26,lo8(PacketBytes)
 774 047a B0E0      		ldi r27,hi8(PacketBytes)
 775 047c E0E0      		ldi r30,lo8(SignonResponse)
 776 047e F0E0      		ldi r31,hi8(SignonResponse)
 777 0480 9AE0      		ldi r25,lo8(10)
 778               	.L94:
 779               	.LBB14:
 780               	.LBB15:
 781               	.LM118:
 782               	/* #APP */
 783 0482 8491      		lpm r24, Z
 784               		
 785               	/* #NOAPP */
 786               	.LBE15:
 787 0484 8D93      		st X+,r24
 788               	.LM119:
 789 0486 9150      		subi r25,lo8(-(-1))
 790 0488 3196      		adiw r30,1
 791 048a 97FF      		sbrs r25,7
 792 048c FACF      		rjmp .L94
 793 048e 58C0      		rjmp .L111
 794               	.L95:
 795               	.LBE14:
 796               	.LM120:
 797 0490 82E0      		ldi r24,lo8(2)
 798 0492 90E0      		ldi r25,hi8(2)
 799 0494 9093 0000 		sts (MessageSize)+1,r25
 800 0498 8093 0000 		sts MessageSize,r24
 801               	.LM121:
 802 049c 80EC      		ldi r24,lo8(-64)
 803 049e 4EC0      		rjmp .L112
 804               	.L96:
 805               	.LM122:
 806 04a0 82E0      		ldi r24,lo8(2)
 807 04a2 90E0      		ldi r25,hi8(2)
 808 04a4 9093 0000 		sts (MessageSize)+1,r25
 809 04a8 8093 0000 		sts MessageSize,r24
 810               	.LM123:
 811 04ac 0E94 0000 		call V2P_CheckForExtendedAddress
 812               	.LM124:
 813 04b0 8091 0000 		lds r24,PacketBytes+1
 814 04b4 9927      		clr r25
 815 04b6 AA27      		clr r26
 816 04b8 BB27      		clr r27
 817 04ba B82F      		mov r27,r24
 818 04bc AA27      		clr r26
 819 04be 9927      		clr r25
 820 04c0 8827      		clr r24
 821 04c2 2091 0000 		lds r18,PacketBytes+2
 822 04c6 3327      		clr r19
 823 04c8 4427      		clr r20
 824 04ca 5527      		clr r21
 825 04cc A901      		movw r20,r18
 826 04ce 3327      		clr r19
 827 04d0 2227      		clr r18
 828 04d2 822B      		or r24,r18
 829 04d4 932B      		or r25,r19
 830 04d6 A42B      		or r26,r20
 831 04d8 B52B      		or r27,r21
 832 04da 2091 0000 		lds r18,PacketBytes+3
 833 04de 3327      		clr r19
 834 04e0 4427      		clr r20
 835 04e2 5527      		clr r21
 836 04e4 542F      		mov r21,r20
 837 04e6 432F      		mov r20,r19
 838 04e8 322F      		mov r19,r18
 839 04ea 2227      		clr r18
 840 04ec 822B      		or r24,r18
 841 04ee 932B      		or r25,r19
 842 04f0 A42B      		or r26,r20
 843 04f2 B52B      		or r27,r21
 844 04f4 2091 0000 		lds r18,PacketBytes+4
 845 04f8 3327      		clr r19
 846 04fa 4427      		clr r20
 847 04fc 5527      		clr r21
 848 04fe 822B      		or r24,r18
 849 0500 932B      		or r25,r19
 850 0502 A42B      		or r26,r20
 851 0504 B52B      		or r27,r21
 852 0506 8093 0000 		sts CurrAddress,r24
 853 050a 9093 0000 		sts (CurrAddress)+1,r25
 854 050e A093 0000 		sts (CurrAddress)+2,r26
 855 0512 B093 0000 		sts (CurrAddress)+3,r27
 856               	.LM125:
 857 0516 C093 0000 		sts PacketBytes+1,r28
 858 051a 12C0      		rjmp .L111
 859               	.L98:
 860               	.LM126:
 861 051c 0E94 0000 		call V2P_GetSetParamater
 862               	.LM127:
 863 0520 11C0      		rjmp .L110
 864               	.L99:
 865               	.LM128:
 866 0522 E091 0000 		lds r30,InterpretPacketRoutine
 867 0526 F091 0000 		lds r31,(InterpretPacketRoutine)+1
 868 052a 0995      		icall
 869 052c 0BC0      		rjmp .L110
 870               	.L88:
 871               	.LM129:
 872 052e 82E0      		ldi r24,lo8(2)
 873 0530 90E0      		ldi r25,hi8(2)
 874 0532 9093 0000 		sts (MessageSize)+1,r25
 875 0536 8093 0000 		sts MessageSize,r24
 876               	.LM130:
 877 053a 81EC      		ldi r24,lo8(-63)
 878               	.L112:
 879 053c 8093 0000 		sts PacketBytes+1,r24
 880               	.L111:
 881               	.LM131:
 882 0540 0E94 0000 		call V2P_SendPacket
 883               	.L110:
 884               	.LM132:
 885 0544 C8E0      		ldi r28,lo8(8)
 886 0546 B1CE      		rjmp .L113
 887               	.L52:
 888               	/* epilogue: frame size=0 */
 889 0548 CF91      		pop r28
 890 054a 1F91      		pop r17
 891 054c 0F91      		pop r16
 892 054e FF90      		pop r15
 893 0550 EF90      		pop r14
 894 0552 0895      		ret
 895               	/* epilogue end (size=6) */
 896               	/* function V2P_RunStateMachine size 374 (363) */
 897               	.LFE14:
 899               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 V2Protocol.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:23     .bss:00000000 Param_ControllerInit
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:29     .bss:00000001 CurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:35     .bss:00000005 InProgrammingMode
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:41     .bss:00000006 MessageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:47     .bss:00000008 SequenceNum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:53     .bss:0000000a PacketBytes
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:59     .data:00000000 InterpretPacketRoutine
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:65     .progmem.data:00000000 SignonResponse
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:80     .text:00000000 V2P_GetChecksum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:134    .text:00000042 V2P_SendPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:205    .text:000000c2 V2P_GetSetParamater
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:428    .text:00000204 V2P_IncrementCurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:453    .text:0000022c V2P_CheckForExtendedAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccqWaaaa.s:497    .text:0000027e V2P_RunStateMachine

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
AICI_InterpretPacket
USART_Tx
EEPROMVars
__eeprom_read_byte_1F2021
__eeprom_write_byte_1F2021
USI_SPISetSpeed
MAIN_ResetCSLine
USI_SPITransmit
BUFF_InitialiseBuffer
PacketTimeOut
PacketTimeOutTicks
BuffElements
USART_Rx
