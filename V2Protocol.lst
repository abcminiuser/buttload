   1               		.file	"V2Protocol.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	Param_ControllerInit
  19               	.global	Param_ControllerInit
  20               		.section .bss
  23               	Param_ControllerInit:
  24 0000 00        		.skip 1,0
  25               	.global	CurrAddress
  26               	.global	CurrAddress
  29               	CurrAddress:
  30 0001 0000 0000 		.skip 4,0
  31               	.global	InProgrammingMode
  32               	.global	InProgrammingMode
  35               	InProgrammingMode:
  36 0005 00        		.skip 1,0
  37               	.global	MessageSize
  38               	.global	MessageSize
  41               	MessageSize:
  42 0006 0000      		.skip 2,0
  43               	.global	SequenceNum
  44               	.global	SequenceNum
  47               	SequenceNum:
  48 0008 0000      		.skip 2,0
  49               	.global	PacketBytes
  50               	.global	PacketBytes
  53               	PacketBytes:
  54 000a 0000 0000 		.skip 275,0
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  55               	.global	InterpretPacketRoutine
  56               		.data
  59               	InterpretPacketRoutine:
  60 0000 0000      		.word	pm(AICI_InterpretPacket)
  61               	.global	SignonResponse
  62               		.section	.progmem.data,"a",@progbits
  65               	SignonResponse:
  66 0000 01        		.byte	1
  67 0001 00        		.byte	0
  68 0002 08        		.byte	8
  69 0003 41        		.byte	65
  70 0004 56        		.byte	86
  71 0005 52        		.byte	82
  72 0006 49        		.byte	73
  73 0007 53        		.byte	83
  74 0008 50        		.byte	80
  75 0009 5F        		.byte	95
  76 000a 32        		.byte	50
  77               	.global	VersionData
  80               	VersionData:
  81 000b 02        		.byte	2
  82 000c 02        		.byte	2
  83 000d 04        		.byte	4
  84               		.text
  85               	.global	V2P_GetChecksum
  87               	V2P_GetChecksum:
  88               	.LFB16:
  89               	.LM1:
  90               	/* prologue: frame size=0 */
  91               	/* prologue end (size=0) */
  92               	.LM2:
  93 0000 6BE1      		ldi r22,lo8(27)
  94               	.LM3:
  95 0002 8091 0000 		lds r24,SequenceNum
  96 0006 6827      		eor r22,r24
  97               	.LM4:
  98 0008 2091 0000 		lds r18,MessageSize
  99 000c 3091 0000 		lds r19,(MessageSize)+1
 100 0010 832F      		mov r24,r19
 101 0012 9927      		clr r25
 102 0014 6827      		eor r22,r24
 103               	.LM5:
 104 0016 8091 0000 		lds r24,MessageSize
 105 001a 6827      		eor r22,r24
 106               	.LM6:
 107 001c 8EE0      		ldi r24,lo8(14)
 108 001e 6827      		eor r22,r24
 109               	.LBB2:
 110               	.LM7:
 111 0020 40E0      		ldi r20,lo8(0)
 112 0022 50E0      		ldi r21,hi8(0)
 113 0024 4217      		cp r20,r18
 114 0026 5307      		cpc r21,r19
 115 0028 48F4      		brsh .L7
 116 002a E0E0      		ldi r30,lo8(PacketBytes)
 117 002c F0E0      		ldi r31,hi8(PacketBytes)
 118               	.L5:
 119               	.LM8:
 120 002e 8191      		ld r24,Z+
 121 0030 6827      		eor r22,r24
 122               	.LM9:
 123 0032 4F5F      		subi r20,lo8(-(1))
 124 0034 5F4F      		sbci r21,hi8(-(1))
 125 0036 4217      		cp r20,r18
 126 0038 5307      		cpc r21,r19
 127 003a C8F3      		brlo .L5
 128               	.L7:
 129               	.LBE2:
 130               	.LM10:
 131 003c 862F      		mov r24,r22
 132 003e 9927      		clr r25
 133               	/* epilogue: frame size=0 */
 134 0040 0895      		ret
 135               	/* epilogue end (size=1) */
 136               	/* function V2P_GetChecksum size 33 (32) */
 137               	.LFE16:
 139               	.global	V2P_SendPacket
 141               	V2P_SendPacket:
 142               	.LFB15:
 143               	.LM11:
 144               	/* prologue: frame size=0 */
 145 0042 0F93      		push r16
 146 0044 1F93      		push r17
 147 0046 CF93      		push r28
 148 0048 DF93      		push r29
 149               	/* prologue end (size=4) */
 150               	.LM12:
 151 004a 8BE1      		ldi r24,lo8(27)
 152 004c 0E94 0000 		call USART_Tx
 153               	.LM13:
 154 0050 8091 0000 		lds r24,SequenceNum
 155 0054 0E94 0000 		call USART_Tx
 156               	.LM14:
 157 0058 8091 0000 		lds r24,MessageSize+1
 158 005c 0E94 0000 		call USART_Tx
 159               	.LM15:
 160 0060 8091 0000 		lds r24,MessageSize
 161 0064 0E94 0000 		call USART_Tx
 162               	.LM16:
 163 0068 8EE0      		ldi r24,lo8(14)
 164 006a 0E94 0000 		call USART_Tx
 165               	.LBB3:
 166               	.LM17:
 167 006e C0E0      		ldi r28,lo8(0)
 168 0070 D0E0      		ldi r29,hi8(0)
 169 0072 8091 0000 		lds r24,MessageSize
 170 0076 9091 0000 		lds r25,(MessageSize)+1
 171 007a C817      		cp r28,r24
 172 007c D907      		cpc r29,r25
 173 007e 78F4      		brsh .L14
 174 0080 00E0      		ldi r16,lo8(PacketBytes)
 175 0082 10E0      		ldi r17,hi8(PacketBytes)
 176               	.L12:
 177               	.LM18:
 178 0084 F801      		movw r30,r16
 179 0086 8191      		ld r24,Z+
 180 0088 8F01      		movw r16,r30
 181 008a 0E94 0000 		call USART_Tx
 182               	.LM19:
 183 008e 2196      		adiw r28,1
 184 0090 8091 0000 		lds r24,MessageSize
 185 0094 9091 0000 		lds r25,(MessageSize)+1
 186 0098 C817      		cp r28,r24
 187 009a D907      		cpc r29,r25
 188 009c 98F3      		brlo .L12
 189               	.L14:
 190               	.LBE3:
 191               	.LM20:
 192 009e 0E94 0000 		call V2P_GetChecksum
 193 00a2 0E94 0000 		call USART_Tx
 194               	.LM21:
 195 00a6 8091 0000 		lds r24,SequenceNum
 196 00aa 9091 0000 		lds r25,(SequenceNum)+1
 197 00ae 0196      		adiw r24,1
 198 00b0 9093 0000 		sts (SequenceNum)+1,r25
 199 00b4 8093 0000 		sts SequenceNum,r24
 200               	/* epilogue: frame size=0 */
 201 00b8 DF91      		pop r29
 202 00ba CF91      		pop r28
 203 00bc 1F91      		pop r17
 204 00be 0F91      		pop r16
 205 00c0 0895      		ret
 206               	/* epilogue end (size=5) */
 207               	/* function V2P_SendPacket size 64 (55) */
 208               	.LFE15:
 210               	.global	V2P_GetSetParamater
 212               	V2P_GetSetParamater:
 213               	.LFB17:
 214               	.LM22:
 215               	/* prologue: frame size=0 */
 216               	/* prologue end (size=0) */
 217               	.LM23:
 218 00c2 2091 0000 		lds r18,PacketBytes+1
 219               	.LM24:
 220 00c6 83E0      		ldi r24,lo8(3)
 221 00c8 90E0      		ldi r25,hi8(3)
 222 00ca 9093 0000 		sts (MessageSize)+1,r25
 223 00ce 8093 0000 		sts MessageSize,r24
 224               	.LM25:
 225 00d2 1092 0000 		sts PacketBytes+1,__zero_reg__
 226               	.LM26:
 227 00d6 E22F      		mov r30,r18
 228 00d8 FF27      		clr r31
 229 00da E839      		cpi r30,152
 230 00dc F105      		cpc r31,__zero_reg__
 231 00de ACF4      		brge .L40
 232               	.LM27:
 233 00e0 E639      		cpi r30,150
 234 00e2 F105      		cpc r31,__zero_reg__
 235 00e4 0CF0      		brlt .+2
 236 00e6 6BC0      		rjmp .L36
 237 00e8 E138      		cpi r30,129
 238 00ea F105      		cpc r31,__zero_reg__
 239 00ec F9F0      		breq .L18
 240 00ee E238      		cpi r30,130
 241 00f0 F105      		cpc r31,__zero_reg__
 242 00f2 24F4      		brge .L41
 243 00f4 E038      		cpi r30,128
 244 00f6 F105      		cpc r31,__zero_reg__
 245 00f8 B9F0      		breq .L17
 246 00fa 6FC0      		rjmp .L39
 247               	.L41:
 248 00fc CF01      		movw r24,r30
 249 00fe 8059      		subi r24,lo8(-(-144))
 250 0100 9040      		sbci r25,hi8(-(-144))
 251 0102 0397      		sbiw r24,3
 252 0104 08F0      		brlo .+2
 253 0106 69C0      		rjmp .L39
 254 0108 13C0      		rjmp .L21
 255               	.L40:
 256 010a EE39      		cpi r30,158
 257 010c F105      		cpc r31,__zero_reg__
 258 010e 09F4      		brne .+2
 259 0110 3BC0      		rjmp .L30
 260 0112 EF39      		cpi r30,159
 261 0114 F105      		cpc r31,__zero_reg__
 262 0116 24F4      		brge .L42
 263 0118 E839      		cpi r30,152
 264 011a F105      		cpc r31,__zero_reg__
 265 011c F9F0      		breq .L25
 266 011e 5DC0      		rjmp .L39
 267               	.L42:
 268 0120 EF39      		cpi r30,159
 269 0122 F105      		cpc r31,__zero_reg__
 270 0124 49F0      		breq .L22
 271 0126 59C0      		rjmp .L39
 272               	.L17:
 273               	.LM28:
 274 0128 83E0      		ldi r24,lo8(3)
 275 012a 37C0      		rjmp .L44
 276               	.L18:
 277               	.LM29:
 278 012c 81E0      		ldi r24,lo8(1)
 279 012e 35C0      		rjmp .L44
 280               	.L21:
 281               	.LBB4:
 282               	.LM30:
 283 0130 E050      		subi r30,lo8(-(VersionData-144))
 284 0132 F040      		sbci r31,hi8(-(VersionData-144))
 285               	/* #APP */
 286 0134 8491      		lpm r24, Z
 287               		
 288               	/* #NOAPP */
 289 0136 31C0      		rjmp .L44
 290               	.L22:
 291               	.LBE4:
 292               	.LM31:
 293 0138 8091 0000 		lds r24,PacketBytes
 294 013c 8330      		cpi r24,lo8(3)
 295 013e 19F4      		brne .L23
 296               	.LM32:
 297 0140 8091 0000 		lds r24,Param_ControllerInit
 298 0144 2AC0      		rjmp .L44
 299               	.L23:
 300               	.LM33:
 301 0146 82E0      		ldi r24,lo8(2)
 302 0148 90E0      		ldi r25,hi8(2)
 303 014a 9093 0000 		sts (MessageSize)+1,r25
 304 014e 8093 0000 		sts MessageSize,r24
 305               	.LM34:
 306 0152 8091 0000 		lds r24,PacketBytes+2
 307 0156 8093 0000 		sts Param_ControllerInit,r24
 308               	.LM35:
 309 015a 48C0      		rjmp .L16
 310               	.L25:
 311               	.LM36:
 312 015c 8091 0000 		lds r24,PacketBytes
 313 0160 A0E0      		ldi r26,lo8(EEPROMVars+1)
 314 0162 B0E0      		ldi r27,hi8(EEPROMVars+1)
 315 0164 8330      		cpi r24,lo8(3)
 316 0166 B1F0      		breq .L43
 317               	.LM37:
 318 0168 82E0      		ldi r24,lo8(2)
 319 016a 90E0      		ldi r25,hi8(2)
 320 016c 9093 0000 		sts (MessageSize)+1,r25
 321 0170 8093 0000 		sts MessageSize,r24
 322               	.LBB5:
 323               	.LM38:
 324 0174 8091 0000 		lds r24,PacketBytes+2
 325               	.LBB6:
 326               	.LM39:
 327               	/* #APP */
 328 0178 082E      		mov __tmp_reg__,r24
 329 017a 0E94 0000 		call __eeprom_write_byte_1F2021
 330               	/* #NOAPP */
 331               	.LBE6:
 332               	.LBE5:
 333               	.LM40:
 334 017e 8091 0000 		lds r24,PacketBytes+2
 335 0182 0E94 0000 		call USI_SPISetSpeed
 336               	.LM41:
 337 0186 32C0      		rjmp .L16
 338               	.L30:
 339               	.LM42:
 340 0188 8091 0000 		lds r24,PacketBytes
 341 018c A0E0      		ldi r26,lo8(EEPROMVars)
 342 018e B0E0      		ldi r27,hi8(EEPROMVars)
 343 0190 8330      		cpi r24,lo8(3)
 344 0192 31F4      		brne .L31
 345               	.L43:
 346               	.LBB7:
 347               	.LBB8:
 348               	.LM43:
 349               	/* #APP */
 350 0194 0E94 0000 		call __eeprom_read_byte_1F2021
 351 0198 802D      		mov r24,__tmp_reg__
 352               	/* #NOAPP */
 353               	.L44:
 354               	.LBE8:
 355               	.LBE7:
 356               	.LM44:
 357 019a 8093 0000 		sts PacketBytes+2,r24
 358 019e 26C0      		rjmp .L16
 359               	.L31:
 360               	.LM45:
 361 01a0 82E0      		ldi r24,lo8(2)
 362 01a2 90E0      		ldi r25,hi8(2)
 363 01a4 9093 0000 		sts (MessageSize)+1,r25
 364 01a8 8093 0000 		sts MessageSize,r24
 365               	.LBB9:
 366               	.LM46:
 367 01ac 8091 0000 		lds r24,PacketBytes+2
 368               	.LBB10:
 369               	.LM47:
 370               	/* #APP */
 371 01b0 082E      		mov __tmp_reg__,r24
 372 01b2 0E94 0000 		call __eeprom_write_byte_1F2021
 373               	/* #NOAPP */
 374               	.LBE10:
 375               	.LBE9:
 376               	.LM48:
 377 01b6 81E0      		ldi r24,lo8(1)
 378 01b8 0E94 0000 		call MAIN_ResetCSLine
 379               	.LM49:
 380 01bc 17C0      		rjmp .L16
 381               	.L36:
 382               	.LM50:
 383 01be 8091 0000 		lds r24,PacketBytes
 384 01c2 8330      		cpi r24,lo8(3)
 385 01c4 19F4      		brne .L37
 386               	.LM51:
 387 01c6 1092 0000 		sts PacketBytes+2,__zero_reg__
 388 01ca 10C0      		rjmp .L16
 389               	.L37:
 390               	.LM52:
 391 01cc 82E0      		ldi r24,lo8(2)
 392 01ce 90E0      		ldi r25,hi8(2)
 393 01d0 9093 0000 		sts (MessageSize)+1,r25
 394 01d4 8093 0000 		sts MessageSize,r24
 395               	.LM53:
 396 01d8 09C0      		rjmp .L16
 397               	.L39:
 398               	.LM54:
 399 01da 82E0      		ldi r24,lo8(2)
 400 01dc 90E0      		ldi r25,hi8(2)
 401 01de 9093 0000 		sts (MessageSize)+1,r25
 402 01e2 8093 0000 		sts MessageSize,r24
 403               	.LM55:
 404 01e6 80EC      		ldi r24,lo8(-64)
 405 01e8 8093 0000 		sts PacketBytes+1,r24
 406               	.L16:
 407               	.LM56:
 408 01ec 0E94 0000 		call V2P_SendPacket
 409               	/* epilogue: frame size=0 */
 410 01f0 0895      		ret
 411               	/* epilogue end (size=1) */
 412               	/* function V2P_GetSetParamater size 158 (157) */
 413               	.LFE17:
 415               	.global	V2P_IncrementCurrAddress
 417               	V2P_IncrementCurrAddress:
 418               	.LFB18:
 419               	.LM57:
 420               	/* prologue: frame size=0 */
 421               	/* prologue end (size=0) */
 422               	.LM58:
 423 01f2 8091 0000 		lds r24,CurrAddress
 424 01f6 9091 0000 		lds r25,(CurrAddress)+1
 425 01fa A091 0000 		lds r26,(CurrAddress)+2
 426 01fe B091 0000 		lds r27,(CurrAddress)+3
 427 0202 0196      		adiw r24,1
 428 0204 A11D      		adc r26,__zero_reg__
 429 0206 B11D      		adc r27,__zero_reg__
 430 0208 8093 0000 		sts CurrAddress,r24
 431 020c 9093 0000 		sts (CurrAddress)+1,r25
 432 0210 A093 0000 		sts (CurrAddress)+2,r26
 433 0214 B093 0000 		sts (CurrAddress)+3,r27
 434               	/* epilogue: frame size=0 */
 435 0218 0895      		ret
 436               	/* epilogue end (size=1) */
 437               	/* function V2P_IncrementCurrAddress size 20 (19) */
 438               	.LFE18:
 440               	.global	V2P_CheckForExtendedAddress
 442               	V2P_CheckForExtendedAddress:
 443               	.LFB19:
 444               	.LM59:
 445               	/* prologue: frame size=0 */
 446               	/* prologue end (size=0) */
 447               	.LM60:
 448 021a 8091 0000 		lds r24,CurrAddress
 449 021e 9091 0000 		lds r25,(CurrAddress)+1
 450 0222 A091 0000 		lds r26,(CurrAddress)+2
 451 0226 B091 0000 		lds r27,(CurrAddress)+3
 452 022a B7FF      		sbrs r27,7
 453 022c 1EC0      		rjmp .L46
 454               	.LM61:
 455 022e 8DE4      		ldi r24,lo8(77)
 456 0230 0E94 0000 		call USI_SPITransmit
 457               	.LM62:
 458 0234 80E0      		ldi r24,lo8(0)
 459 0236 0E94 0000 		call USI_SPITransmit
 460               	.LM63:
 461 023a 8091 0000 		lds r24,CurrAddress+2
 462 023e 0E94 0000 		call USI_SPITransmit
 463               	.LM64:
 464 0242 80E0      		ldi r24,lo8(0)
 465 0244 0E94 0000 		call USI_SPITransmit
 466               	.LM65:
 467 0248 8091 0000 		lds r24,CurrAddress
 468 024c 9091 0000 		lds r25,(CurrAddress)+1
 469 0250 A091 0000 		lds r26,(CurrAddress)+2
 470 0254 B091 0000 		lds r27,(CurrAddress)+3
 471 0258 BF77      		andi r27,hhi8(2147483647)
 472 025a 8093 0000 		sts CurrAddress,r24
 473 025e 9093 0000 		sts (CurrAddress)+1,r25
 474 0262 A093 0000 		sts (CurrAddress)+2,r26
 475 0266 B093 0000 		sts (CurrAddress)+3,r27
 476               	.L46:
 477 026a 0895      		ret
 478               	/* epilogue: frame size=0 */
 479               	/* epilogue: noreturn */
 480               	/* epilogue end (size=0) */
 481               	/* function V2P_CheckForExtendedAddress size 41 (41) */
 482               	.LFE19:
 484               	.global	V2P_RunStateMachine
 486               	V2P_RunStateMachine:
 487               	.LFB14:
 488               	.LM66:
 489               	/* prologue: frame size=0 */
 490 026c EF92      		push r14
 491 026e FF92      		push r15
 492 0270 0F93      		push r16
 493 0272 1F93      		push r17
 494 0274 CF93      		push r28
 495               	/* prologue end (size=5) */
 496               	.LM67:
 497 0276 C0E0      		ldi r28,lo8(0)
 498               	.LM68:
 499 0278 EE24      		clr r14
 500 027a FF24      		clr r15
 501               	.LM69:
 502 027c 0E94 0000 		call BUFF_InitialiseBuffer
 503               	.LM70:
 504 0280 0E94 0000 		call TIMEOUT_SetupTimeoutTimer
 505               	.LM71:
 506 0284 C093 0000 		sts InProgrammingMode,r28
 507               	.LM72:
 508 0288 1092 0000 		sts CurrAddress,__zero_reg__
 509 028c 1092 0000 		sts (CurrAddress)+1,__zero_reg__
 510 0290 1092 0000 		sts (CurrAddress)+2,__zero_reg__
 511 0294 1092 0000 		sts (CurrAddress)+3,__zero_reg__
 512               	.L106:
 513               	.LM73:
 514 0298 8091 0000 		lds r24,TimeOut
 515 029c 8130      		cpi r24,lo8(1)
 516 029e 11F4      		brne .L51
 517               	.LM74:
 518 02a0 C9E0      		ldi r28,lo8(9)
 519 02a2 05C0      		rjmp .L52
 520               	.L51:
 521               	.LM75:
 522 02a4 CC23      		tst r28
 523 02a6 19F0      		breq .L52
 524               	.LM76:
 525 02a8 83E0      		ldi r24,lo8(3)
 526 02aa 8093 8100 		sts 129,r24
 527               	.L52:
 528               	.LM77:
 529 02ae 8C2F      		mov r24,r28
 530 02b0 9927      		clr r25
 531 02b2 8430      		cpi r24,4
 532 02b4 9105      		cpc r25,__zero_reg__
 533 02b6 09F4      		brne .+2
 534 02b8 73C0      		rjmp .L71
 535 02ba 8530      		cpi r24,5
 536 02bc 9105      		cpc r25,__zero_reg__
 537 02be 94F4      		brge .L95
 538 02c0 8130      		cpi r24,1
 539 02c2 9105      		cpc r25,__zero_reg__
 540 02c4 09F4      		brne .+2
 541 02c6 52C0      		rjmp .L66
 542 02c8 8230      		cpi r24,2
 543 02ca 9105      		cpc r25,__zero_reg__
 544 02cc 1CF4      		brge .L96
 545 02ce 892B      		or r24,r25
 546 02d0 B1F1      		breq .L59
 547 02d2 E2CF      		rjmp .L106
 548               	.L96:
 549 02d4 8230      		cpi r24,2
 550 02d6 9105      		cpc r25,__zero_reg__
 551 02d8 09F4      		brne .+2
 552 02da 4EC0      		rjmp .L69
 553 02dc 0397      		sbiw r24,3
 554 02de 09F4      		brne .+2
 555 02e0 54C0      		rjmp .L70
 556 02e2 DACF      		rjmp .L106
 557               	.L95:
 558 02e4 8730      		cpi r24,7
 559 02e6 9105      		cpc r25,__zero_reg__
 560 02e8 09F4      		brne .+2
 561 02ea 8BC0      		rjmp .L80
 562 02ec 8830      		cpi r24,8
 563 02ee 9105      		cpc r25,__zero_reg__
 564 02f0 44F4      		brge .L97
 565 02f2 8530      		cpi r24,5
 566 02f4 9105      		cpc r25,__zero_reg__
 567 02f6 09F4      		brne .+2
 568 02f8 68C0      		rjmp .L74
 569 02fa 0697      		sbiw r24,6
 570 02fc 09F4      		brne .+2
 571 02fe 6DC0      		rjmp .L77
 572 0300 CBCF      		rjmp .L106
 573               	.L97:
 574 0302 8830      		cpi r24,8
 575 0304 9105      		cpc r25,__zero_reg__
 576 0306 79F0      		breq .L57
 577 0308 0997      		sbiw r24,9
 578 030a 31F6      		brne .L106
 579               	.LM78:
 580 030c 82E0      		ldi r24,lo8(2)
 581 030e 90E0      		ldi r25,hi8(2)
 582 0310 9093 0000 		sts (MessageSize)+1,r25
 583 0314 8093 0000 		sts MessageSize,r24
 584               	.LM79:
 585 0318 80EC      		ldi r24,lo8(-64)
 586 031a 8093 0000 		sts PacketBytes+1,r24
 587               	.LM80:
 588 031e 1092 0000 		sts TimeOut,__zero_reg__
 589               	.LM81:
 590 0322 0E94 0000 		call V2P_SendPacket
 591               	.L57:
 592               	.LM82:
 593 0326 0E94 0000 		call BUFF_InitialiseBuffer
 594               	.LM83:
 595 032a 1092 8100 		sts 129,__zero_reg__
 596 032e 1092 0000 		sts Ticks,__zero_reg__
 597 0332 1092 8500 		sts (132)+1,__zero_reg__
 598 0336 1092 8400 		sts 132,__zero_reg__
 599               	.LM84:
 600 033a C0E0      		ldi r28,lo8(0)
 601               	.LM85:
 602 033c ADCF      		rjmp .L106
 603               	.L59:
 604               	.LM86:
 605 033e 8091 0000 		lds r24,BuffElements
 606 0342 8111      		cpse r24,__zero_reg__
 607               	.LM87:
 608 0344 C1E0      		ldi r28,lo8(1)
 609               	.L60:
 610               	.LM88:
 611 0346 F29B      		sbis 62-0x20,2
 612 0348 A7CF      		rjmp .L106
 613 034a 8091 0000 		lds r24,InProgrammingMode
 614 034e 8823      		tst r24
 615 0350 09F0      		breq .+2
 616 0352 A2CF      		rjmp .L106
 617               	.LM89:
 618 0354 80E8      		ldi r24,lo8(-128)
 619 0356 8093 6100 		sts 97,r24
 620 035a 83E0      		ldi r24,lo8(3)
 621 035c 8093 6100 		sts 97,r24
 622 0360 8091 C100 		lds r24,193
 623 0364 8078      		andi r24,lo8(-128)
 624 0366 8093 C100 		sts 193,r24
 625               	.LM90:
 626 036a D4C0      		rjmp .L48
 627               	.L66:
 628               	.LM91:
 629 036c 0E94 0000 		call USART_Rx
 630 0370 8B31      		cpi r24,lo8(27)
 631 0372 89F5      		brne .L75
 632               	.LM92:
 633 0374 C2E0      		ldi r28,lo8(2)
 634 0376 90CF      		rjmp .L106
 635               	.L69:
 636               	.LM93:
 637 0378 0E94 0000 		call USART_Rx
 638 037c 9927      		clr r25
 639 037e 9093 0000 		sts (SequenceNum)+1,r25
 640 0382 8093 0000 		sts SequenceNum,r24
 641               	.LM94:
 642 0386 C3E0      		ldi r28,lo8(3)
 643               	.LM95:
 644 0388 87CF      		rjmp .L106
 645               	.L70:
 646               	.LM96:
 647 038a 0E94 0000 		call USART_Rx
 648 038e 9927      		clr r25
 649 0390 982F      		mov r25,r24
 650 0392 8827      		clr r24
 651 0394 9093 0000 		sts (MessageSize)+1,r25
 652 0398 8093 0000 		sts MessageSize,r24
 653               	.LM97:
 654 039c C4E0      		ldi r28,lo8(4)
 655               	.LM98:
 656 039e 7CCF      		rjmp .L106
 657               	.L71:
 658               	.LM99:
 659 03a0 0E94 0000 		call USART_Rx
 660 03a4 282F      		mov r18,r24
 661 03a6 3327      		clr r19
 662 03a8 8091 0000 		lds r24,MessageSize
 663 03ac 9091 0000 		lds r25,(MessageSize)+1
 664 03b0 822B      		or r24,r18
 665 03b2 932B      		or r25,r19
 666 03b4 9093 0000 		sts (MessageSize)+1,r25
 667 03b8 8093 0000 		sts MessageSize,r24
 668               	.LM100:
 669 03bc 8351      		subi r24,lo8(275)
 670 03be 9140      		sbci r25,hi8(275)
 671 03c0 50F4      		brsh .L75
 672               	.LM101:
 673 03c2 C5E0      		ldi r28,lo8(5)
 674               	.LM102:
 675 03c4 EE24      		clr r14
 676 03c6 FF24      		clr r15
 677 03c8 67CF      		rjmp .L106
 678               	.L74:
 679               	.LM103:
 680 03ca 0E94 0000 		call USART_Rx
 681 03ce 8E30      		cpi r24,lo8(14)
 682 03d0 11F4      		brne .L75
 683               	.LM104:
 684 03d2 C6E0      		ldi r28,lo8(6)
 685 03d4 61CF      		rjmp .L106
 686               	.L75:
 687               	.LM105:
 688 03d6 C9E0      		ldi r28,lo8(9)
 689               	.LM106:
 690 03d8 5FCF      		rjmp .L106
 691               	.L77:
 692               	.LM107:
 693 03da 8091 0000 		lds r24,MessageSize
 694 03de 9091 0000 		lds r25,(MessageSize)+1
 695 03e2 E816      		cp r14,r24
 696 03e4 F906      		cpc r15,r25
 697 03e6 11F4      		brne .L78
 698               	.LM108:
 699 03e8 C7E0      		ldi r28,lo8(7)
 700 03ea 56CF      		rjmp .L106
 701               	.L78:
 702               	.LM109:
 703 03ec 8701      		movw r16,r14
 704 03ee 0050      		subi r16,lo8(-(PacketBytes))
 705 03f0 1040      		sbci r17,hi8(-(PacketBytes))
 706 03f2 0894      		sec
 707 03f4 E11C      		adc r14,__zero_reg__
 708 03f6 F11C      		adc r15,__zero_reg__
 709 03f8 0E94 0000 		call USART_Rx
 710 03fc F801      		movw r30,r16
 711 03fe 8083      		st Z,r24
 712               	.LM110:
 713 0400 4BCF      		rjmp .L106
 714               	.L80:
 715               	.LM111:
 716 0402 0E94 0000 		call V2P_GetChecksum
 717 0406 182F      		mov r17,r24
 718 0408 0E94 0000 		call USART_Rx
 719 040c 1817      		cp r17,r24
 720 040e 09F0      		breq .+2
 721 0410 74C0      		rjmp .L81
 722               	.LM112:
 723 0412 8091 0000 		lds r24,PacketBytes
 724 0416 9927      		clr r25
 725 0418 8430      		cpi r24,4
 726 041a 9105      		cpc r25,__zero_reg__
 727 041c 3CF4      		brge .L93
 728 041e 8230      		cpi r24,2
 729 0420 9105      		cpc r25,__zero_reg__
 730 0422 0CF0      		brlt .+2
 731 0424 61C0      		rjmp .L91
 732 0426 0197      		sbiw r24,1
 733 0428 39F0      		breq .L83
 734 042a 61C0      		rjmp .L92
 735               	.L93:
 736 042c 8630      		cpi r24,6
 737 042e 9105      		cpc r25,__zero_reg__
 738 0430 E9F0      		breq .L89
 739 0432 0797      		sbiw r24,7
 740 0434 99F0      		breq .L88
 741 0436 5BC0      		rjmp .L92
 742               	.L83:
 743               	.LM113:
 744 0438 8BE0      		ldi r24,lo8(11)
 745 043a 90E0      		ldi r25,hi8(11)
 746 043c 9093 0000 		sts (MessageSize)+1,r25
 747 0440 8093 0000 		sts MessageSize,r24
 748 0444 A0E0      		ldi r26,lo8(PacketBytes)
 749 0446 B0E0      		ldi r27,hi8(PacketBytes)
 750 0448 E0E0      		ldi r30,lo8(SignonResponse)
 751 044a F0E0      		ldi r31,hi8(SignonResponse)
 752 044c 9AE0      		ldi r25,lo8(10)
 753               	.L87:
 754               	.LBB11:
 755               	.LBB12:
 756               	.LM114:
 757               	/* #APP */
 758 044e 8491      		lpm r24, Z
 759               		
 760               	/* #NOAPP */
 761               	.LBE12:
 762 0450 8D93      		st X+,r24
 763               	.LM115:
 764 0452 9150      		subi r25,lo8(-(-1))
 765 0454 3196      		adiw r30,1
 766 0456 97FF      		sbrs r25,7
 767 0458 FACF      		rjmp .L87
 768 045a 58C0      		rjmp .L104
 769               	.L88:
 770               	.LBE11:
 771               	.LM116:
 772 045c 82E0      		ldi r24,lo8(2)
 773 045e 90E0      		ldi r25,hi8(2)
 774 0460 9093 0000 		sts (MessageSize)+1,r25
 775 0464 8093 0000 		sts MessageSize,r24
 776               	.LM117:
 777 0468 80EC      		ldi r24,lo8(-64)
 778 046a 4EC0      		rjmp .L105
 779               	.L89:
 780               	.LM118:
 781 046c 82E0      		ldi r24,lo8(2)
 782 046e 90E0      		ldi r25,hi8(2)
 783 0470 9093 0000 		sts (MessageSize)+1,r25
 784 0474 8093 0000 		sts MessageSize,r24
 785               	.LM119:
 786 0478 0E94 0000 		call V2P_CheckForExtendedAddress
 787               	.LM120:
 788 047c 8091 0000 		lds r24,PacketBytes+1
 789 0480 9927      		clr r25
 790 0482 AA27      		clr r26
 791 0484 BB27      		clr r27
 792 0486 B82F      		mov r27,r24
 793 0488 AA27      		clr r26
 794 048a 9927      		clr r25
 795 048c 8827      		clr r24
 796 048e 2091 0000 		lds r18,PacketBytes+2
 797 0492 3327      		clr r19
 798 0494 4427      		clr r20
 799 0496 5527      		clr r21
 800 0498 A901      		movw r20,r18
 801 049a 3327      		clr r19
 802 049c 2227      		clr r18
 803 049e 822B      		or r24,r18
 804 04a0 932B      		or r25,r19
 805 04a2 A42B      		or r26,r20
 806 04a4 B52B      		or r27,r21
 807 04a6 2091 0000 		lds r18,PacketBytes+3
 808 04aa 3327      		clr r19
 809 04ac 4427      		clr r20
 810 04ae 5527      		clr r21
 811 04b0 542F      		mov r21,r20
 812 04b2 432F      		mov r20,r19
 813 04b4 322F      		mov r19,r18
 814 04b6 2227      		clr r18
 815 04b8 822B      		or r24,r18
 816 04ba 932B      		or r25,r19
 817 04bc A42B      		or r26,r20
 818 04be B52B      		or r27,r21
 819 04c0 2091 0000 		lds r18,PacketBytes+4
 820 04c4 3327      		clr r19
 821 04c6 4427      		clr r20
 822 04c8 5527      		clr r21
 823 04ca 822B      		or r24,r18
 824 04cc 932B      		or r25,r19
 825 04ce A42B      		or r26,r20
 826 04d0 B52B      		or r27,r21
 827 04d2 8093 0000 		sts CurrAddress,r24
 828 04d6 9093 0000 		sts (CurrAddress)+1,r25
 829 04da A093 0000 		sts (CurrAddress)+2,r26
 830 04de B093 0000 		sts (CurrAddress)+3,r27
 831               	.LM121:
 832 04e2 1092 0000 		sts PacketBytes+1,__zero_reg__
 833 04e6 12C0      		rjmp .L104
 834               	.L91:
 835               	.LM122:
 836 04e8 0E94 0000 		call V2P_GetSetParamater
 837               	.LM123:
 838 04ec 11C0      		rjmp .L103
 839               	.L92:
 840               	.LM124:
 841 04ee E091 0000 		lds r30,InterpretPacketRoutine
 842 04f2 F091 0000 		lds r31,(InterpretPacketRoutine)+1
 843 04f6 0995      		icall
 844 04f8 0BC0      		rjmp .L103
 845               	.L81:
 846               	.LM125:
 847 04fa 82E0      		ldi r24,lo8(2)
 848 04fc 90E0      		ldi r25,hi8(2)
 849 04fe 9093 0000 		sts (MessageSize)+1,r25
 850 0502 8093 0000 		sts MessageSize,r24
 851               	.LM126:
 852 0506 81EC      		ldi r24,lo8(-63)
 853               	.L105:
 854 0508 8093 0000 		sts PacketBytes+1,r24
 855               	.L104:
 856               	.LM127:
 857 050c 0E94 0000 		call V2P_SendPacket
 858               	.L103:
 859               	.LM128:
 860 0510 C8E0      		ldi r28,lo8(8)
 861 0512 C2CE      		rjmp .L106
 862               	.L48:
 863               	/* epilogue: frame size=0 */
 864 0514 CF91      		pop r28
 865 0516 1F91      		pop r17
 866 0518 0F91      		pop r16
 867 051a FF90      		pop r15
 868 051c EF90      		pop r14
 869 051e 0895      		ret
 870               	/* epilogue end (size=6) */
 871               	/* function V2P_RunStateMachine size 356 (345) */
 872               	.LFE14:
 874               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 V2Protocol.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:23     .bss:00000000 Param_ControllerInit
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:29     .bss:00000001 CurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:35     .bss:00000005 InProgrammingMode
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:41     .bss:00000006 MessageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:47     .bss:00000008 SequenceNum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:53     .bss:0000000a PacketBytes
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:59     .data:00000000 InterpretPacketRoutine
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:65     .progmem.data:00000000 SignonResponse
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:80     .progmem.data:0000000b VersionData
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:87     .text:00000000 V2P_GetChecksum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:141    .text:00000042 V2P_SendPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:212    .text:000000c2 V2P_GetSetParamater
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:417    .text:000001f2 V2P_IncrementCurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:442    .text:0000021a V2P_CheckForExtendedAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccOsaaaa.s:486    .text:0000026c V2P_RunStateMachine

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
AICI_InterpretPacket
USART_Tx
EEPROMVars
__eeprom_write_byte_1F2021
USI_SPISetSpeed
__eeprom_read_byte_1F2021
MAIN_ResetCSLine
USI_SPITransmit
BUFF_InitialiseBuffer
TIMEOUT_SetupTimeoutTimer
TimeOut
Ticks
BuffElements
USART_Rx
