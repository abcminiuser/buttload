   1               		.file	"V2Protocol.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	Param_ControllerInit
  19               	.global	Param_ControllerInit
  20               		.section .bss
  23               	Param_ControllerInit:
  24 0000 00        		.skip 1,0
  25               	.global	CurrAddress
  26               	.global	CurrAddress
  29               	CurrAddress:
  30 0001 0000 0000 		.skip 4,0
  31               	.global	InProgrammingMode
  32               	.global	InProgrammingMode
  35               	InProgrammingMode:
  36 0005 00        		.skip 1,0
  37               	.global	MessageSize
  38               	.global	MessageSize
  41               	MessageSize:
  42 0006 0000      		.skip 2,0
  43               	.global	SequenceNum
  44               	.global	SequenceNum
  47               	SequenceNum:
  48 0008 0000      		.skip 2,0
  49               	.global	PacketBytes
  50               	.global	PacketBytes
  53               	PacketBytes:
  54 000a 0000 0000 		.skip 275,0
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  54      0000 0000 
  55               	.global	InterpretPacketRoutine
  56               		.data
  59               	InterpretPacketRoutine:
  60 0000 0000      		.word	pm(AICI_InterpretPacket)
  61               	.global	SignonResponse
  62               		.section	.progmem.data,"a",@progbits
  65               	SignonResponse:
  66 0000 01        		.byte	1
  67 0001 00        		.byte	0
  68 0002 08        		.byte	8
  69 0003 41        		.byte	65
  70 0004 56        		.byte	86
  71 0005 52        		.byte	82
  72 0006 49        		.byte	73
  73 0007 53        		.byte	83
  74 0008 50        		.byte	80
  75 0009 5F        		.byte	95
  76 000a 32        		.byte	50
  77               		.text
  78               	.global	V2P_GetChecksum
  80               	V2P_GetChecksum:
  81               	.LFB16:
  82               	.LM1:
  83               	/* prologue: frame size=0 */
  84               	/* prologue end (size=0) */
  85               	.LM2:
  86 0000 6BE1      		ldi r22,lo8(27)
  87               	.LM3:
  88 0002 8091 0000 		lds r24,SequenceNum
  89 0006 6827      		eor r22,r24
  90               	.LM4:
  91 0008 2091 0000 		lds r18,MessageSize
  92 000c 3091 0000 		lds r19,(MessageSize)+1
  93 0010 832F      		mov r24,r19
  94 0012 9927      		clr r25
  95 0014 6827      		eor r22,r24
  96               	.LM5:
  97 0016 8091 0000 		lds r24,MessageSize
  98 001a 6827      		eor r22,r24
  99               	.LM6:
 100 001c 8EE0      		ldi r24,lo8(14)
 101 001e 6827      		eor r22,r24
 102               	.LBB2:
 103               	.LM7:
 104 0020 40E0      		ldi r20,lo8(0)
 105 0022 50E0      		ldi r21,hi8(0)
 106 0024 4217      		cp r20,r18
 107 0026 5307      		cpc r21,r19
 108 0028 48F4      		brsh .L7
 109 002a E0E0      		ldi r30,lo8(PacketBytes)
 110 002c F0E0      		ldi r31,hi8(PacketBytes)
 111               	.L5:
 112               	.LM8:
 113 002e 8191      		ld r24,Z+
 114 0030 6827      		eor r22,r24
 115               	.LM9:
 116 0032 4F5F      		subi r20,lo8(-(1))
 117 0034 5F4F      		sbci r21,hi8(-(1))
 118 0036 4217      		cp r20,r18
 119 0038 5307      		cpc r21,r19
 120 003a C8F3      		brlo .L5
 121               	.L7:
 122               	.LBE2:
 123               	.LM10:
 124 003c 862F      		mov r24,r22
 125 003e 9927      		clr r25
 126               	/* epilogue: frame size=0 */
 127 0040 0895      		ret
 128               	/* epilogue end (size=1) */
 129               	/* function V2P_GetChecksum size 33 (32) */
 130               	.LFE16:
 132               	.global	V2P_SendPacket
 134               	V2P_SendPacket:
 135               	.LFB15:
 136               	.LM11:
 137               	/* prologue: frame size=0 */
 138 0042 0F93      		push r16
 139 0044 1F93      		push r17
 140 0046 CF93      		push r28
 141 0048 DF93      		push r29
 142               	/* prologue end (size=4) */
 143               	.LM12:
 144 004a 8BE1      		ldi r24,lo8(27)
 145 004c 0E94 0000 		call USART_Tx
 146               	.LM13:
 147 0050 8091 0000 		lds r24,SequenceNum
 148 0054 0E94 0000 		call USART_Tx
 149               	.LM14:
 150 0058 8091 0000 		lds r24,MessageSize+1
 151 005c 0E94 0000 		call USART_Tx
 152               	.LM15:
 153 0060 8091 0000 		lds r24,MessageSize
 154 0064 0E94 0000 		call USART_Tx
 155               	.LM16:
 156 0068 8EE0      		ldi r24,lo8(14)
 157 006a 0E94 0000 		call USART_Tx
 158               	.LBB3:
 159               	.LM17:
 160 006e C0E0      		ldi r28,lo8(0)
 161 0070 D0E0      		ldi r29,hi8(0)
 162 0072 8091 0000 		lds r24,MessageSize
 163 0076 9091 0000 		lds r25,(MessageSize)+1
 164 007a C817      		cp r28,r24
 165 007c D907      		cpc r29,r25
 166 007e 78F4      		brsh .L14
 167 0080 00E0      		ldi r16,lo8(PacketBytes)
 168 0082 10E0      		ldi r17,hi8(PacketBytes)
 169               	.L12:
 170               	.LM18:
 171 0084 F801      		movw r30,r16
 172 0086 8191      		ld r24,Z+
 173 0088 8F01      		movw r16,r30
 174 008a 0E94 0000 		call USART_Tx
 175               	.LM19:
 176 008e 2196      		adiw r28,1
 177 0090 8091 0000 		lds r24,MessageSize
 178 0094 9091 0000 		lds r25,(MessageSize)+1
 179 0098 C817      		cp r28,r24
 180 009a D907      		cpc r29,r25
 181 009c 98F3      		brlo .L12
 182               	.L14:
 183               	.LBE3:
 184               	.LM20:
 185 009e 0E94 0000 		call V2P_GetChecksum
 186 00a2 0E94 0000 		call USART_Tx
 187               	.LM21:
 188 00a6 8091 0000 		lds r24,SequenceNum
 189 00aa 9091 0000 		lds r25,(SequenceNum)+1
 190 00ae 0196      		adiw r24,1
 191 00b0 9093 0000 		sts (SequenceNum)+1,r25
 192 00b4 8093 0000 		sts SequenceNum,r24
 193               	/* epilogue: frame size=0 */
 194 00b8 DF91      		pop r29
 195 00ba CF91      		pop r28
 196 00bc 1F91      		pop r17
 197 00be 0F91      		pop r16
 198 00c0 0895      		ret
 199               	/* epilogue end (size=5) */
 200               	/* function V2P_SendPacket size 64 (55) */
 201               	.LFE15:
 203               	.global	V2P_GetSetParamater
 205               	V2P_GetSetParamater:
 206               	.LFB17:
 207               	.LM22:
 208               	/* prologue: frame size=0 */
 209               	/* prologue end (size=0) */
 210               	.LM23:
 211 00c2 2091 0000 		lds r18,PacketBytes+1
 212               	.LM24:
 213 00c6 83E0      		ldi r24,lo8(3)
 214 00c8 90E0      		ldi r25,hi8(3)
 215 00ca 9093 0000 		sts (MessageSize)+1,r25
 216 00ce 8093 0000 		sts MessageSize,r24
 217               	.LM25:
 218 00d2 1092 0000 		sts PacketBytes+1,__zero_reg__
 219               	.LM26:
 220 00d6 3327      		clr r19
 221 00d8 2239      		cpi r18,146
 222 00da 3105      		cpc r19,__zero_reg__
 223 00dc 51F1      		breq .L21
 224               	.LM27:
 225 00de 2339      		cpi r18,147
 226 00e0 3105      		cpc r19,__zero_reg__
 227 00e2 8CF4      		brge .L44
 228 00e4 2138      		cpi r18,129
 229 00e6 3105      		cpc r19,__zero_reg__
 230 00e8 01F1      		breq .L18
 231 00ea 2238      		cpi r18,130
 232 00ec 3105      		cpc r19,__zero_reg__
 233 00ee 24F4      		brge .L45
 234 00f0 2038      		cpi r18,128
 235 00f2 3105      		cpc r19,__zero_reg__
 236 00f4 41F1      		breq .L22
 237 00f6 7AC0      		rjmp .L43
 238               	.L45:
 239 00f8 2039      		cpi r18,144
 240 00fa 3105      		cpc r19,__zero_reg__
 241 00fc C1F0      		breq .L20
 242 00fe 2139      		cpi r18,145
 243 0100 3105      		cpc r19,__zero_reg__
 244 0102 A9F0      		breq .L20
 245 0104 73C0      		rjmp .L43
 246               	.L44:
 247 0106 2839      		cpi r18,152
 248 0108 3105      		cpc r19,__zero_reg__
 249 010a 89F1      		breq .L29
 250 010c 2939      		cpi r18,153
 251 010e 3105      		cpc r19,__zero_reg__
 252 0110 2CF4      		brge .L46
 253 0112 2639      		cpi r18,150
 254 0114 3105      		cpc r19,__zero_reg__
 255 0116 0CF4      		brge .+2
 256 0118 69C0      		rjmp .L43
 257 011a 5AC0      		rjmp .L40
 258               	.L46:
 259 011c 2E39      		cpi r18,158
 260 011e 3105      		cpc r19,__zero_reg__
 261 0120 E1F1      		breq .L34
 262 0122 2F39      		cpi r18,159
 263 0124 3105      		cpc r19,__zero_reg__
 264 0126 89F0      		breq .L26
 265 0128 61C0      		rjmp .L43
 266               	.L18:
 267               	.LM28:
 268 012a 81E0      		ldi r24,lo8(1)
 269 012c 3FC0      		rjmp .L48
 270               	.L20:
 271               	.LM29:
 272 012e 82E0      		ldi r24,lo8(2)
 273 0130 3DC0      		rjmp .L48
 274               	.L21:
 275               	.LBB4:
 276               	.LM30:
 277 0132 A0E0      		ldi r26,lo8(EEPROMVars+134)
 278 0134 B0E0      		ldi r27,hi8(EEPROMVars+134)
 279 0136 9D01      		movw r18,r26
 280               	.LBB5:
 281               	.LM31:
 282               	/* #APP */
 283 0138 0E94 0000 		call __eeprom_read_byte_1F2021
 284 013c 802D      		mov r24,__tmp_reg__
 285               	/* #NOAPP */
 286               	.LBE5:
 287               	.LBE4:
 288               	.LM32:
 289 013e 8F3F      		cpi r24,lo8(-1)
 290 0140 11F0      		breq .L22
 291               	.LBB6:
 292               	.LBB7:
 293               	.LM33:
 294 0142 D901      		movw r26,r18
 295 0144 30C0      		rjmp .L47
 296               	.L22:
 297               	.LBE7:
 298               	.LBE6:
 299               	.LM34:
 300 0146 84E0      		ldi r24,lo8(4)
 301 0148 31C0      		rjmp .L48
 302               	.L26:
 303               	.LM35:
 304 014a 8091 0000 		lds r24,PacketBytes
 305 014e 8330      		cpi r24,lo8(3)
 306 0150 19F4      		brne .L27
 307               	.LM36:
 308 0152 8091 0000 		lds r24,Param_ControllerInit
 309 0156 2AC0      		rjmp .L48
 310               	.L27:
 311               	.LM37:
 312 0158 82E0      		ldi r24,lo8(2)
 313 015a 90E0      		ldi r25,hi8(2)
 314 015c 9093 0000 		sts (MessageSize)+1,r25
 315 0160 8093 0000 		sts MessageSize,r24
 316               	.LM38:
 317 0164 8091 0000 		lds r24,PacketBytes+2
 318 0168 8093 0000 		sts Param_ControllerInit,r24
 319               	.LM39:
 320 016c 48C0      		rjmp .L16
 321               	.L29:
 322               	.LM40:
 323 016e 8091 0000 		lds r24,PacketBytes
 324 0172 A0E0      		ldi r26,lo8(EEPROMVars+1)
 325 0174 B0E0      		ldi r27,hi8(EEPROMVars+1)
 326 0176 8330      		cpi r24,lo8(3)
 327 0178 B1F0      		breq .L47
 328               	.LM41:
 329 017a 82E0      		ldi r24,lo8(2)
 330 017c 90E0      		ldi r25,hi8(2)
 331 017e 9093 0000 		sts (MessageSize)+1,r25
 332 0182 8093 0000 		sts MessageSize,r24
 333               	.LBB8:
 334               	.LM42:
 335 0186 8091 0000 		lds r24,PacketBytes+2
 336               	.LBB9:
 337               	.LM43:
 338               	/* #APP */
 339 018a 082E      		mov __tmp_reg__,r24
 340 018c 0E94 0000 		call __eeprom_write_byte_1F2021
 341               	/* #NOAPP */
 342               	.LBE9:
 343               	.LBE8:
 344               	.LM44:
 345 0190 8091 0000 		lds r24,PacketBytes+2
 346 0194 0E94 0000 		call USI_SPISetSpeed
 347               	.LM45:
 348 0198 32C0      		rjmp .L16
 349               	.L34:
 350               	.LM46:
 351 019a 8091 0000 		lds r24,PacketBytes
 352 019e A0E0      		ldi r26,lo8(EEPROMVars)
 353 01a0 B0E0      		ldi r27,hi8(EEPROMVars)
 354 01a2 8330      		cpi r24,lo8(3)
 355 01a4 31F4      		brne .L35
 356               	.L47:
 357               	.LBB10:
 358               	.LBB11:
 359               	.LM47:
 360               	/* #APP */
 361 01a6 0E94 0000 		call __eeprom_read_byte_1F2021
 362 01aa 802D      		mov r24,__tmp_reg__
 363               	/* #NOAPP */
 364               	.L48:
 365               	.LBE11:
 366               	.LBE10:
 367               	.LM48:
 368 01ac 8093 0000 		sts PacketBytes+2,r24
 369 01b0 26C0      		rjmp .L16
 370               	.L35:
 371               	.LM49:
 372 01b2 82E0      		ldi r24,lo8(2)
 373 01b4 90E0      		ldi r25,hi8(2)
 374 01b6 9093 0000 		sts (MessageSize)+1,r25
 375 01ba 8093 0000 		sts MessageSize,r24
 376               	.LBB12:
 377               	.LM50:
 378 01be 8091 0000 		lds r24,PacketBytes+2
 379               	.LBB13:
 380               	.LM51:
 381               	/* #APP */
 382 01c2 082E      		mov __tmp_reg__,r24
 383 01c4 0E94 0000 		call __eeprom_write_byte_1F2021
 384               	/* #NOAPP */
 385               	.LBE13:
 386               	.LBE12:
 387               	.LM52:
 388 01c8 81E0      		ldi r24,lo8(1)
 389 01ca 0E94 0000 		call MAIN_ResetCSLine
 390               	.LM53:
 391 01ce 17C0      		rjmp .L16
 392               	.L40:
 393               	.LM54:
 394 01d0 8091 0000 		lds r24,PacketBytes
 395 01d4 8330      		cpi r24,lo8(3)
 396 01d6 19F4      		brne .L41
 397               	.LM55:
 398 01d8 1092 0000 		sts PacketBytes+2,__zero_reg__
 399 01dc 10C0      		rjmp .L16
 400               	.L41:
 401               	.LM56:
 402 01de 82E0      		ldi r24,lo8(2)
 403 01e0 90E0      		ldi r25,hi8(2)
 404 01e2 9093 0000 		sts (MessageSize)+1,r25
 405 01e6 8093 0000 		sts MessageSize,r24
 406               	.LM57:
 407 01ea 09C0      		rjmp .L16
 408               	.L43:
 409               	.LM58:
 410 01ec 82E0      		ldi r24,lo8(2)
 411 01ee 90E0      		ldi r25,hi8(2)
 412 01f0 9093 0000 		sts (MessageSize)+1,r25
 413 01f4 8093 0000 		sts MessageSize,r24
 414               	.LM59:
 415 01f8 80EC      		ldi r24,lo8(-64)
 416 01fa 8093 0000 		sts PacketBytes+1,r24
 417               	.L16:
 418               	.LM60:
 419 01fe 0E94 0000 		call V2P_SendPacket
 420               	/* epilogue: frame size=0 */
 421 0202 0895      		ret
 422               	/* epilogue end (size=1) */
 423               	/* function V2P_GetSetParamater size 165 (164) */
 424               	.LFE17:
 426               	.global	V2P_IncrementCurrAddress
 428               	V2P_IncrementCurrAddress:
 429               	.LFB18:
 430               	.LM61:
 431               	/* prologue: frame size=0 */
 432               	/* prologue end (size=0) */
 433               	.LM62:
 434 0204 8091 0000 		lds r24,CurrAddress
 435 0208 9091 0000 		lds r25,(CurrAddress)+1
 436 020c A091 0000 		lds r26,(CurrAddress)+2
 437 0210 B091 0000 		lds r27,(CurrAddress)+3
 438 0214 0196      		adiw r24,1
 439 0216 A11D      		adc r26,__zero_reg__
 440 0218 B11D      		adc r27,__zero_reg__
 441 021a 8093 0000 		sts CurrAddress,r24
 442 021e 9093 0000 		sts (CurrAddress)+1,r25
 443 0222 A093 0000 		sts (CurrAddress)+2,r26
 444 0226 B093 0000 		sts (CurrAddress)+3,r27
 445               	/* epilogue: frame size=0 */
 446 022a 0895      		ret
 447               	/* epilogue end (size=1) */
 448               	/* function V2P_IncrementCurrAddress size 20 (19) */
 449               	.LFE18:
 451               	.global	V2P_CheckForExtendedAddress
 453               	V2P_CheckForExtendedAddress:
 454               	.LFB19:
 455               	.LM63:
 456               	/* prologue: frame size=0 */
 457               	/* prologue end (size=0) */
 458               	.LM64:
 459 022c 8091 0000 		lds r24,CurrAddress
 460 0230 9091 0000 		lds r25,(CurrAddress)+1
 461 0234 A091 0000 		lds r26,(CurrAddress)+2
 462 0238 B091 0000 		lds r27,(CurrAddress)+3
 463 023c B7FF      		sbrs r27,7
 464 023e 1EC0      		rjmp .L50
 465               	.LM65:
 466 0240 8DE4      		ldi r24,lo8(77)
 467 0242 0E94 0000 		call USI_SPITransmit
 468               	.LM66:
 469 0246 80E0      		ldi r24,lo8(0)
 470 0248 0E94 0000 		call USI_SPITransmit
 471               	.LM67:
 472 024c 8091 0000 		lds r24,CurrAddress+2
 473 0250 0E94 0000 		call USI_SPITransmit
 474               	.LM68:
 475 0254 80E0      		ldi r24,lo8(0)
 476 0256 0E94 0000 		call USI_SPITransmit
 477               	.LM69:
 478 025a 8091 0000 		lds r24,CurrAddress
 479 025e 9091 0000 		lds r25,(CurrAddress)+1
 480 0262 A091 0000 		lds r26,(CurrAddress)+2
 481 0266 B091 0000 		lds r27,(CurrAddress)+3
 482 026a BF77      		andi r27,hhi8(2147483647)
 483 026c 8093 0000 		sts CurrAddress,r24
 484 0270 9093 0000 		sts (CurrAddress)+1,r25
 485 0274 A093 0000 		sts (CurrAddress)+2,r26
 486 0278 B093 0000 		sts (CurrAddress)+3,r27
 487               	.L50:
 488 027c 0895      		ret
 489               	/* epilogue: frame size=0 */
 490               	/* epilogue: noreturn */
 491               	/* epilogue end (size=0) */
 492               	/* function V2P_CheckForExtendedAddress size 41 (41) */
 493               	.LFE19:
 495               	.global	V2P_RunStateMachine
 497               	V2P_RunStateMachine:
 498               	.LFB14:
 499               	.LM70:
 500               	/* prologue: frame size=0 */
 501 027e EF92      		push r14
 502 0280 FF92      		push r15
 503 0282 0F93      		push r16
 504 0284 1F93      		push r17
 505 0286 CF93      		push r28
 506               	/* prologue end (size=5) */
 507               	.LM71:
 508 0288 C0E0      		ldi r28,lo8(0)
 509               	.LM72:
 510 028a EE24      		clr r14
 511 028c FF24      		clr r15
 512               	.LM73:
 513 028e 0E94 0000 		call BUFF_InitialiseBuffer
 514               	.LM74:
 515 0292 C093 8100 		sts 129,r28
 516               	.LM75:
 517 0296 C093 0000 		sts InProgrammingMode,r28
 518               	.LM76:
 519 029a 1092 0000 		sts CurrAddress,__zero_reg__
 520 029e 1092 0000 		sts (CurrAddress)+1,__zero_reg__
 521 02a2 1092 0000 		sts (CurrAddress)+2,__zero_reg__
 522 02a6 1092 0000 		sts (CurrAddress)+3,__zero_reg__
 523               	.L112:
 524               	.LM77:
 525 02aa 8091 0000 		lds r24,PacketTimeOut
 526 02ae 8130      		cpi r24,lo8(1)
 527 02b0 11F4      		brne .L56
 528               	.LM78:
 529 02b2 CAE0      		ldi r28,lo8(10)
 530 02b4 11C0      		rjmp .L57
 531               	.L56:
 532               	.LM79:
 533 02b6 CC23      		tst r28
 534 02b8 79F0      		breq .L57
 535               	.LM80:
 536 02ba 1092 0000 		sts PacketTimeOut,__zero_reg__
 537 02be 1092 0000 		sts PacketTimeOutTicks,__zero_reg__
 538 02c2 1092 B200 		sts 178,__zero_reg__
 539 02c6 80EF      		ldi r24,lo8(-16)
 540 02c8 8093 B300 		sts 179,r24
 541 02cc 82E0      		ldi r24,lo8(2)
 542 02ce 8093 7000 		sts 112,r24
 543 02d2 8FE0      		ldi r24,lo8(15)
 544 02d4 8093 B000 		sts 176,r24
 545               	.L57:
 546               	.LM81:
 547 02d8 8C2F      		mov r24,r28
 548 02da 9927      		clr r25
 549 02dc 8530      		cpi r24,5
 550 02de 9105      		cpc r25,__zero_reg__
 551 02e0 09F4      		brne .+2
 552 02e2 87C0      		rjmp .L80
 553 02e4 8630      		cpi r24,6
 554 02e6 9105      		cpc r25,__zero_reg__
 555 02e8 ACF4      		brge .L101
 556 02ea 8230      		cpi r24,2
 557 02ec 9105      		cpc r25,__zero_reg__
 558 02ee 09F4      		brne .+2
 559 02f0 57C0      		rjmp .L75
 560 02f2 8330      		cpi r24,3
 561 02f4 9105      		cpc r25,__zero_reg__
 562 02f6 34F4      		brge .L102
 563 02f8 0097      		sbiw r24,0
 564 02fa 99F1      		breq .L65
 565 02fc 0197      		sbiw r24,1
 566 02fe 09F4      		brne .+2
 567 0300 49C0      		rjmp .L72
 568 0302 D3CF      		rjmp .L112
 569               	.L102:
 570 0304 8330      		cpi r24,3
 571 0306 9105      		cpc r25,__zero_reg__
 572 0308 09F4      		brne .+2
 573 030a 53C0      		rjmp .L76
 574 030c 0497      		sbiw r24,4
 575 030e 09F4      		brne .+2
 576 0310 5BC0      		rjmp .L77
 577 0312 CBCF      		rjmp .L112
 578               	.L101:
 579 0314 8830      		cpi r24,8
 580 0316 9105      		cpc r25,__zero_reg__
 581 0318 D1F0      		breq .L63
 582 031a 8930      		cpi r24,9
 583 031c 9105      		cpc r25,__zero_reg__
 584 031e 44F4      		brge .L103
 585 0320 8630      		cpi r24,6
 586 0322 9105      		cpc r25,__zero_reg__
 587 0324 09F4      		brne .+2
 588 0326 6DC0      		rjmp .L83
 589 0328 0797      		sbiw r24,7
 590 032a 09F4      		brne .+2
 591 032c 7EC0      		rjmp .L86
 592 032e BDCF      		rjmp .L112
 593               	.L103:
 594 0330 8930      		cpi r24,9
 595 0332 9105      		cpc r25,__zero_reg__
 596 0334 09F4      		brne .+2
 597 0336 ABC0      		rjmp .L94
 598 0338 0A97      		sbiw r24,10
 599 033a 09F0      		breq .+2
 600 033c B6CF      		rjmp .L112
 601               	.LM82:
 602 033e 82E0      		ldi r24,lo8(2)
 603 0340 90E0      		ldi r25,hi8(2)
 604 0342 9093 0000 		sts (MessageSize)+1,r25
 605 0346 8093 0000 		sts MessageSize,r24
 606               	.LM83:
 607 034a 80E8      		ldi r24,lo8(-128)
 608 034c F6C0      		rjmp .L111
 609               	.L63:
 610               	.LM84:
 611 034e 1092 0000 		sts PacketTimeOut,__zero_reg__
 612               	.LM85:
 613 0352 0E94 0000 		call BUFF_InitialiseBuffer
 614               	.LM86:
 615 0356 1092 B000 		sts 176,__zero_reg__
 616 035a 1092 7000 		sts 112,__zero_reg__
 617               	.LM87:
 618 035e C0E0      		ldi r28,lo8(0)
 619               	.LM88:
 620 0360 A4CF      		rjmp .L112
 621               	.L65:
 622               	.LM89:
 623 0362 8091 0000 		lds r24,BuffElements
 624 0366 8111      		cpse r24,__zero_reg__
 625               	.LM90:
 626 0368 C1E0      		ldi r28,lo8(1)
 627               	.L66:
 628               	.LM91:
 629 036a F29B      		sbis 62-0x20,2
 630 036c 9ECF      		rjmp .L112
 631 036e 8091 0000 		lds r24,InProgrammingMode
 632 0372 8823      		tst r24
 633 0374 09F0      		breq .+2
 634 0376 99CF      		rjmp .L112
 635               	.LM92:
 636 0378 80E8      		ldi r24,lo8(-128)
 637 037a 8093 6100 		sts 97,r24
 638 037e 83E0      		ldi r24,lo8(3)
 639 0380 8093 6100 		sts 97,r24
 640 0384 8091 C100 		lds r24,193
 641 0388 8078      		andi r24,lo8(-128)
 642 038a 8093 C100 		sts 193,r24
 643               	.LM93:
 644 038e 0E94 0000 		call TOUT_SetupSleepTimer
 645               	.LM94:
 646 0392 D9C0      		rjmp .L52
 647               	.L72:
 648               	.LM95:
 649 0394 0E94 0000 		call USART_Rx
 650 0398 8B31      		cpi r24,lo8(27)
 651 039a 89F5      		brne .L81
 652               	.LM96:
 653 039c C2E0      		ldi r28,lo8(2)
 654 039e 85CF      		rjmp .L112
 655               	.L75:
 656               	.LM97:
 657 03a0 0E94 0000 		call USART_Rx
 658 03a4 9927      		clr r25
 659 03a6 9093 0000 		sts (SequenceNum)+1,r25
 660 03aa 8093 0000 		sts SequenceNum,r24
 661               	.LM98:
 662 03ae C3E0      		ldi r28,lo8(3)
 663               	.LM99:
 664 03b0 7CCF      		rjmp .L112
 665               	.L76:
 666               	.LM100:
 667 03b2 0E94 0000 		call USART_Rx
 668 03b6 9927      		clr r25
 669 03b8 982F      		mov r25,r24
 670 03ba 8827      		clr r24
 671 03bc 9093 0000 		sts (MessageSize)+1,r25
 672 03c0 8093 0000 		sts MessageSize,r24
 673               	.LM101:
 674 03c4 C4E0      		ldi r28,lo8(4)
 675               	.LM102:
 676 03c6 71CF      		rjmp .L112
 677               	.L77:
 678               	.LM103:
 679 03c8 0E94 0000 		call USART_Rx
 680 03cc 282F      		mov r18,r24
 681 03ce 3327      		clr r19
 682 03d0 8091 0000 		lds r24,MessageSize
 683 03d4 9091 0000 		lds r25,(MessageSize)+1
 684 03d8 822B      		or r24,r18
 685 03da 932B      		or r25,r19
 686 03dc 9093 0000 		sts (MessageSize)+1,r25
 687 03e0 8093 0000 		sts MessageSize,r24
 688               	.LM104:
 689 03e4 8351      		subi r24,lo8(275)
 690 03e6 9140      		sbci r25,hi8(275)
 691 03e8 50F4      		brsh .L81
 692               	.LM105:
 693 03ea C5E0      		ldi r28,lo8(5)
 694               	.LM106:
 695 03ec EE24      		clr r14
 696 03ee FF24      		clr r15
 697 03f0 5CCF      		rjmp .L112
 698               	.L80:
 699               	.LM107:
 700 03f2 0E94 0000 		call USART_Rx
 701 03f6 8E30      		cpi r24,lo8(14)
 702 03f8 11F4      		brne .L81
 703               	.LM108:
 704 03fa C6E0      		ldi r28,lo8(6)
 705 03fc 56CF      		rjmp .L112
 706               	.L81:
 707               	.LM109:
 708 03fe C9E0      		ldi r28,lo8(9)
 709               	.LM110:
 710 0400 54CF      		rjmp .L112
 711               	.L83:
 712               	.LM111:
 713 0402 8091 0000 		lds r24,MessageSize
 714 0406 9091 0000 		lds r25,(MessageSize)+1
 715 040a E816      		cp r14,r24
 716 040c F906      		cpc r15,r25
 717 040e 11F4      		brne .L84
 718               	.LM112:
 719 0410 C7E0      		ldi r28,lo8(7)
 720 0412 4BCF      		rjmp .L112
 721               	.L84:
 722               	.LM113:
 723 0414 8701      		movw r16,r14
 724 0416 0050      		subi r16,lo8(-(PacketBytes))
 725 0418 1040      		sbci r17,hi8(-(PacketBytes))
 726 041a 0894      		sec
 727 041c E11C      		adc r14,__zero_reg__
 728 041e F11C      		adc r15,__zero_reg__
 729 0420 0E94 0000 		call USART_Rx
 730 0424 F801      		movw r30,r16
 731 0426 8083      		st Z,r24
 732               	.LM114:
 733 0428 40CF      		rjmp .L112
 734               	.L86:
 735               	.LM115:
 736 042a 0E94 0000 		call V2P_GetChecksum
 737 042e 182F      		mov r17,r24
 738 0430 0E94 0000 		call USART_Rx
 739 0434 1817      		cp r17,r24
 740 0436 09F0      		breq .+2
 741 0438 79C0      		rjmp .L87
 742 043a C091 0000 		lds r28,PacketTimeOut
 743 043e CC23      		tst r28
 744 0440 09F0      		breq .+2
 745 0442 74C0      		rjmp .L87
 746               	.LM116:
 747 0444 8091 0000 		lds r24,PacketBytes
 748 0448 9927      		clr r25
 749 044a 8430      		cpi r24,4
 750 044c 9105      		cpc r25,__zero_reg__
 751 044e 3CF4      		brge .L99
 752 0450 8230      		cpi r24,2
 753 0452 9105      		cpc r25,__zero_reg__
 754 0454 0CF0      		brlt .+2
 755 0456 61C0      		rjmp .L97
 756 0458 0197      		sbiw r24,1
 757 045a 39F0      		breq .L89
 758 045c 61C0      		rjmp .L98
 759               	.L99:
 760 045e 8630      		cpi r24,6
 761 0460 9105      		cpc r25,__zero_reg__
 762 0462 E9F0      		breq .L95
 763 0464 0797      		sbiw r24,7
 764 0466 99F0      		breq .L94
 765 0468 5BC0      		rjmp .L98
 766               	.L89:
 767               	.LM117:
 768 046a 8BE0      		ldi r24,lo8(11)
 769 046c 90E0      		ldi r25,hi8(11)
 770 046e 9093 0000 		sts (MessageSize)+1,r25
 771 0472 8093 0000 		sts MessageSize,r24
 772 0476 A0E0      		ldi r26,lo8(PacketBytes)
 773 0478 B0E0      		ldi r27,hi8(PacketBytes)
 774 047a E0E0      		ldi r30,lo8(SignonResponse)
 775 047c F0E0      		ldi r31,hi8(SignonResponse)
 776 047e 9AE0      		ldi r25,lo8(10)
 777               	.L93:
 778               	.LBB14:
 779               	.LBB15:
 780               	.LM118:
 781               	/* #APP */
 782 0480 8491      		lpm r24, Z
 783               		
 784               	/* #NOAPP */
 785               	.LBE15:
 786 0482 8D93      		st X+,r24
 787               	.LM119:
 788 0484 9150      		subi r25,lo8(-(-1))
 789 0486 3196      		adiw r30,1
 790 0488 97FF      		sbrs r25,7
 791 048a FACF      		rjmp .L93
 792 048c 58C0      		rjmp .L110
 793               	.L94:
 794               	.LBE14:
 795               	.LM120:
 796 048e 82E0      		ldi r24,lo8(2)
 797 0490 90E0      		ldi r25,hi8(2)
 798 0492 9093 0000 		sts (MessageSize)+1,r25
 799 0496 8093 0000 		sts MessageSize,r24
 800               	.LM121:
 801 049a 80EC      		ldi r24,lo8(-64)
 802 049c 4EC0      		rjmp .L111
 803               	.L95:
 804               	.LM122:
 805 049e 82E0      		ldi r24,lo8(2)
 806 04a0 90E0      		ldi r25,hi8(2)
 807 04a2 9093 0000 		sts (MessageSize)+1,r25
 808 04a6 8093 0000 		sts MessageSize,r24
 809               	.LM123:
 810 04aa 0E94 0000 		call V2P_CheckForExtendedAddress
 811               	.LM124:
 812 04ae 8091 0000 		lds r24,PacketBytes+1
 813 04b2 9927      		clr r25
 814 04b4 AA27      		clr r26
 815 04b6 BB27      		clr r27
 816 04b8 B82F      		mov r27,r24
 817 04ba AA27      		clr r26
 818 04bc 9927      		clr r25
 819 04be 8827      		clr r24
 820 04c0 2091 0000 		lds r18,PacketBytes+2
 821 04c4 3327      		clr r19
 822 04c6 4427      		clr r20
 823 04c8 5527      		clr r21
 824 04ca A901      		movw r20,r18
 825 04cc 3327      		clr r19
 826 04ce 2227      		clr r18
 827 04d0 822B      		or r24,r18
 828 04d2 932B      		or r25,r19
 829 04d4 A42B      		or r26,r20
 830 04d6 B52B      		or r27,r21
 831 04d8 2091 0000 		lds r18,PacketBytes+3
 832 04dc 3327      		clr r19
 833 04de 4427      		clr r20
 834 04e0 5527      		clr r21
 835 04e2 542F      		mov r21,r20
 836 04e4 432F      		mov r20,r19
 837 04e6 322F      		mov r19,r18
 838 04e8 2227      		clr r18
 839 04ea 822B      		or r24,r18
 840 04ec 932B      		or r25,r19
 841 04ee A42B      		or r26,r20
 842 04f0 B52B      		or r27,r21
 843 04f2 2091 0000 		lds r18,PacketBytes+4
 844 04f6 3327      		clr r19
 845 04f8 4427      		clr r20
 846 04fa 5527      		clr r21
 847 04fc 822B      		or r24,r18
 848 04fe 932B      		or r25,r19
 849 0500 A42B      		or r26,r20
 850 0502 B52B      		or r27,r21
 851 0504 8093 0000 		sts CurrAddress,r24
 852 0508 9093 0000 		sts (CurrAddress)+1,r25
 853 050c A093 0000 		sts (CurrAddress)+2,r26
 854 0510 B093 0000 		sts (CurrAddress)+3,r27
 855               	.LM125:
 856 0514 C093 0000 		sts PacketBytes+1,r28
 857 0518 12C0      		rjmp .L110
 858               	.L97:
 859               	.LM126:
 860 051a 0E94 0000 		call V2P_GetSetParamater
 861               	.LM127:
 862 051e 11C0      		rjmp .L109
 863               	.L98:
 864               	.LM128:
 865 0520 E091 0000 		lds r30,InterpretPacketRoutine
 866 0524 F091 0000 		lds r31,(InterpretPacketRoutine)+1
 867 0528 0995      		icall
 868 052a 0BC0      		rjmp .L109
 869               	.L87:
 870               	.LM129:
 871 052c 82E0      		ldi r24,lo8(2)
 872 052e 90E0      		ldi r25,hi8(2)
 873 0530 9093 0000 		sts (MessageSize)+1,r25
 874 0534 8093 0000 		sts MessageSize,r24
 875               	.LM130:
 876 0538 81EC      		ldi r24,lo8(-63)
 877               	.L111:
 878 053a 8093 0000 		sts PacketBytes+1,r24
 879               	.L110:
 880               	.LM131:
 881 053e 0E94 0000 		call V2P_SendPacket
 882               	.L109:
 883               	.LM132:
 884 0542 C8E0      		ldi r28,lo8(8)
 885 0544 B2CE      		rjmp .L112
 886               	.L52:
 887               	/* epilogue: frame size=0 */
 888 0546 CF91      		pop r28
 889 0548 1F91      		pop r17
 890 054a 0F91      		pop r16
 891 054c FF90      		pop r15
 892 054e EF90      		pop r14
 893 0550 0895      		ret
 894               	/* epilogue end (size=6) */
 895               	/* function V2P_RunStateMachine size 373 (362) */
 896               	.LFE14:
 898               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 V2Protocol.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:23     .bss:00000000 Param_ControllerInit
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:29     .bss:00000001 CurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:35     .bss:00000005 InProgrammingMode
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:41     .bss:00000006 MessageSize
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:47     .bss:00000008 SequenceNum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:53     .bss:0000000a PacketBytes
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:59     .data:00000000 InterpretPacketRoutine
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:65     .progmem.data:00000000 SignonResponse
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:80     .text:00000000 V2P_GetChecksum
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:134    .text:00000042 V2P_SendPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:205    .text:000000c2 V2P_GetSetParamater
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:428    .text:00000204 V2P_IncrementCurrAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:453    .text:0000022c V2P_CheckForExtendedAddress
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWQaaaa.s:497    .text:0000027e V2P_RunStateMachine

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
AICI_InterpretPacket
USART_Tx
EEPROMVars
__eeprom_read_byte_1F2021
__eeprom_write_byte_1F2021
USI_SPISetSpeed
MAIN_ResetCSLine
USI_SPITransmit
BUFF_InitialiseBuffer
PacketTimeOut
PacketTimeOutTicks
BuffElements
TOUT_SetupSleepTimer
USART_Rx
