   1               		.file	"TagManager.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	TagExists
  19               	.global	TagExists
  20               		.section .bss
  23               	TagExists:
  24 0000 00        		.skip 1,0
  25               		.section	.progmem.data,"a",@progbits
  28               	__c.0:
  29 0000 4E4F 2054 		.string	"NO TAGS"
  29      4147 5300 
  30               		.text
  31               	.global	TM_FindNextTag
  33               	TM_FindNextTag:
  34               	.LFB9:
  35               	.LM1:
  36               	/* prologue: frame size=25 */
  37 0000 AF92      		push r10
  38 0002 BF92      		push r11
  39 0004 DF92      		push r13
  40 0006 EF92      		push r14
  41 0008 FF92      		push r15
  42 000a 0F93      		push r16
  43 000c 1F93      		push r17
  44 000e CF93      		push r28
  45 0010 DF93      		push r29
  46 0012 CDB7      		in r28,__SP_L__
  47 0014 DEB7      		in r29,__SP_H__
  48 0016 6997      		sbiw r28,25
  49 0018 0FB6      		in __tmp_reg__,__SREG__
  50 001a F894      		cli
  51 001c DEBF      		out __SP_H__,r29
  52 001e 0FBE      		out __SREG__,__tmp_reg__
  53 0020 CDBF      		out __SP_L__,r28
  54               	/* prologue end (size=17) */
  55               	.LM2:
  56 0022 80E4      		ldi r24,lo8(64)
  57 0024 8E8B      		std Y+22,r24
  58 0026 86E1      		ldi r24,lo8(22)
  59 0028 A82E      		mov r10,r24
  60 002a B12C      		mov r11,__zero_reg__
  61 002c AC0E      		add r10,r28
  62 002e BD1E      		adc r11,r29
  63 0030 88E2      		ldi r24,lo8(40)
  64 0032 8F8B      		std Y+23,r24
  65 0034 83E2      		ldi r24,lo8(35)
  66 0036 888F      		std Y+24,r24
  67 0038 89E2      		ldi r24,lo8(41)
  68 003a 898F      		std Y+25,r24
  69               	.LM3:
  70 003c 81E0      		ldi r24,lo8(1)
  71 003e 0E94 0000 		call PM_GetStoredDataSize
  72 0042 7B01      		movw r14,r22
  73 0044 8C01      		movw r16,r24
  74               	.LM4:
  75 0046 DD24      		clr r13
  76               	.LM5:
  77 0048 81B3      		in r24,49-0x20
  78 004a 8063      		ori r24,lo8(48)
  79 004c 81BB      		out 49-0x20,r24
  80               	.LM6:
  81 004e 8091 0000 		lds r24,DFPos
  82 0052 9091 0000 		lds r25,(DFPos)+1
  83 0056 A091 0000 		lds r26,(DFPos)+2
  84 005a B091 0000 		lds r27,(DFPos)+3
  85               	.L22:
  86               	.LM7:
  87 005e 8E15      		cp r24,r14
  88 0060 9F05      		cpc r25,r15
  89 0062 A007      		cpc r26,r16
  90 0064 B107      		cpc r27,r17
  91 0066 08F0      		brlo .+2
  92 0068 43C0      		rjmp .L20
  93               	.LM8:
  94 006a 80E0      		ldi r24,lo8(0)
  95 006c 0E94 0000 		call SPI_SPITransmit
  96 0070 F501      		movw r30,r10
  97 0072 ED0D      		add r30,r13
  98 0074 F11D      		adc r31,__zero_reg__
  99 0076 D394      		inc r13
 100 0078 9081      		ld r25,Z
 101 007a 8917      		cp r24,r25
 102 007c 21F5      		brne .L5
 103               	.LM9:
 104 007e 84E0      		ldi r24,lo8(4)
 105 0080 D816      		cp r13,r24
 106 0082 11F5      		brne .L13
 107               	.LBB2:
 108               	.LM10:
 109 0084 FF24      		clr r15
 110 0086 00E0      		ldi r16,lo8(0)
 111 0088 10E0      		ldi r17,hi8(0)
 112               	.L11:
 113               	.LM11:
 114 008a 80E0      		ldi r24,lo8(0)
 115 008c 0E94 0000 		call SPI_SPITransmit
 116               	.LM12:
 117 0090 9E01      		movw r18,r28
 118 0092 2F5F      		subi r18,lo8(-(1))
 119 0094 3F4F      		sbci r19,hi8(-(1))
 120 0096 F801      		movw r30,r16
 121 0098 E20F      		add r30,r18
 122 009a F31F      		adc r31,r19
 123 009c 8083      		st Z,r24
 124               	.LM13:
 125 009e 8823      		tst r24
 126 00a0 31F0      		breq .L8
 127               	.LM14:
 128 00a2 F394      		inc r15
 129 00a4 0F5F      		subi r16,lo8(-(1))
 130 00a6 1F4F      		sbci r17,hi8(-(1))
 131 00a8 83E1      		ldi r24,lo8(19)
 132 00aa 8F15      		cp r24,r15
 133 00ac 70F7      		brsh .L11
 134               	.L8:
 135               	.LM15:
 136 00ae 1D8A      		std Y+21,__zero_reg__
 137               	.LM16:
 138 00b0 81E0      		ldi r24,lo8(1)
 139 00b2 8093 0000 		sts TagExists,r24
 140               	.LM17:
 141 00b6 C901      		movw r24,r18
 142 00b8 0E94 0000 		call LCD_puts
 143               	.LM18:
 144 00bc 81B3      		in r24,49-0x20
 145 00be 8F7C      		andi r24,lo8(-49)
 146 00c0 8061      		ori r24,lo8(16)
 147 00c2 81BB      		out 49-0x20,r24
 148               	.LM19:
 149 00c4 31C0      		rjmp .L1
 150               	.L5:
 151               	.LBE2:
 152               	.LM20:
 153 00c6 DD24      		clr r13
 154               	.L13:
 155               	.LM21:
 156 00c8 8091 0000 		lds r24,DFPos
 157 00cc 9091 0000 		lds r25,(DFPos)+1
 158 00d0 A091 0000 		lds r26,(DFPos)+2
 159 00d4 B091 0000 		lds r27,(DFPos)+3
 160 00d8 0196      		adiw r24,1
 161 00da A11D      		adc r26,__zero_reg__
 162 00dc B11D      		adc r27,__zero_reg__
 163 00de 8093 0000 		sts DFPos,r24
 164 00e2 9093 0000 		sts (DFPos)+1,r25
 165 00e6 A093 0000 		sts (DFPos)+2,r26
 166 00ea B093 0000 		sts (DFPos)+3,r27
 167 00ee B7CF      		rjmp .L22
 168               	.L20:
 169               	.LM22:
 170 00f0 60E0      		ldi r22,lo8(0)
 171 00f2 70E0      		ldi r23,hi8(0)
 172 00f4 CB01      		movw r24,r22
 173 00f6 0E94 0000 		call DF_ContinuousReadEnable
 174               	.LM23:
 175 00fa 1092 0000 		sts DFPos,__zero_reg__
 176 00fe 1092 0000 		sts (DFPos)+1,__zero_reg__
 177 0102 1092 0000 		sts (DFPos)+2,__zero_reg__
 178 0106 1092 0000 		sts (DFPos)+3,__zero_reg__
 179               	.LM24:
 180 010a 8091 0000 		lds r24,TagExists
 181 010e 8823      		tst r24
 182 0110 49F4      		brne .L15
 183               	.LM25:
 184 0112 81B3      		in r24,49-0x20
 185 0114 8F7C      		andi r24,lo8(-49)
 186 0116 8061      		ori r24,lo8(16)
 187 0118 81BB      		out 49-0x20,r24
 188               	.LM26:
 189 011a 80E0      		ldi r24,lo8(__c.0)
 190 011c 90E0      		ldi r25,hi8(__c.0)
 191 011e 0E94 0000 		call MAIN_ShowError
 192 0122 02C0      		rjmp .L1
 193               	.L15:
 194               	.LM27:
 195 0124 0E94 0000 		call TM_FindNextTag
 196               	.L1:
 197               	/* epilogue: frame size=25 */
 198 0128 6996      		adiw r28,25
 199 012a 0FB6      		in __tmp_reg__,__SREG__
 200 012c F894      		cli
 201 012e DEBF      		out __SP_H__,r29
 202 0130 0FBE      		out __SREG__,__tmp_reg__
 203 0132 CDBF      		out __SP_L__,r28
 204 0134 DF91      		pop r29
 205 0136 CF91      		pop r28
 206 0138 1F91      		pop r17
 207 013a 0F91      		pop r16
 208 013c FF90      		pop r15
 209 013e EF90      		pop r14
 210 0140 DF90      		pop r13
 211 0142 BF90      		pop r11
 212 0144 AF90      		pop r10
 213 0146 0895      		ret
 214               	/* epilogue end (size=16) */
 215               	/* function TM_FindNextTag size 164 (131) */
 216               	.LFE9:
 218               	.global	TM_ShowTags
 220               	TM_ShowTags:
 221               	.LFB8:
 222               	.LM28:
 223               	/* prologue: frame size=0 */
 224               	/* prologue end (size=0) */
 225               	.LM29:
 226 0148 60E0      		ldi r22,lo8(0)
 227 014a 70E0      		ldi r23,hi8(0)
 228 014c CB01      		movw r24,r22
 229 014e 0E94 0000 		call DF_ContinuousReadEnable
 230               	.LM30:
 231 0152 1092 0000 		sts TagExists,__zero_reg__
 232               	.LM31:
 233 0156 1092 0000 		sts DFPos,__zero_reg__
 234 015a 1092 0000 		sts (DFPos)+1,__zero_reg__
 235 015e 1092 0000 		sts (DFPos)+2,__zero_reg__
 236 0162 1092 0000 		sts (DFPos)+3,__zero_reg__
 237               	.LM32:
 238 0166 0E94 0000 		call TM_FindNextTag
 239               	.LM33:
 240 016a 8091 0000 		lds r24,TagExists
 241 016e 8823      		tst r24
 242 0170 71F0      		breq .L34
 243               	.L35:
 244               	.LM34:
 245 0172 8EB3      		in r24,62-0x20
 246 0174 8823      		tst r24
 247 0176 E9F3      		breq .L35
 248               	.LM35:
 249 0178 F79B      		sbis 62-0x20,7
 250 017a 03C0      		rjmp .L28
 251               	.LM36:
 252 017c 0E94 0000 		call TM_FindNextTag
 253 0180 02C0      		rjmp .L29
 254               	.L28:
 255               	.LM37:
 256 0182 F299      		sbic 62-0x20,2
 257 0184 03C0      		rjmp .L26
 258               	.L29:
 259               	.LM38:
 260 0186 0E94 0000 		call MAIN_WaitForJoyRelease
 261 018a F3CF      		rjmp .L35
 262               	.L26:
 263               	.LM39:
 264 018c 80E0      		ldi r24,lo8(0)
 265               	.L34:
 266 018e 0E94 0000 		call DF_EnableDataflash
 267 0192 0895      		ret
 268               	/* epilogue: frame size=0 */
 269               	/* epilogue: noreturn */
 270               	/* epilogue end (size=0) */
 271               	/* function TM_ShowTags size 38 (38) */
 272               	.LFE8:
 274               		.comm DFPos,4,1
 275               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 TagManager.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:23     .bss:00000000 TagExists
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:28     .progmem.data:00000000 __c.0
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:33     .text:00000000 TM_FindNextTag
                            *COM*:00000004 DFPos
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccsHaaaa.s:220    .text:00000148 TM_ShowTags

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
PM_GetStoredDataSize
SPI_SPITransmit
LCD_puts
DF_ContinuousReadEnable
MAIN_ShowError
MAIN_WaitForJoyRelease
DF_EnableDataflash
