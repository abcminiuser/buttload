   1               		.file	"TagManager.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	DFPos
  19               	.global	DFPos
  20               		.section .bss
  23               	DFPos:
  24 0000 0000 0000 		.skip 4,0
  25               	.global	TagExists
  26               	.global	TagExists
  29               	TagExists:
  30 0004 00        		.skip 1,0
  31               		.section	.progmem.data,"a",@progbits
  34               	__c.0:
  35 0000 4E4F 2054 		.string	"NO TAGS"
  35      4147 5300 
  36               		.text
  37               	.global	TM_FindNextTag
  39               	TM_FindNextTag:
  40               	.LFB15:
  41               	.LM1:
  42               	/* prologue: frame size=25 */
  43 0000 AF92      		push r10
  44 0002 BF92      		push r11
  45 0004 DF92      		push r13
  46 0006 EF92      		push r14
  47 0008 FF92      		push r15
  48 000a 0F93      		push r16
  49 000c 1F93      		push r17
  50 000e CF93      		push r28
  51 0010 DF93      		push r29
  52 0012 CDB7      		in r28,__SP_L__
  53 0014 DEB7      		in r29,__SP_H__
  54 0016 6997      		sbiw r28,25
  55 0018 0FB6      		in __tmp_reg__,__SREG__
  56 001a F894      		cli
  57 001c DEBF      		out __SP_H__,r29
  58 001e 0FBE      		out __SREG__,__tmp_reg__
  59 0020 CDBF      		out __SP_L__,r28
  60               	/* prologue end (size=17) */
  61               	.LM2:
  62 0022 80E4      		ldi r24,lo8(64)
  63 0024 8E8B      		std Y+22,r24
  64 0026 86E1      		ldi r24,lo8(22)
  65 0028 A82E      		mov r10,r24
  66 002a B12C      		mov r11,__zero_reg__
  67 002c AC0E      		add r10,r28
  68 002e BD1E      		adc r11,r29
  69 0030 88E2      		ldi r24,lo8(40)
  70 0032 8F8B      		std Y+23,r24
  71 0034 83E2      		ldi r24,lo8(35)
  72 0036 888F      		std Y+24,r24
  73 0038 89E2      		ldi r24,lo8(41)
  74 003a 898F      		std Y+25,r24
  75               	.LM3:
  76 003c 81E0      		ldi r24,lo8(1)
  77 003e 0E94 0000 		call PM_GetStoredDataSize
  78 0042 7B01      		movw r14,r22
  79 0044 8C01      		movw r16,r24
  80               	.LM4:
  81 0046 DD24      		clr r13
  82               	.LM5:
  83 0048 81B3      		in r24,49-0x20
  84 004a 8063      		ori r24,lo8(48)
  85 004c 81BB      		out 49-0x20,r24
  86               	.LM6:
  87 004e 8091 0000 		lds r24,DFPos
  88 0052 9091 0000 		lds r25,(DFPos)+1
  89 0056 A091 0000 		lds r26,(DFPos)+2
  90 005a B091 0000 		lds r27,(DFPos)+3
  91               	.L22:
  92               	.LM7:
  93 005e 8E15      		cp r24,r14
  94 0060 9F05      		cpc r25,r15
  95 0062 A007      		cpc r26,r16
  96 0064 B107      		cpc r27,r17
  97 0066 08F0      		brlo .+2
  98 0068 43C0      		rjmp .L20
  99               	.LM8:
 100 006a 80E0      		ldi r24,lo8(0)
 101 006c 0E94 0000 		call SPI_SPITransmit
 102 0070 F501      		movw r30,r10
 103 0072 ED0D      		add r30,r13
 104 0074 F11D      		adc r31,__zero_reg__
 105 0076 D394      		inc r13
 106 0078 9081      		ld r25,Z
 107 007a 8917      		cp r24,r25
 108 007c 21F5      		brne .L5
 109               	.LM9:
 110 007e 84E0      		ldi r24,lo8(4)
 111 0080 D816      		cp r13,r24
 112 0082 11F5      		brne .L13
 113               	.LBB2:
 114               	.LM10:
 115 0084 FF24      		clr r15
 116 0086 00E0      		ldi r16,lo8(0)
 117 0088 10E0      		ldi r17,hi8(0)
 118               	.L11:
 119               	.LM11:
 120 008a 80E0      		ldi r24,lo8(0)
 121 008c 0E94 0000 		call SPI_SPITransmit
 122               	.LM12:
 123 0090 9E01      		movw r18,r28
 124 0092 2F5F      		subi r18,lo8(-(1))
 125 0094 3F4F      		sbci r19,hi8(-(1))
 126 0096 F801      		movw r30,r16
 127 0098 E20F      		add r30,r18
 128 009a F31F      		adc r31,r19
 129 009c 8083      		st Z,r24
 130               	.LM13:
 131 009e 8823      		tst r24
 132 00a0 31F0      		breq .L8
 133               	.LM14:
 134 00a2 F394      		inc r15
 135 00a4 0F5F      		subi r16,lo8(-(1))
 136 00a6 1F4F      		sbci r17,hi8(-(1))
 137 00a8 83E1      		ldi r24,lo8(19)
 138 00aa 8F15      		cp r24,r15
 139 00ac 70F7      		brsh .L11
 140               	.L8:
 141               	.LM15:
 142 00ae 1D8A      		std Y+21,__zero_reg__
 143               	.LM16:
 144 00b0 81E0      		ldi r24,lo8(1)
 145 00b2 8093 0000 		sts TagExists,r24
 146               	.LM17:
 147 00b6 C901      		movw r24,r18
 148 00b8 0E94 0000 		call LCD_puts
 149               	.LM18:
 150 00bc 81B3      		in r24,49-0x20
 151 00be 8F7C      		andi r24,lo8(-49)
 152 00c0 8061      		ori r24,lo8(16)
 153 00c2 81BB      		out 49-0x20,r24
 154               	.LM19:
 155 00c4 31C0      		rjmp .L1
 156               	.L5:
 157               	.LBE2:
 158               	.LM20:
 159 00c6 DD24      		clr r13
 160               	.L13:
 161               	.LM21:
 162 00c8 8091 0000 		lds r24,DFPos
 163 00cc 9091 0000 		lds r25,(DFPos)+1
 164 00d0 A091 0000 		lds r26,(DFPos)+2
 165 00d4 B091 0000 		lds r27,(DFPos)+3
 166 00d8 0196      		adiw r24,1
 167 00da A11D      		adc r26,__zero_reg__
 168 00dc B11D      		adc r27,__zero_reg__
 169 00de 8093 0000 		sts DFPos,r24
 170 00e2 9093 0000 		sts (DFPos)+1,r25
 171 00e6 A093 0000 		sts (DFPos)+2,r26
 172 00ea B093 0000 		sts (DFPos)+3,r27
 173 00ee B7CF      		rjmp .L22
 174               	.L20:
 175               	.LM22:
 176 00f0 60E0      		ldi r22,lo8(0)
 177 00f2 70E0      		ldi r23,hi8(0)
 178 00f4 CB01      		movw r24,r22
 179 00f6 0E94 0000 		call DF_ContinuousReadEnable
 180               	.LM23:
 181 00fa 1092 0000 		sts DFPos,__zero_reg__
 182 00fe 1092 0000 		sts (DFPos)+1,__zero_reg__
 183 0102 1092 0000 		sts (DFPos)+2,__zero_reg__
 184 0106 1092 0000 		sts (DFPos)+3,__zero_reg__
 185               	.LM24:
 186 010a 8091 0000 		lds r24,TagExists
 187 010e 8823      		tst r24
 188 0110 49F4      		brne .L15
 189               	.LM25:
 190 0112 81B3      		in r24,49-0x20
 191 0114 8F7C      		andi r24,lo8(-49)
 192 0116 8061      		ori r24,lo8(16)
 193 0118 81BB      		out 49-0x20,r24
 194               	.LM26:
 195 011a 80E0      		ldi r24,lo8(__c.0)
 196 011c 90E0      		ldi r25,hi8(__c.0)
 197 011e 0E94 0000 		call MAIN_ShowError
 198 0122 02C0      		rjmp .L1
 199               	.L15:
 200               	.LM27:
 201 0124 0E94 0000 		call TM_FindNextTag
 202               	.L1:
 203               	/* epilogue: frame size=25 */
 204 0128 6996      		adiw r28,25
 205 012a 0FB6      		in __tmp_reg__,__SREG__
 206 012c F894      		cli
 207 012e DEBF      		out __SP_H__,r29
 208 0130 0FBE      		out __SREG__,__tmp_reg__
 209 0132 CDBF      		out __SP_L__,r28
 210 0134 DF91      		pop r29
 211 0136 CF91      		pop r28
 212 0138 1F91      		pop r17
 213 013a 0F91      		pop r16
 214 013c FF90      		pop r15
 215 013e EF90      		pop r14
 216 0140 DF90      		pop r13
 217 0142 BF90      		pop r11
 218 0144 AF90      		pop r10
 219 0146 0895      		ret
 220               	/* epilogue end (size=16) */
 221               	/* function TM_FindNextTag size 164 (131) */
 222               	.LFE15:
 224               	.global	TM_ShowTags
 226               	TM_ShowTags:
 227               	.LFB14:
 228               	.LM28:
 229               	/* prologue: frame size=0 */
 230               	/* prologue end (size=0) */
 231               	.LM29:
 232 0148 60E0      		ldi r22,lo8(0)
 233 014a 70E0      		ldi r23,hi8(0)
 234 014c CB01      		movw r24,r22
 235 014e 0E94 0000 		call DF_ContinuousReadEnable
 236               	.LM30:
 237 0152 1092 0000 		sts TagExists,__zero_reg__
 238               	.LM31:
 239 0156 1092 0000 		sts DFPos,__zero_reg__
 240 015a 1092 0000 		sts (DFPos)+1,__zero_reg__
 241 015e 1092 0000 		sts (DFPos)+2,__zero_reg__
 242 0162 1092 0000 		sts (DFPos)+3,__zero_reg__
 243               	.LM32:
 244 0166 0E94 0000 		call TM_FindNextTag
 245               	.LM33:
 246 016a 8091 0000 		lds r24,TagExists
 247 016e 8823      		tst r24
 248 0170 71F0      		breq .L34
 249               	.L35:
 250               	.LM34:
 251 0172 8EB3      		in r24,62-0x20
 252 0174 8823      		tst r24
 253 0176 E9F3      		breq .L35
 254               	.LM35:
 255 0178 F79B      		sbis 62-0x20,7
 256 017a 03C0      		rjmp .L28
 257               	.LM36:
 258 017c 0E94 0000 		call TM_FindNextTag
 259 0180 02C0      		rjmp .L29
 260               	.L28:
 261               	.LM37:
 262 0182 F299      		sbic 62-0x20,2
 263 0184 03C0      		rjmp .L26
 264               	.L29:
 265               	.LM38:
 266 0186 0E94 0000 		call MAIN_WaitForJoyRelease
 267 018a F3CF      		rjmp .L35
 268               	.L26:
 269               	.LM39:
 270 018c 80E0      		ldi r24,lo8(0)
 271               	.L34:
 272 018e 0E94 0000 		call DF_EnableDataflash
 273 0192 0895      		ret
 274               	/* epilogue: frame size=0 */
 275               	/* epilogue: noreturn */
 276               	/* epilogue end (size=0) */
 277               	/* function TM_ShowTags size 38 (38) */
 278               	.LFE14:
 280               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 TagManager.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:23     .bss:00000000 DFPos
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:29     .bss:00000004 TagExists
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:34     .progmem.data:00000000 __c.0
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:39     .text:00000000 TM_FindNextTag
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccEPaaaa.s:226    .text:00000148 TM_ShowTags

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
PM_GetStoredDataSize
SPI_SPITransmit
LCD_puts
DF_ContinuousReadEnable
MAIN_ShowError
MAIN_WaitForJoyRelease
DF_EnableDataflash
