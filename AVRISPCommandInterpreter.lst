   1               		.file	"AVRISPCommandInterpreter.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	AICI_InterpretPacket
  20               	AICI_InterpretPacket:
  21               	.LFB14:
  22               	.LM1:
  23               	/* prologue: frame size=0 */
  24 0000 DF92      		push r13
  25 0002 EF92      		push r14
  26 0004 FF92      		push r15
  27 0006 0F93      		push r16
  28 0008 1F93      		push r17
  29 000a CF93      		push r28
  30 000c DF93      		push r29
  31               	/* prologue end (size=7) */
  32               	.LM2:
  33 000e 8091 0000 		lds r24,PacketBytes
  34 0012 8631      		cpi r24,lo8(22)
  35 0014 01F4      		brne .+2
  36 0016 00C0      		rjmp .L7
  37               	.LM3:
  38 0018 8731      		cpi r24,lo8(23)
  39 001a 00F4      		brsh .L11
  40 001c 8231      		cpi r24,lo8(18)
  41 001e 01F4      		brne .+2
  42 0020 00C0      		rjmp .L5
  43 0022 8331      		cpi r24,lo8(19)
  44 0024 00F4      		brsh .L12
  45 0026 8031      		cpi r24,lo8(16)
  46 0028 01F0      		breq .L3
  47 002a 8131      		cpi r24,lo8(17)
  48 002c 01F0      		breq .+2
  49 002e 00C0      		rjmp .L2
  50 0030 00C0      		rjmp .L4
  51               	.L12:
  52 0032 8431      		cpi r24,lo8(20)
  53 0034 01F0      		breq .+2
  54 0036 00C0      		rjmp .L59
  55 0038 00C0      		rjmp .L7
  56               	.L11:
  57 003a 8931      		cpi r24,lo8(25)
  58 003c 01F4      		brne .+2
  59 003e 00C0      		rjmp .L8
  60 0040 8A31      		cpi r24,lo8(26)
  61 0042 00F4      		brsh .L13
  62 0044 8731      		cpi r24,lo8(23)
  63 0046 01F4      		brne .+2
  64 0048 00C0      		rjmp .L8
  65 004a 8831      		cpi r24,lo8(24)
  66 004c 01F0      		breq .+2
  67 004e 00C0      		rjmp .L2
  68 0050 00C0      		rjmp .L9
  69               	.L13:
  70 0052 8D31      		cpi r24,lo8(29)
  71 0054 00F4      		brsh .+2
  72 0056 00C0      		rjmp .L9
  73 0058 8D31      		cpi r24,lo8(29)
  74 005a 01F0      		breq .+2
  75 005c 00C0      		rjmp .L2
  76 005e 00C0      		rjmp .L10
  77               	.L3:
  78               	.LBB2:
  79               	.LM4:
  80 0060 82E0      		ldi r24,lo8(2)
  81 0062 90E0      		ldi r25,hi8(2)
  82 0064 9093 0000 		sts (MessageSize)+1,r25
  83 0068 8093 0000 		sts MessageSize,r24
  84               	.LM5:
  85 006c 0E94 0000 		call USI_SPIInitMaster
  86               	.LM6:
  87 0070 80E0      		ldi r24,lo8(0)
  88 0072 0E94 0000 		call MAIN_ResetCSLine
  89               	.LM7:
  90 0076 0E94 0000 		call ISPCC_EnterChipProgrammingMode
  91               	.LM8:
  92 007a 8091 0000 		lds r24,InProgrammingMode
  93 007e 8823      		tst r24
  94 0080 01F0      		breq .L14
  95               	.LM9:
  96 0082 80E0      		ldi r24,lo8(AVRISPModeMessage)
  97 0084 90E0      		ldi r25,hi8(AVRISPModeMessage)
  98 0086 00C0      		rjmp .L67
  99               	.L14:
 100               	.LM10:
 101 0088 80E0      		ldi r24,lo8(SyncErrorMessage)
 102 008a 90E0      		ldi r25,hi8(SyncErrorMessage)
 103               	.L67:
 104 008c 0E94 0000 		call LCD_puts_f
 105 0090 00C0      		rjmp .L16
 106               	.L4:
 107               	.LM11:
 108 0092 82E0      		ldi r24,lo8(2)
 109 0094 90E0      		ldi r25,hi8(2)
 110 0096 9093 0000 		sts (MessageSize)+1,r25
 111 009a 8093 0000 		sts MessageSize,r24
 112               	.LM12:
 113 009e 8091 0000 		lds r24,PacketBytes+1
 114 00a2 0E94 0000 		call MAIN_Delay1MS
 115               	.LM13:
 116 00a6 81B3      		in r24,49-0x20
 117 00a8 8F7C      		andi r24,lo8(-49)
 118 00aa 8061      		ori r24,lo8(16)
 119 00ac 81BB      		out 49-0x20,r24
 120               	.LM14:
 121 00ae 1092 0000 		sts InProgrammingMode,__zero_reg__
 122               	.LM15:
 123 00b2 81E0      		ldi r24,lo8(1)
 124 00b4 0E94 0000 		call MAIN_ResetCSLine
 125               	.LM16:
 126 00b8 8091 0000 		lds r24,PacketBytes+2
 127 00bc 0E94 0000 		call MAIN_Delay1MS
 128               	.LM17:
 129 00c0 0E94 0000 		call USI_SPIOff
 130 00c4 00C0      		rjmp .L68
 131               	.L5:
 132               	.LM18:
 133 00c6 82E0      		ldi r24,lo8(2)
 134 00c8 90E0      		ldi r25,hi8(2)
 135 00ca 9093 0000 		sts (MessageSize)+1,r25
 136 00ce 8093 0000 		sts MessageSize,r24
 137 00d2 C0E0      		ldi r28,lo8(PacketBytes+3)
 138 00d4 D0E0      		ldi r29,hi8(PacketBytes+3)
 139               	.L17:
 140               	.LBB3:
 141               	.LM19:
 142 00d6 8991      		ld r24,Y+
 143 00d8 0E94 0000 		call USI_SPITransmit
 144               	.LM20:
 145 00dc 80E0      		ldi r24,hi8(PacketBytes+7)
 146 00de C030      		cpi r28,lo8(PacketBytes+7)
 147 00e0 D807      		cpc r29,r24
 148 00e2 01F4      		brne .L17
 149               	.LBE3:
 150               	.LM21:
 151 00e4 8091 0000 		lds r24,PacketBytes+2
 152 00e8 8823      		tst r24
 153 00ea 01F0      		breq .L19
 154               	.L54:
 155               	.LM22:
 156 00ec 80E0      		ldi r24,lo8(-4096)
 157 00ee 90EF      		ldi r25,hi8(-4096)
 158 00f0 0E94 0000 		call USI_SPITransmitWord
 159               	.LM23:
 160 00f4 80E0      		ldi r24,lo8(0)
 161 00f6 90E0      		ldi r25,hi8(0)
 162 00f8 0E94 0000 		call USI_SPITransmitWord
 163 00fc 80FF      		sbrs r24,0
 164 00fe 00C0      		rjmp .L68
 165 0100 00C0      		rjmp .L54
 166               	.L19:
 167               	.LM24:
 168 0102 8091 0000 		lds r24,PacketBytes+1
 169 0106 0E94 0000 		call MAIN_Delay1MS
 170 010a 00C0      		rjmp .L68
 171               	.L10:
 172               	.LM25:
 173 010c F090 0000 		lds r15,PacketBytes+2
 174 0110 8F2D      		mov r24,r15
 175 0112 9927      		clr r25
 176 0114 0396      		adiw r24,3
 177 0116 9093 0000 		sts (MessageSize)+1,r25
 178 011a 8093 0000 		sts MessageSize,r24
 179               	.LM26:
 180 011e D090 0000 		lds r13,PacketBytes+1
 181               	.LVL0:
 182               	.LM27:
 183 0122 E090 0000 		lds r14,PacketBytes+3
 184               	.LVL1:
 185 0126 11E0      		ldi r17,lo8(1)
 186               	.LVL2:
 187 0128 01E0      		ldi r16,lo8(1)
 188               	.LVL3:
 189 012a 00C0      		rjmp .L69
 190               	.LVL4:
 191               	.L23:
 192               	.LM28:
 193 012c 0F5F      		subi r16,lo8(-(1))
 194               	.LM29:
 195 012e E02F      		mov r30,r16
 196 0130 FF27      		clr r31
 197 0132 E050      		subi r30,lo8(-(PacketBytes))
 198 0134 F040      		sbci r31,hi8(-(PacketBytes))
 199 0136 8381      		ldd r24,Z+3
 200               	.LVL5:
 201 0138 0E94 0000 		call USI_SPITransmit
 202               	.LM30:
 203 013c 0F15      		cp r16,r15
 204 013e 00F0      		brlo .L69
 205 0140 1E15      		cp r17,r14
 206 0142 00F4      		brsh .L69
 207               	.LM31:
 208 0144 E12F      		mov r30,r17
 209 0146 FF27      		clr r31
 210 0148 E050      		subi r30,lo8(-(PacketBytes))
 211 014a F040      		sbci r31,hi8(-(PacketBytes))
 212               	.LVL6:
 213 014c 8283      		std Z+2,r24
 214 014e 1F5F      		subi r17,lo8(-(1))
 215               	.L69:
 216               	.LM32:
 217 0150 0D15      		cp r16,r13
 218 0152 00F0      		brlo .L23
 219 0154 00C0      		rjmp .L62
 220               	.LVL7:
 221               	.L27:
 222               	.LM33:
 223 0156 80E0      		ldi r24,lo8(0)
 224 0158 0E94 0000 		call USI_SPITransmit
 225 015c C050      		subi r28,lo8(-(PacketBytes))
 226 015e D040      		sbci r29,hi8(-(PacketBytes))
 227 0160 8A83      		std Y+2,r24
 228               	.LVL8:
 229               	.L62:
 230               	.LM34:
 231 0162 1F5F      		subi r17,lo8(-(1))
 232 0164 812F      		mov r24,r17
 233               	.LVL9:
 234 0166 8150      		subi r24,lo8(-(-1))
 235 0168 C12F      		mov r28,r17
 236 016a DD27      		clr r29
 237 016c 8E15      		cp r24,r14
 238 016e 00F0      		brlo .L27
 239               	.LVL10:
 240               	.LM35:
 241 0170 1092 0000 		sts PacketBytes+1,__zero_reg__
 242               	.LM36:
 243 0174 C050      		subi r28,lo8(-(PacketBytes))
 244 0176 D040      		sbci r29,hi8(-(PacketBytes))
 245 0178 1B82      		std Y+3,__zero_reg__
 246 017a 00C0      		rjmp .L16
 247               	.LVL11:
 248               	.L9:
 249               	.LM37:
 250 017c 84E0      		ldi r24,lo8(4)
 251 017e 90E0      		ldi r25,hi8(4)
 252 0180 9093 0000 		sts (MessageSize)+1,r25
 253 0184 8093 0000 		sts MessageSize,r24
 254 0188 C1E0      		ldi r28,lo8(1)
 255 018a D0E0      		ldi r29,hi8(1)
 256 018c 00E0      		ldi r16,lo8(PacketBytes+2)
 257 018e 10E0      		ldi r17,hi8(PacketBytes+2)
 258               	.LVL12:
 259               	.L29:
 260               	.LBB4:
 261               	.LBB5:
 262               	.LM38:
 263 0190 F801      		movw r30,r16
 264 0192 8191      		ld r24,Z+
 265 0194 8F01      		movw r16,r30
 266 0196 0E94 0000 		call USI_SPITransmit
 267               	.LVL13:
 268 019a 982F      		mov r25,r24
 269               	.LVL14:
 270               	.LM39:
 271 019c 8091 0000 		lds r24,PacketBytes+1
 272 01a0 8C17      		cp r24,r28
 273 01a2 01F4      		brne .L30
 274               	.LM40:
 275 01a4 9093 0000 		sts PacketBytes+2,r25
 276               	.L30:
 277 01a8 2196      		adiw r28,1
 278               	.LBE5:
 279               	.LM41:
 280 01aa C530      		cpi r28,5
 281 01ac D105      		cpc r29,__zero_reg__
 282 01ae 01F4      		brne .L29
 283               	.LBE4:
 284               	.LM42:
 285 01b0 1092 0000 		sts PacketBytes+1,__zero_reg__
 286               	.LM43:
 287 01b4 1092 0000 		sts PacketBytes+3,__zero_reg__
 288 01b8 00C0      		rjmp .L16
 289               	.LVL15:
 290               	.L8:
 291               	.LM44:
 292 01ba 83E0      		ldi r24,lo8(3)
 293 01bc 90E0      		ldi r25,hi8(3)
 294 01be 9093 0000 		sts (MessageSize)+1,r25
 295 01c2 8093 0000 		sts MessageSize,r24
 296 01c6 C0E0      		ldi r28,lo8(PacketBytes+1)
 297 01c8 D0E0      		ldi r29,hi8(PacketBytes+1)
 298               	.L33:
 299               	.LBB6:
 300               	.LM45:
 301 01ca 8991      		ld r24,Y+
 302 01cc 0E94 0000 		call USI_SPITransmit
 303               	.LM46:
 304 01d0 F0E0      		ldi r31,hi8(PacketBytes+5)
 305 01d2 C030      		cpi r28,lo8(PacketBytes+5)
 306 01d4 DF07      		cpc r29,r31
 307 01d6 01F4      		brne .L33
 308               	.LBE6:
 309               	.LM47:
 310 01d8 1092 0000 		sts PacketBytes+1,__zero_reg__
 311               	.LM48:
 312 01dc 1092 0000 		sts PacketBytes+2,__zero_reg__
 313 01e0 00C0      		rjmp .L16
 314               	.L7:
 315               	.LM49:
 316 01e2 D090 0000 		lds r13,PacketBytes+3
 317               	.LVL16:
 318               	.LM50:
 319 01e6 8091 0000 		lds r24,PacketBytes+1
 320 01ea 9927      		clr r25
 321 01ec D82F      		mov r29,r24
 322 01ee CC27      		clr r28
 323               	.LVL17:
 324 01f0 8091 0000 		lds r24,PacketBytes+2
 325 01f4 9927      		clr r25
 326 01f6 C82B      		or r28,r24
 327 01f8 D92B      		or r29,r25
 328               	.LM51:
 329 01fa 2396      		adiw r28,3
 330 01fc D093 0000 		sts (MessageSize)+1,r29
 331 0200 C093 0000 		sts MessageSize,r28
 332 0204 2397      		sbiw r28,3
 333 0206 00E0      		ldi r16,lo8(0)
 334 0208 10E0      		ldi r17,hi8(0)
 335               	.LVL18:
 336 020a 80E0      		ldi r24,lo8(PacketBytes+2)
 337 020c E82E      		mov r14,r24
 338 020e 80E0      		ldi r24,hi8(PacketBytes+2)
 339 0210 F82E      		mov r15,r24
 340 0212 00C0      		rjmp .L35
 341               	.L36:
 342               	.LBB7:
 343               	.LM52:
 344 0214 8091 0000 		lds r24,PacketBytes
 345 0218 8431      		cpi r24,lo8(20)
 346 021a 01F4      		brne .L37
 347               	.LM53:
 348 021c 00FF      		sbrs r16,0
 349 021e 00C0      		rjmp .L39
 350 0220 88E0      		ldi r24,lo8(8)
 351 0222 00C0      		rjmp .L41
 352               	.L39:
 353 0224 80E0      		ldi r24,lo8(0)
 354               	.L41:
 355 0226 8D29      		or r24,r13
 356 0228 00C0      		rjmp .L66
 357               	.L37:
 358               	.LM54:
 359 022a 8D2D      		mov r24,r13
 360               	.L66:
 361 022c 0E94 0000 		call USI_SPITransmit
 362               	.LM55:
 363 0230 8091 0000 		lds r24,CurrAddress
 364 0234 9091 0000 		lds r25,(CurrAddress)+1
 365 0238 0E94 0000 		call USI_SPITransmitWord
 366               	.LM56:
 367 023c 80E0      		ldi r24,lo8(0)
 368 023e 0E94 0000 		call USI_SPITransmit
 369 0242 F701      		movw r30,r14
 370 0244 8083      		st Z,r24
 371               	.LM57:
 372 0246 00FD      		sbrc r16,0
 373 0248 00C0      		rjmp .L43
 374 024a 8091 0000 		lds r24,PacketBytes
 375 024e 8631      		cpi r24,lo8(22)
 376 0250 01F4      		brne .L46
 377               	.L43:
 378               	.LM58:
 379 0252 0E94 0000 		call V2P_IncrementCurrAddress
 380               	.L46:
 381               	.LM59:
 382 0256 0F5F      		subi r16,lo8(-(1))
 383 0258 1F4F      		sbci r17,hi8(-(1))
 384 025a 0894      		sec
 385 025c E11C      		adc r14,__zero_reg__
 386 025e F11C      		adc r15,__zero_reg__
 387               	.L35:
 388 0260 0C17      		cp r16,r28
 389 0262 1D07      		cpc r17,r29
 390 0264 01F4      		brne .L36
 391               	.LBE7:
 392               	.LM60:
 393 0266 1092 0000 		sts PacketBytes+1,__zero_reg__
 394               	.LM61:
 395 026a C050      		subi r28,lo8(-(PacketBytes))
 396 026c D040      		sbci r29,hi8(-(PacketBytes))
 397 026e 1A82      		std Y+2,__zero_reg__
 398 0270 00C0      		rjmp .L16
 399               	.LVL19:
 400               	.L59:
 401               	.LM62:
 402 0272 0E94 0000 		call ISPCC_ProgramChip
 403               	.LM63:
 404 0276 82E0      		ldi r24,lo8(2)
 405 0278 90E0      		ldi r25,hi8(2)
 406 027a 9093 0000 		sts (MessageSize)+1,r25
 407 027e 8093 0000 		sts MessageSize,r24
 408               	.L68:
 409               	.LM64:
 410 0282 1092 0000 		sts PacketBytes+1,__zero_reg__
 411 0286 00C0      		rjmp .L16
 412               	.L2:
 413               	.LM65:
 414 0288 81E0      		ldi r24,lo8(1)
 415 028a 90E0      		ldi r25,hi8(1)
 416 028c 9093 0000 		sts (MessageSize)+1,r25
 417 0290 8093 0000 		sts MessageSize,r24
 418               	.LM66:
 419 0294 89EC      		ldi r24,lo8(-55)
 420 0296 8093 0000 		sts PacketBytes+1,r24
 421               	.LVL20:
 422               	.L16:
 423               	.LBE2:
 424               	.LM67:
 425 029a 0E94 0000 		call V2P_SendPacket
 426               	.LVL21:
 427               	/* epilogue: frame size=0 */
 428 029e DF91      		pop r29
 429 02a0 CF91      		pop r28
 430 02a2 1F91      		pop r17
 431 02a4 0F91      		pop r16
 432 02a6 FF90      		pop r15
 433 02a8 EF90      		pop r14
 434 02aa DF90      		pop r13
 435 02ac 0895      		ret
 436               	/* epilogue end (size=8) */
 437               	/* function AICI_InterpretPacket size 343 (328) */
 438               	.LFE14:
 440               	.global	AVRISPModeMessage
 441               		.section	.progmem.data,"a",@progbits
 444               	AVRISPModeMessage:
 445 0000 2A41 5441 		.string	"*ATAVRISP MODE*"
 445      5652 4953 
 445      5020 4D4F 
 445      4445 2A00 
 468               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 AVRISPCommandInterpreter.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:20     .text:00000000 AICI_InterpretPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccaOaaaa.s:444    .progmem.data:00000000 AVRISPModeMessage

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
PacketBytes
MessageSize
USI_SPIInitMaster
MAIN_ResetCSLine
ISPCC_EnterChipProgrammingMode
InProgrammingMode
SyncErrorMessage
LCD_puts_f
MAIN_Delay1MS
USI_SPIOff
USI_SPITransmit
USI_SPITransmitWord
CurrAddress
V2P_IncrementCurrAddress
ISPCC_ProgramChip
V2P_SendPacket
