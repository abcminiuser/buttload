   1               		.file	"AVRISPCommandInterpreter.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	AICI_InterpretPacket
  20               	AICI_InterpretPacket:
  21               	.LFB14:
  22               	.LM1:
  23               	/* prologue: frame size=0 */
  24 0000 DF92      		push r13
  25 0002 EF92      		push r14
  26 0004 FF92      		push r15
  27 0006 0F93      		push r16
  28 0008 1F93      		push r17
  29 000a CF93      		push r28
  30 000c DF93      		push r29
  31               	/* prologue end (size=7) */
  32               	.LM2:
  33 000e 8091 0000 		lds r24,PacketBytes
  34 0012 8631      		cpi r24,lo8(22)
  35 0014 01F4      		brne .+2
  36 0016 00C0      		rjmp .L7
  37               	.LM3:
  38 0018 8731      		cpi r24,lo8(23)
  39 001a 00F4      		brsh .L11
  40 001c 8231      		cpi r24,lo8(18)
  41 001e 01F4      		brne .+2
  42 0020 00C0      		rjmp .L5
  43 0022 8331      		cpi r24,lo8(19)
  44 0024 00F4      		brsh .L12
  45 0026 8031      		cpi r24,lo8(16)
  46 0028 01F0      		breq .L3
  47 002a 8131      		cpi r24,lo8(17)
  48 002c 01F0      		breq .+2
  49 002e 00C0      		rjmp .L2
  50 0030 00C0      		rjmp .L4
  51               	.L12:
  52 0032 8431      		cpi r24,lo8(20)
  53 0034 01F0      		breq .+2
  54 0036 00C0      		rjmp .L59
  55 0038 00C0      		rjmp .L7
  56               	.L11:
  57 003a 8931      		cpi r24,lo8(25)
  58 003c 01F4      		brne .+2
  59 003e 00C0      		rjmp .L8
  60 0040 8A31      		cpi r24,lo8(26)
  61 0042 00F4      		brsh .L13
  62 0044 8731      		cpi r24,lo8(23)
  63 0046 01F4      		brne .+2
  64 0048 00C0      		rjmp .L8
  65 004a 8831      		cpi r24,lo8(24)
  66 004c 01F0      		breq .+2
  67 004e 00C0      		rjmp .L2
  68 0050 00C0      		rjmp .L9
  69               	.L13:
  70 0052 8D31      		cpi r24,lo8(29)
  71 0054 00F4      		brsh .+2
  72 0056 00C0      		rjmp .L9
  73 0058 8D31      		cpi r24,lo8(29)
  74 005a 01F0      		breq .+2
  75 005c 00C0      		rjmp .L2
  76 005e 00C0      		rjmp .L10
  77               	.L3:
  78               	.LBB10:
  79               	.LM4:
  80 0060 82E0      		ldi r24,lo8(2)
  81 0062 90E0      		ldi r25,hi8(2)
  82 0064 9093 0000 		sts (MessageSize)+1,r25
  83 0068 8093 0000 		sts MessageSize,r24
  84               	.LBB11:
  85               	.LBB12:
  86               	.LM5:
  87 006c A0E0      		ldi r26,lo8(EEPROMVars+2)
  88 006e B0E0      		ldi r27,hi8(EEPROMVars+2)
  89               	/* #APP */
  90 0070 0E94 0000 		call __eeprom_read_byte_1F2021
  91 0074 802D      		mov r24,__tmp_reg__
  92               	.LVL0:
  93               	/* #NOAPP */
  94               	.LBE12:
  95               	.LBE11:
  96               	.LM6:
  97 0076 0E94 0000 		call USI_SPIInitMaster
  98               	.LVL1:
  99               	.LM7:
 100 007a 80E0      		ldi r24,lo8(0)
 101 007c 0E94 0000 		call MAIN_ResetCSLine
 102               	.LM8:
 103 0080 0E94 0000 		call ISPCC_EnterChipProgrammingMode
 104               	.LM9:
 105 0084 8091 0000 		lds r24,InProgrammingMode
 106 0088 8823      		tst r24
 107 008a 01F0      		breq .L14
 108               	.LM10:
 109 008c 80E0      		ldi r24,lo8(AVRISPModeMessage)
 110 008e 90E0      		ldi r25,hi8(AVRISPModeMessage)
 111 0090 00C0      		rjmp .L67
 112               	.L14:
 113               	.LM11:
 114 0092 80E0      		ldi r24,lo8(SyncErrorMessage)
 115 0094 90E0      		ldi r25,hi8(SyncErrorMessage)
 116               	.L67:
 117 0096 0E94 0000 		call LCD_puts_f
 118 009a 00C0      		rjmp .L16
 119               	.L4:
 120               	.LM12:
 121 009c 82E0      		ldi r24,lo8(2)
 122 009e 90E0      		ldi r25,hi8(2)
 123 00a0 9093 0000 		sts (MessageSize)+1,r25
 124 00a4 8093 0000 		sts MessageSize,r24
 125               	.LM13:
 126 00a8 8091 0000 		lds r24,PacketBytes+1
 127 00ac 0E94 0000 		call MAIN_Delay1MS
 128               	.LM14:
 129 00b0 81B3      		in r24,49-0x20
 130 00b2 8F7C      		andi r24,lo8(-49)
 131 00b4 8061      		ori r24,lo8(16)
 132 00b6 81BB      		out 49-0x20,r24
 133               	.LM15:
 134 00b8 1092 0000 		sts InProgrammingMode,__zero_reg__
 135               	.LM16:
 136 00bc 81E0      		ldi r24,lo8(1)
 137 00be 0E94 0000 		call MAIN_ResetCSLine
 138               	.LM17:
 139 00c2 8091 0000 		lds r24,PacketBytes+2
 140 00c6 0E94 0000 		call MAIN_Delay1MS
 141               	.LM18:
 142 00ca 0E94 0000 		call USI_SPIOff
 143 00ce 00C0      		rjmp .L68
 144               	.L5:
 145               	.LM19:
 146 00d0 82E0      		ldi r24,lo8(2)
 147 00d2 90E0      		ldi r25,hi8(2)
 148 00d4 9093 0000 		sts (MessageSize)+1,r25
 149 00d8 8093 0000 		sts MessageSize,r24
 150 00dc C0E0      		ldi r28,lo8(PacketBytes+3)
 151 00de D0E0      		ldi r29,hi8(PacketBytes+3)
 152               	.L17:
 153               	.LBB13:
 154               	.LM20:
 155 00e0 8991      		ld r24,Y+
 156 00e2 0E94 0000 		call USI_SPITransmit
 157               	.LM21:
 158 00e6 80E0      		ldi r24,hi8(PacketBytes+7)
 159 00e8 C030      		cpi r28,lo8(PacketBytes+7)
 160 00ea D807      		cpc r29,r24
 161 00ec 01F4      		brne .L17
 162               	.LBE13:
 163               	.LM22:
 164 00ee 8091 0000 		lds r24,PacketBytes+2
 165 00f2 8823      		tst r24
 166 00f4 01F0      		breq .L19
 167               	.L54:
 168               	.LM23:
 169 00f6 80E0      		ldi r24,lo8(-4096)
 170 00f8 90EF      		ldi r25,hi8(-4096)
 171 00fa 0E94 0000 		call USI_SPITransmitWord
 172               	.LM24:
 173 00fe 80E0      		ldi r24,lo8(0)
 174 0100 90E0      		ldi r25,hi8(0)
 175 0102 0E94 0000 		call USI_SPITransmitWord
 176 0106 80FF      		sbrs r24,0
 177 0108 00C0      		rjmp .L68
 178 010a 00C0      		rjmp .L54
 179               	.L19:
 180               	.LM25:
 181 010c 8091 0000 		lds r24,PacketBytes+1
 182 0110 0E94 0000 		call MAIN_Delay1MS
 183 0114 00C0      		rjmp .L68
 184               	.L10:
 185               	.LM26:
 186 0116 F090 0000 		lds r15,PacketBytes+2
 187 011a 8F2D      		mov r24,r15
 188 011c 9927      		clr r25
 189 011e 0396      		adiw r24,3
 190 0120 9093 0000 		sts (MessageSize)+1,r25
 191 0124 8093 0000 		sts MessageSize,r24
 192               	.LM27:
 193 0128 D090 0000 		lds r13,PacketBytes+1
 194               	.LVL2:
 195               	.LM28:
 196 012c E090 0000 		lds r14,PacketBytes+3
 197               	.LVL3:
 198 0130 11E0      		ldi r17,lo8(1)
 199               	.LVL4:
 200 0132 01E0      		ldi r16,lo8(1)
 201               	.LVL5:
 202 0134 00C0      		rjmp .L69
 203               	.LVL6:
 204               	.L23:
 205               	.LM29:
 206 0136 0F5F      		subi r16,lo8(-(1))
 207               	.LM30:
 208 0138 E02F      		mov r30,r16
 209 013a FF27      		clr r31
 210 013c E050      		subi r30,lo8(-(PacketBytes))
 211 013e F040      		sbci r31,hi8(-(PacketBytes))
 212 0140 8381      		ldd r24,Z+3
 213               	.LVL7:
 214 0142 0E94 0000 		call USI_SPITransmit
 215               	.LM31:
 216 0146 0F15      		cp r16,r15
 217 0148 00F0      		brlo .L69
 218 014a 1E15      		cp r17,r14
 219 014c 00F4      		brsh .L69
 220               	.LM32:
 221 014e E12F      		mov r30,r17
 222 0150 FF27      		clr r31
 223 0152 E050      		subi r30,lo8(-(PacketBytes))
 224 0154 F040      		sbci r31,hi8(-(PacketBytes))
 225               	.LVL8:
 226 0156 8283      		std Z+2,r24
 227 0158 1F5F      		subi r17,lo8(-(1))
 228               	.L69:
 229               	.LM33:
 230 015a 0D15      		cp r16,r13
 231 015c 00F0      		brlo .L23
 232 015e 00C0      		rjmp .L62
 233               	.LVL9:
 234               	.L27:
 235               	.LM34:
 236 0160 80E0      		ldi r24,lo8(0)
 237 0162 0E94 0000 		call USI_SPITransmit
 238 0166 C050      		subi r28,lo8(-(PacketBytes))
 239 0168 D040      		sbci r29,hi8(-(PacketBytes))
 240 016a 8A83      		std Y+2,r24
 241               	.LVL10:
 242               	.L62:
 243               	.LM35:
 244 016c 1F5F      		subi r17,lo8(-(1))
 245 016e 812F      		mov r24,r17
 246               	.LVL11:
 247 0170 8150      		subi r24,lo8(-(-1))
 248 0172 C12F      		mov r28,r17
 249 0174 DD27      		clr r29
 250 0176 8E15      		cp r24,r14
 251 0178 00F0      		brlo .L27
 252               	.LVL12:
 253               	.LM36:
 254 017a 1092 0000 		sts PacketBytes+1,__zero_reg__
 255               	.LM37:
 256 017e C050      		subi r28,lo8(-(PacketBytes))
 257 0180 D040      		sbci r29,hi8(-(PacketBytes))
 258 0182 1B82      		std Y+3,__zero_reg__
 259 0184 00C0      		rjmp .L16
 260               	.LVL13:
 261               	.L9:
 262               	.LM38:
 263 0186 84E0      		ldi r24,lo8(4)
 264 0188 90E0      		ldi r25,hi8(4)
 265 018a 9093 0000 		sts (MessageSize)+1,r25
 266 018e 8093 0000 		sts MessageSize,r24
 267 0192 C1E0      		ldi r28,lo8(1)
 268 0194 D0E0      		ldi r29,hi8(1)
 269 0196 00E0      		ldi r16,lo8(PacketBytes+2)
 270 0198 10E0      		ldi r17,hi8(PacketBytes+2)
 271               	.LVL14:
 272               	.L29:
 273               	.LBB14:
 274               	.LBB15:
 275               	.LM39:
 276 019a F801      		movw r30,r16
 277 019c 8191      		ld r24,Z+
 278 019e 8F01      		movw r16,r30
 279 01a0 0E94 0000 		call USI_SPITransmit
 280               	.LVL15:
 281 01a4 982F      		mov r25,r24
 282               	.LVL16:
 283               	.LM40:
 284 01a6 8091 0000 		lds r24,PacketBytes+1
 285 01aa 8C17      		cp r24,r28
 286 01ac 01F4      		brne .L30
 287               	.LM41:
 288 01ae 9093 0000 		sts PacketBytes+2,r25
 289               	.L30:
 290 01b2 2196      		adiw r28,1
 291               	.LBE15:
 292               	.LM42:
 293 01b4 C530      		cpi r28,5
 294 01b6 D105      		cpc r29,__zero_reg__
 295 01b8 01F4      		brne .L29
 296               	.LBE14:
 297               	.LM43:
 298 01ba 1092 0000 		sts PacketBytes+1,__zero_reg__
 299               	.LM44:
 300 01be 1092 0000 		sts PacketBytes+3,__zero_reg__
 301 01c2 00C0      		rjmp .L16
 302               	.LVL17:
 303               	.L8:
 304               	.LM45:
 305 01c4 83E0      		ldi r24,lo8(3)
 306 01c6 90E0      		ldi r25,hi8(3)
 307 01c8 9093 0000 		sts (MessageSize)+1,r25
 308 01cc 8093 0000 		sts MessageSize,r24
 309 01d0 C0E0      		ldi r28,lo8(PacketBytes+1)
 310 01d2 D0E0      		ldi r29,hi8(PacketBytes+1)
 311               	.L33:
 312               	.LBB16:
 313               	.LM46:
 314 01d4 8991      		ld r24,Y+
 315 01d6 0E94 0000 		call USI_SPITransmit
 316               	.LM47:
 317 01da F0E0      		ldi r31,hi8(PacketBytes+5)
 318 01dc C030      		cpi r28,lo8(PacketBytes+5)
 319 01de DF07      		cpc r29,r31
 320 01e0 01F4      		brne .L33
 321               	.LBE16:
 322               	.LM48:
 323 01e2 1092 0000 		sts PacketBytes+1,__zero_reg__
 324               	.LM49:
 325 01e6 1092 0000 		sts PacketBytes+2,__zero_reg__
 326 01ea 00C0      		rjmp .L16
 327               	.L7:
 328               	.LM50:
 329 01ec D090 0000 		lds r13,PacketBytes+3
 330               	.LVL18:
 331               	.LM51:
 332 01f0 8091 0000 		lds r24,PacketBytes+1
 333 01f4 9927      		clr r25
 334 01f6 D82F      		mov r29,r24
 335 01f8 CC27      		clr r28
 336               	.LVL19:
 337 01fa 8091 0000 		lds r24,PacketBytes+2
 338 01fe 9927      		clr r25
 339 0200 C82B      		or r28,r24
 340 0202 D92B      		or r29,r25
 341               	.LM52:
 342 0204 2396      		adiw r28,3
 343 0206 D093 0000 		sts (MessageSize)+1,r29
 344 020a C093 0000 		sts MessageSize,r28
 345 020e 2397      		sbiw r28,3
 346 0210 00E0      		ldi r16,lo8(0)
 347 0212 10E0      		ldi r17,hi8(0)
 348               	.LVL20:
 349 0214 80E0      		ldi r24,lo8(PacketBytes+2)
 350 0216 E82E      		mov r14,r24
 351 0218 80E0      		ldi r24,hi8(PacketBytes+2)
 352 021a F82E      		mov r15,r24
 353 021c 00C0      		rjmp .L35
 354               	.L36:
 355               	.LBB17:
 356               	.LM53:
 357 021e 8091 0000 		lds r24,PacketBytes
 358 0222 8431      		cpi r24,lo8(20)
 359 0224 01F4      		brne .L37
 360               	.LM54:
 361 0226 00FF      		sbrs r16,0
 362 0228 00C0      		rjmp .L39
 363 022a 88E0      		ldi r24,lo8(8)
 364 022c 00C0      		rjmp .L41
 365               	.L39:
 366 022e 80E0      		ldi r24,lo8(0)
 367               	.L41:
 368 0230 8D29      		or r24,r13
 369 0232 00C0      		rjmp .L66
 370               	.L37:
 371               	.LM55:
 372 0234 8D2D      		mov r24,r13
 373               	.L66:
 374 0236 0E94 0000 		call USI_SPITransmit
 375               	.LM56:
 376 023a 8091 0000 		lds r24,CurrAddress
 377 023e 9091 0000 		lds r25,(CurrAddress)+1
 378 0242 0E94 0000 		call USI_SPITransmitWord
 379               	.LM57:
 380 0246 80E0      		ldi r24,lo8(0)
 381 0248 0E94 0000 		call USI_SPITransmit
 382 024c F701      		movw r30,r14
 383 024e 8083      		st Z,r24
 384               	.LM58:
 385 0250 00FD      		sbrc r16,0
 386 0252 00C0      		rjmp .L43
 387 0254 8091 0000 		lds r24,PacketBytes
 388 0258 8631      		cpi r24,lo8(22)
 389 025a 01F4      		brne .L46
 390               	.L43:
 391               	.LM59:
 392 025c 0E94 0000 		call V2P_IncrementCurrAddress
 393               	.L46:
 394               	.LM60:
 395 0260 0F5F      		subi r16,lo8(-(1))
 396 0262 1F4F      		sbci r17,hi8(-(1))
 397 0264 0894      		sec
 398 0266 E11C      		adc r14,__zero_reg__
 399 0268 F11C      		adc r15,__zero_reg__
 400               	.L35:
 401 026a 0C17      		cp r16,r28
 402 026c 1D07      		cpc r17,r29
 403 026e 01F4      		brne .L36
 404               	.LBE17:
 405               	.LM61:
 406 0270 1092 0000 		sts PacketBytes+1,__zero_reg__
 407               	.LM62:
 408 0274 C050      		subi r28,lo8(-(PacketBytes))
 409 0276 D040      		sbci r29,hi8(-(PacketBytes))
 410 0278 1A82      		std Y+2,__zero_reg__
 411 027a 00C0      		rjmp .L16
 412               	.LVL21:
 413               	.L59:
 414               	.LM63:
 415 027c 0E94 0000 		call ISPCC_ProgramChip
 416               	.LM64:
 417 0280 82E0      		ldi r24,lo8(2)
 418 0282 90E0      		ldi r25,hi8(2)
 419 0284 9093 0000 		sts (MessageSize)+1,r25
 420 0288 8093 0000 		sts MessageSize,r24
 421               	.L68:
 422               	.LM65:
 423 028c 1092 0000 		sts PacketBytes+1,__zero_reg__
 424 0290 00C0      		rjmp .L16
 425               	.L2:
 426               	.LM66:
 427 0292 81E0      		ldi r24,lo8(1)
 428 0294 90E0      		ldi r25,hi8(1)
 429 0296 9093 0000 		sts (MessageSize)+1,r25
 430 029a 8093 0000 		sts MessageSize,r24
 431               	.LM67:
 432 029e 89EC      		ldi r24,lo8(-55)
 433 02a0 8093 0000 		sts PacketBytes+1,r24
 434               	.LVL22:
 435               	.L16:
 436               	.LBE10:
 437               	.LM68:
 438 02a4 0E94 0000 		call V2P_SendPacket
 439               	.LVL23:
 440               	/* epilogue: frame size=0 */
 441 02a8 DF91      		pop r29
 442 02aa CF91      		pop r28
 443 02ac 1F91      		pop r17
 444 02ae 0F91      		pop r16
 445 02b0 FF90      		pop r15
 446 02b2 EF90      		pop r14
 447 02b4 DF90      		pop r13
 448 02b6 0895      		ret
 449               	/* epilogue end (size=8) */
 450               	/* function AICI_InterpretPacket size 349 (334) */
 451               	.LFE14:
 453               	.global	AVRISPModeMessage
 454               		.section	.progmem.data,"a",@progbits
 457               	AVRISPModeMessage:
 458 0000 2A41 5441 		.string	"*ATAVRISP MODE*"
 458      5652 4953 
 458      5020 4D4F 
 458      4445 2A00 
 481               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 AVRISPCommandInterpreter.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:20     .text:00000000 AICI_InterpretPacket
C:\DOCUME~1\Dean\LOCALS~1\Temp/cc29aaaa.s:457    .progmem.data:00000000 AVRISPModeMessage

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
PacketBytes
MessageSize
EEPROMVars
__eeprom_read_byte_1F2021
USI_SPIInitMaster
MAIN_ResetCSLine
ISPCC_EnterChipProgrammingMode
InProgrammingMode
SyncErrorMessage
LCD_puts_f
MAIN_Delay1MS
USI_SPIOff
USI_SPITransmit
USI_SPITransmitWord
CurrAddress
V2P_IncrementCurrAddress
ISPCC_ProgramChip
V2P_SendPacket
