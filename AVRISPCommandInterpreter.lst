   1               		.file	"AVRISPCommandInterpreter.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	AVRISPModeMessage
  19               		.section	.progmem.data,"a",@progbits
  22               	AVRISPModeMessage:
  23 0000 2A41 5441 		.string	"*ATAVRISP MODE*"
  23      5652 4953 
  23      5020 4D4F 
  23      4445 2A00 
  24               		.text
  25               	.global	AICI_InterpretPacket
  27               	AICI_InterpretPacket:
  28               	.LFB14:
  29               	.LM1:
  30               	/* prologue: frame size=0 */
  31 0000 DF92      		push r13
  32 0002 EF92      		push r14
  33 0004 FF92      		push r15
  34 0006 0F93      		push r16
  35 0008 1F93      		push r17
  36 000a CF93      		push r28
  37 000c DF93      		push r29
  38               	/* prologue end (size=7) */
  39               	.LM2:
  40 000e 8091 0000 		lds r24,PacketBytes
  41 0012 9927      		clr r25
  42 0014 8631      		cpi r24,22
  43 0016 9105      		cpc r25,__zero_reg__
  44 0018 09F4      		brne .+2
  45 001a FBC0      		rjmp .L44
  46               	.LM3:
  47 001c 8731      		cpi r24,23
  48 001e 9105      		cpc r25,__zero_reg__
  49 0020 94F4      		brge .L59
  50 0022 8231      		cpi r24,18
  51 0024 9105      		cpc r25,__zero_reg__
  52 0026 09F4      		brne .+2
  53 0028 60C0      		rjmp .L10
  54 002a 8331      		cpi r24,19
  55 002c 9105      		cpc r25,__zero_reg__
  56 002e 3CF4      		brge .L60
  57 0030 8031      		cpi r24,16
  58 0032 9105      		cpc r25,__zero_reg__
  59 0034 F9F0      		breq .L3
  60 0036 4197      		sbiw r24,17
  61 0038 09F4      		brne .+2
  62 003a 3DC0      		rjmp .L8
  63 003c 3EC1      		rjmp .L58
  64               	.L60:
  65 003e 4497      		sbiw r24,20
  66 0040 09F4      		brne .+2
  67 0042 E7C0      		rjmp .L44
  68 0044 2FC1      		rjmp .L57
  69               	.L59:
  70 0046 8931      		cpi r24,25
  71 0048 9105      		cpc r25,__zero_reg__
  72 004a 09F4      		brne .+2
  73 004c CCC0      		rjmp .L38
  74 004e 8A31      		cpi r24,26
  75 0050 9105      		cpc r25,__zero_reg__
  76 0052 44F4      		brge .L61
  77 0054 8731      		cpi r24,23
  78 0056 9105      		cpc r25,__zero_reg__
  79 0058 09F4      		brne .+2
  80 005a C5C0      		rjmp .L38
  81 005c 4897      		sbiw r24,24
  82 005e 09F4      		brne .+2
  83 0060 A5C0      		rjmp .L31
  84 0062 2BC1      		rjmp .L58
  85               	.L61:
  86 0064 8D31      		cpi r24,29
  87 0066 9105      		cpc r25,__zero_reg__
  88 0068 0CF4      		brge .+2
  89 006a A0C0      		rjmp .L31
  90 006c 4D97      		sbiw r24,29
  91 006e 09F4      		brne .+2
  92 0070 61C0      		rjmp .L20
  93 0072 23C1      		rjmp .L58
  94               	.L3:
  95               	.LBB2:
  96               	.LM4:
  97 0074 82E0      		ldi r24,lo8(2)
  98 0076 90E0      		ldi r25,hi8(2)
  99 0078 9093 0000 		sts (MessageSize)+1,r25
 100 007c 8093 0000 		sts MessageSize,r24
 101               	.LBB3:
 102               	.LM5:
 103 0080 A0E0      		ldi r26,lo8(EEPROMVars+1)
 104 0082 B0E0      		ldi r27,hi8(EEPROMVars+1)
 105               	.LBB4:
 106               	.LM6:
 107               	/* #APP */
 108 0084 0E94 0000 		call __eeprom_read_byte_1F2021
 109 0088 802D      		mov r24,__tmp_reg__
 110               	/* #NOAPP */
 111               	.LBE4:
 112               	.LBE3:
 113               	.LM7:
 114 008a 0E94 0000 		call USI_SPIInitMaster
 115               	.LM8:
 116 008e 80E0      		ldi r24,lo8(0)
 117 0090 0E94 0000 		call MAIN_ResetCSLine
 118               	.LM9:
 119 0094 81B3      		in r24,49-0x20
 120 0096 8063      		ori r24,lo8(48)
 121 0098 81BB      		out 49-0x20,r24
 122               	.LM10:
 123 009a 0E94 0000 		call ISPCC_EnterChipProgrammingMode
 124               	.LM11:
 125 009e 8091 0000 		lds r24,InProgrammingMode
 126 00a2 8823      		tst r24
 127 00a4 19F0      		breq .L6
 128               	.LM12:
 129 00a6 80E0      		ldi r24,lo8(AVRISPModeMessage)
 130 00a8 90E0      		ldi r25,hi8(AVRISPModeMessage)
 131 00aa 02C0      		rjmp .L76
 132               	.L6:
 133               	.LM13:
 134 00ac 80E0      		ldi r24,lo8(SyncErrorMessage)
 135 00ae 90E0      		ldi r25,hi8(SyncErrorMessage)
 136               	.L76:
 137 00b0 0E94 0000 		call LCD_puts_f
 138               	.LM14:
 139 00b4 0BC1      		rjmp .L2
 140               	.L8:
 141               	.LM15:
 142 00b6 82E0      		ldi r24,lo8(2)
 143 00b8 90E0      		ldi r25,hi8(2)
 144 00ba 9093 0000 		sts (MessageSize)+1,r25
 145 00be 8093 0000 		sts MessageSize,r24
 146               	.LM16:
 147 00c2 8091 0000 		lds r24,PacketBytes+1
 148 00c6 0E94 0000 		call MAIN_Delay1MS
 149               	.LM17:
 150 00ca 81B3      		in r24,49-0x20
 151 00cc 8F7C      		andi r24,lo8(-49)
 152 00ce 8061      		ori r24,lo8(16)
 153 00d0 81BB      		out 49-0x20,r24
 154               	.LM18:
 155 00d2 1092 0000 		sts InProgrammingMode,__zero_reg__
 156               	.LM19:
 157 00d6 81E0      		ldi r24,lo8(1)
 158 00d8 0E94 0000 		call MAIN_ResetCSLine
 159               	.LM20:
 160 00dc 8091 0000 		lds r24,PacketBytes+2
 161 00e0 0E94 0000 		call MAIN_Delay1MS
 162               	.LM21:
 163 00e4 0E94 0000 		call USI_SPIOff
 164 00e8 E5C0      		rjmp .L75
 165               	.L10:
 166               	.LM22:
 167 00ea 82E0      		ldi r24,lo8(2)
 168 00ec 90E0      		ldi r25,hi8(2)
 169 00ee 9093 0000 		sts (MessageSize)+1,r25
 170 00f2 8093 0000 		sts MessageSize,r24
 171               	.LBB5:
 172               	.LM23:
 173 00f6 C3E0      		ldi r28,lo8(3)
 174 00f8 00E0      		ldi r16,lo8(PacketBytes+3)
 175 00fa 10E0      		ldi r17,hi8(PacketBytes+3)
 176               	.L14:
 177               	.LM24:
 178 00fc F801      		movw r30,r16
 179 00fe 8191      		ld r24,Z+
 180 0100 8F01      		movw r16,r30
 181 0102 0E94 0000 		call USI_SPITransmit
 182               	.LM25:
 183 0106 C150      		subi r28,lo8(-(-1))
 184 0108 C7FF      		sbrs r28,7
 185 010a F8CF      		rjmp .L14
 186               	.LBE5:
 187               	.LM26:
 188 010c 8091 0000 		lds r24,PacketBytes+2
 189 0110 8823      		tst r24
 190 0112 59F0      		breq .L15
 191               	.L16:
 192               	.LM27:
 193 0114 80E0      		ldi r24,lo8(-4096)
 194 0116 90EF      		ldi r25,hi8(-4096)
 195 0118 0E94 0000 		call USI_SPITransmitWord
 196 011c 80E0      		ldi r24,lo8(0)
 197 011e 90E0      		ldi r25,hi8(0)
 198 0120 0E94 0000 		call USI_SPITransmitWord
 199 0124 80FD      		sbrc r24,0
 200 0126 F6CF      		rjmp .L16
 201 0128 C5C0      		rjmp .L75
 202               	.L15:
 203               	.LM28:
 204 012a 8091 0000 		lds r24,PacketBytes+1
 205 012e 0E94 0000 		call MAIN_Delay1MS
 206 0132 C0C0      		rjmp .L75
 207               	.L20:
 208               	.LM29:
 209 0134 E090 0000 		lds r14,PacketBytes+2
 210 0138 8E2D      		mov r24,r14
 211 013a 9927      		clr r25
 212 013c 0396      		adiw r24,3
 213 013e 9093 0000 		sts (MessageSize)+1,r25
 214 0142 8093 0000 		sts MessageSize,r24
 215               	.LM30:
 216 0146 0091 0000 		lds r16,PacketBytes+1
 217               	.LM31:
 218 014a F090 0000 		lds r15,PacketBytes+3
 219               	.LM32:
 220 014e C1E0      		ldi r28,lo8(1)
 221               	.LM33:
 222 0150 12E0      		ldi r17,lo8(2)
 223 0152 C017      		cp r28,r16
 224 0154 A8F4      		brsh .L65
 225               	.L24:
 226               	.LM34:
 227 0156 E12F      		mov r30,r17
 228 0158 FF27      		clr r31
 229 015a E050      		subi r30,lo8(-(PacketBytes))
 230 015c F040      		sbci r31,hi8(-(PacketBytes))
 231 015e 8381      		ldd r24,Z+3
 232 0160 0E94 0000 		call USI_SPITransmit
 233               	.LM35:
 234 0164 1E15      		cp r17,r14
 235 0166 40F0      		brlo .L21
 236 0168 CF15      		cp r28,r15
 237 016a 30F4      		brsh .L21
 238               	.LM36:
 239 016c EC2F      		mov r30,r28
 240 016e FF27      		clr r31
 241 0170 E050      		subi r30,lo8(-(PacketBytes))
 242 0172 F040      		sbci r31,hi8(-(PacketBytes))
 243 0174 8283      		std Z+2,r24
 244 0176 CF5F      		subi r28,lo8(-(1))
 245               	.L21:
 246 0178 812F      		mov r24,r17
 247 017a 1F5F      		subi r17,lo8(-(1))
 248 017c 8017      		cp r24,r16
 249 017e 58F3      		brlo .L24
 250               	.L65:
 251               	.LM37:
 252 0180 8C2F      		mov r24,r28
 253 0182 CF5F      		subi r28,lo8(-(1))
 254 0184 8F15      		cp r24,r15
 255 0186 50F4      		brsh .L67
 256 0188 0C2F      		mov r16,r28
 257 018a 1127      		clr r17
 258 018c 0050      		subi r16,lo8(-(PacketBytes))
 259 018e 1040      		sbci r17,hi8(-(PacketBytes))
 260 0190 80E0      		ldi r24,lo8(0)
 261 0192 0E94 0000 		call USI_SPITransmit
 262 0196 F801      		movw r30,r16
 263 0198 8283      		std Z+2,r24
 264 019a F2CF      		rjmp .L65
 265               	.L67:
 266               	.LM38:
 267 019c 1092 0000 		sts PacketBytes+1,__zero_reg__
 268               	.LM39:
 269 01a0 EC2F      		mov r30,r28
 270 01a2 FF27      		clr r31
 271 01a4 E050      		subi r30,lo8(-(PacketBytes))
 272 01a6 F040      		sbci r31,hi8(-(PacketBytes))
 273 01a8 1382      		std Z+3,__zero_reg__
 274               	.LM40:
 275 01aa 90C0      		rjmp .L2
 276               	.L31:
 277               	.LM41:
 278 01ac 84E0      		ldi r24,lo8(4)
 279 01ae 90E0      		ldi r25,hi8(4)
 280 01b0 9093 0000 		sts (MessageSize)+1,r25
 281 01b4 8093 0000 		sts MessageSize,r24
 282               	.LBB6:
 283               	.LM42:
 284 01b8 C1E0      		ldi r28,lo8(1)
 285 01ba 00E0      		ldi r16,lo8(PacketBytes+2)
 286 01bc 10E0      		ldi r17,hi8(PacketBytes+2)
 287               	.L36:
 288               	.LBB7:
 289               	.LM43:
 290 01be F801      		movw r30,r16
 291 01c0 8191      		ld r24,Z+
 292 01c2 8F01      		movw r16,r30
 293 01c4 0E94 0000 		call USI_SPITransmit
 294 01c8 982F      		mov r25,r24
 295               	.LM44:
 296 01ca 8091 0000 		lds r24,PacketBytes+1
 297 01ce C817      		cp r28,r24
 298 01d0 11F4      		brne .L34
 299               	.LM45:
 300 01d2 9093 0000 		sts PacketBytes+2,r25
 301               	.L34:
 302               	.LBE7:
 303               	.LM46:
 304 01d6 CF5F      		subi r28,lo8(-(1))
 305 01d8 C530      		cpi r28,lo8(5)
 306 01da 88F3      		brlo .L36
 307               	.LBE6:
 308               	.LM47:
 309 01dc 1092 0000 		sts PacketBytes+1,__zero_reg__
 310               	.LM48:
 311 01e0 1092 0000 		sts PacketBytes+3,__zero_reg__
 312               	.LM49:
 313 01e4 73C0      		rjmp .L2
 314               	.L38:
 315               	.LM50:
 316 01e6 83E0      		ldi r24,lo8(3)
 317 01e8 90E0      		ldi r25,hi8(3)
 318 01ea 9093 0000 		sts (MessageSize)+1,r25
 319 01ee 8093 0000 		sts MessageSize,r24
 320 01f2 00E0      		ldi r16,lo8(PacketBytes+1)
 321 01f4 10E0      		ldi r17,hi8(PacketBytes+1)
 322 01f6 C3E0      		ldi r28,lo8(3)
 323               	.L42:
 324               	.LBB8:
 325               	.LM51:
 326 01f8 F801      		movw r30,r16
 327 01fa 8191      		ld r24,Z+
 328 01fc 8F01      		movw r16,r30
 329 01fe 0E94 0000 		call USI_SPITransmit
 330               	.LM52:
 331 0202 C150      		subi r28,lo8(-(-1))
 332 0204 C7FF      		sbrs r28,7
 333 0206 F8CF      		rjmp .L42
 334               	.LBE8:
 335               	.LM53:
 336 0208 1092 0000 		sts PacketBytes+1,__zero_reg__
 337               	.LM54:
 338 020c 1092 0000 		sts PacketBytes+2,__zero_reg__
 339               	.LM55:
 340 0210 5DC0      		rjmp .L2
 341               	.L44:
 342               	.LM56:
 343 0212 D090 0000 		lds r13,PacketBytes+3
 344               	.LM57:
 345 0216 8091 0000 		lds r24,PacketBytes+1
 346 021a 9927      		clr r25
 347 021c D82F      		mov r29,r24
 348 021e CC27      		clr r28
 349 0220 8091 0000 		lds r24,PacketBytes+2
 350 0224 9927      		clr r25
 351 0226 C82B      		or r28,r24
 352 0228 D92B      		or r29,r25
 353               	.LM58:
 354 022a 2396      		adiw r28,3
 355 022c D093 0000 		sts (MessageSize)+1,r29
 356 0230 C093 0000 		sts MessageSize,r28
 357 0234 2397      		sbiw r28,3
 358               	.LBB9:
 359               	.LM59:
 360 0236 00E0      		ldi r16,lo8(0)
 361 0238 10E0      		ldi r17,hi8(0)
 362 023a 0C17      		cp r16,r28
 363 023c 1D07      		cpc r17,r29
 364 023e 60F5      		brsh .L73
 365 0240 80E0      		ldi r24,lo8(PacketBytes+2)
 366 0242 E82E      		mov r14,r24
 367 0244 80E0      		ldi r24,hi8(PacketBytes+2)
 368 0246 F82E      		mov r15,r24
 369               	.L55:
 370               	.LM60:
 371 0248 8091 0000 		lds r24,PacketBytes
 372 024c 8431      		cpi r24,lo8(20)
 373 024e 31F4      		brne .L48
 374               	.LM61:
 375 0250 8D2D      		mov r24,r13
 376 0252 9927      		clr r25
 377 0254 00FF      		sbrs r16,0
 378 0256 03C0      		rjmp .L74
 379 0258 8860      		ori r24,lo8(8)
 380 025a 01C0      		rjmp .L74
 381               	.L48:
 382               	.LM62:
 383 025c 8D2D      		mov r24,r13
 384               	.L74:
 385 025e 0E94 0000 		call USI_SPITransmit
 386               	.LM63:
 387 0262 8091 0000 		lds r24,CurrAddress
 388 0266 9091 0000 		lds r25,(CurrAddress)+1
 389 026a 0E94 0000 		call USI_SPITransmitWord
 390               	.LM64:
 391 026e 80E0      		ldi r24,lo8(0)
 392 0270 0E94 0000 		call USI_SPITransmit
 393 0274 F701      		movw r30,r14
 394 0276 8083      		st Z,r24
 395               	.LM65:
 396 0278 00FD      		sbrc r16,0
 397 027a 04C0      		rjmp .L52
 398 027c 8091 0000 		lds r24,PacketBytes
 399 0280 8631      		cpi r24,lo8(22)
 400 0282 11F4      		brne .L47
 401               	.L52:
 402               	.LM66:
 403 0284 0E94 0000 		call V2P_IncrementCurrAddress
 404               	.L47:
 405               	.LM67:
 406 0288 0F5F      		subi r16,lo8(-(1))
 407 028a 1F4F      		sbci r17,hi8(-(1))
 408 028c 0894      		sec
 409 028e E11C      		adc r14,__zero_reg__
 410 0290 F11C      		adc r15,__zero_reg__
 411 0292 0C17      		cp r16,r28
 412 0294 1D07      		cpc r17,r29
 413 0296 C0F2      		brlo .L55
 414               	.L73:
 415               	.LBE9:
 416               	.LM68:
 417 0298 1092 0000 		sts PacketBytes+1,__zero_reg__
 418               	.LM69:
 419 029c C050      		subi r28,lo8(-(PacketBytes))
 420 029e D040      		sbci r29,hi8(-(PacketBytes))
 421 02a0 1A82      		std Y+2,__zero_reg__
 422               	.LM70:
 423 02a2 14C0      		rjmp .L2
 424               	.L57:
 425               	.LM71:
 426 02a4 0E94 0000 		call ISPCC_ProgramChip
 427               	.LM72:
 428 02a8 82E0      		ldi r24,lo8(2)
 429 02aa 90E0      		ldi r25,hi8(2)
 430 02ac 9093 0000 		sts (MessageSize)+1,r25
 431 02b0 8093 0000 		sts MessageSize,r24
 432               	.L75:
 433               	.LM73:
 434 02b4 1092 0000 		sts PacketBytes+1,__zero_reg__
 435               	.LM74:
 436 02b8 09C0      		rjmp .L2
 437               	.L58:
 438               	.LM75:
 439 02ba 81E0      		ldi r24,lo8(1)
 440 02bc 90E0      		ldi r25,hi8(1)
 441 02be 9093 0000 		sts (MessageSize)+1,r25
 442 02c2 8093 0000 		sts MessageSize,r24
 443               	.LM76:
 444 02c6 89EC      		ldi r24,lo8(-55)
 445 02c8 8093 0000 		sts PacketBytes+1,r24
 446               	.L2:
 447               	.LBE2:
 448               	.LM77:
 449 02cc 0E94 0000 		call V2P_SendPacket
 450               	/* epilogue: frame size=0 */
 451 02d0 DF91      		pop r29
 452 02d2 CF91      		pop r28
 453 02d4 1F91      		pop r17
 454 02d6 0F91      		pop r16
 455 02d8 FF90      		pop r15
 456 02da EF90      		pop r14
 457 02dc DF90      		pop r13
 458 02de 0895      		ret
 459               	/* epilogue end (size=8) */
 460               	/* function AICI_InterpretPacket size 373 (358) */
 461               	.LFE14:
 463               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 AVRISPCommandInterpreter.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:22     .progmem.data:00000000 AVRISPModeMessage
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccy0aaaa.s:27     .text:00000000 AICI_InterpretPacket

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
PacketBytes
MessageSize
EEPROMVars
__eeprom_read_byte_1F2021
USI_SPIInitMaster
MAIN_ResetCSLine
ISPCC_EnterChipProgrammingMode
InProgrammingMode
SyncErrorMessage
LCD_puts_f
MAIN_Delay1MS
USI_SPIOff
USI_SPITransmit
USI_SPITransmitWord
CurrAddress
V2P_IncrementCurrAddress
ISPCC_ProgramChip
V2P_SendPacket
