   1               		.file	"ProgDataflash.c"
   2               		.arch atmega169
   3               	__SREG__ = 0x3f
   4               	__SP_H__ = 0x3e
   5               	__SP_L__ = 0x3d
   6               	__tmp_reg__ = 0
   7               	__zero_reg__ = 1
   8               		.global __do_copy_data
   9               		.global __do_clear_bss
  17               	.Ltext0:
  18               	.global	DataFlashProgMode
  19               		.section	.progmem.data,"a",@progbits
  22               	DataFlashProgMode:
  23 0000 2A44 4154 		.string	"*DATAFLASH MODE*"
  23      4146 4C41 
  23      5348 204D 
  23      4F44 452A 
  23      00
  24               		.text
  25               	.global	PD_SetupDFAddressCounters
  27               	PD_SetupDFAddressCounters:
  28               	.LFB15:
  29               	.LM1:
  30               	/* prologue: frame size=0 */
  31               	/* prologue end (size=0) */
  32               	.LM2:
  33 0000 2091 0000 		lds r18,CurrAddress
  34 0004 3091 0000 		lds r19,(CurrAddress)+1
  35 0008 4091 0000 		lds r20,(CurrAddress)+2
  36 000c 5091 0000 		lds r21,(CurrAddress)+3
  37               	.LM3:
  38 0010 1092 0000 		sts (CurrPageAddress)+1,__zero_reg__
  39 0014 1092 0000 		sts CurrPageAddress,__zero_reg__
  40               	.LM4:
  41 0018 8091 0000 		lds r24,DataflashInfo+1
  42 001c 9091 0000 		lds r25,(DataflashInfo+1)+1
  43 0020 AA27      		clr r26
  44 0022 BB27      		clr r27
  45 0024 8217      		cp r24,r18
  46 0026 9307      		cpc r25,r19
  47 0028 A407      		cpc r26,r20
  48 002a B507      		cpc r27,r21
  49 002c 88F4      		brsh .L6
  50 002e 60E0      		ldi r22,lo8(0)
  51 0030 70E0      		ldi r23,hi8(0)
  52               	.L4:
  53               	.LM5:
  54 0032 281B      		sub r18,r24
  55 0034 390B      		sbc r19,r25
  56 0036 4A0B      		sbc r20,r26
  57 0038 5B0B      		sbc r21,r27
  58               	.LM6:
  59 003a 6F5F      		subi r22,lo8(-(1))
  60 003c 7F4F      		sbci r23,hi8(-(1))
  61 003e 8217      		cp r24,r18
  62 0040 9307      		cpc r25,r19
  63 0042 A407      		cpc r26,r20
  64 0044 B507      		cpc r27,r21
  65 0046 A8F3      		brlo .L4
  66 0048 7093 0000 		sts (CurrPageAddress)+1,r23
  67 004c 6093 0000 		sts CurrPageAddress,r22
  68               	.L6:
  69               	.LM7:
  70 0050 3093 0000 		sts (CurrBuffByte)+1,r19
  71 0054 2093 0000 		sts CurrBuffByte,r18
  72               	/* epilogue: frame size=0 */
  73 0058 0895      		ret
  74               	/* epilogue end (size=1) */
  75               	/* function PD_SetupDFAddressCounters size 45 (44) */
  76               	.LFE15:
  78               	.global	PD_StoreDataflashByte
  80               	PD_StoreDataflashByte:
  81               	.LFB16:
  82               	.LM8:
  83               	/* prologue: frame size=0 */
  84 005a CF93      		push r28
  85               	/* prologue end (size=1) */
  86 005c C82F      		mov r28,r24
  87               	.LM9:
  88 005e 2091 0000 		lds r18,CurrBuffByte
  89 0062 3091 0000 		lds r19,(CurrBuffByte)+1
  90 0066 8091 0000 		lds r24,DataflashInfo+1
  91 006a 9091 0000 		lds r25,(DataflashInfo+1)+1
  92 006e 2817      		cp r18,r24
  93 0070 3907      		cpc r19,r25
  94 0072 A9F4      		brne .L9
  95               	.LM10:
  96 0074 8091 0000 		lds r24,CurrPageAddress
  97 0078 9091 0000 		lds r25,(CurrPageAddress)+1
  98 007c 9C01      		movw r18,r24
  99 007e 0196      		adiw r24,1
 100 0080 9093 0000 		sts (CurrPageAddress)+1,r25
 101 0084 8093 0000 		sts CurrPageAddress,r24
 102 0088 C901      		movw r24,r18
 103 008a 0E94 0000 		call DF_CopyBufferToFlashPage
 104               	.LM11:
 105 008e 80E0      		ldi r24,lo8(0)
 106 0090 90E0      		ldi r25,hi8(0)
 107 0092 0E94 0000 		call DF_BufferWriteEnable
 108               	.LM12:
 109 0096 1092 0000 		sts (CurrBuffByte)+1,__zero_reg__
 110 009a 1092 0000 		sts CurrBuffByte,__zero_reg__
 111               	.L9:
 112               	.LM13:
 113 009e 8C2F      		mov r24,r28
 114 00a0 0E94 0000 		call USI_SPITransmit
 115               	.LM14:
 116 00a4 8091 0000 		lds r24,CurrBuffByte
 117 00a8 9091 0000 		lds r25,(CurrBuffByte)+1
 118 00ac 0196      		adiw r24,1
 119 00ae 9093 0000 		sts (CurrBuffByte)+1,r25
 120 00b2 8093 0000 		sts CurrBuffByte,r24
 121               	/* epilogue: frame size=0 */
 122 00b6 CF91      		pop r28
 123 00b8 0895      		ret
 124               	/* epilogue end (size=2) */
 125               	/* function PD_StoreDataflashByte size 48 (45) */
 126               	.LFE16:
 128               	.global	PD_InterpretAVRISPPacket
 130               	PD_InterpretAVRISPPacket:
 131               	.LFB14:
 132               	.LM15:
 133               	/* prologue: frame size=0 */
 134 00ba DF92      		push r13
 135 00bc EF92      		push r14
 136 00be FF92      		push r15
 137 00c0 0F93      		push r16
 138 00c2 1F93      		push r17
 139 00c4 CF93      		push r28
 140 00c6 DF93      		push r29
 141               	/* prologue end (size=7) */
 142               	.LM16:
 143 00c8 DD24      		clr r13
 144               	.LM17:
 145 00ca 8091 0000 		lds r24,PacketBytes
 146 00ce 9927      		clr r25
 147 00d0 8631      		cpi r24,22
 148 00d2 9105      		cpc r25,__zero_reg__
 149 00d4 09F4      		brne .+2
 150 00d6 00C1      		rjmp .L36
 151               	.LM18:
 152 00d8 8731      		cpi r24,23
 153 00da 9105      		cpc r25,__zero_reg__
 154 00dc B4F4      		brge .L43
 155 00de 8231      		cpi r24,18
 156 00e0 9105      		cpc r25,__zero_reg__
 157 00e2 09F4      		brne .+2
 158 00e4 6FC0      		rjmp .L19
 159 00e6 8331      		cpi r24,19
 160 00e8 9105      		cpc r25,__zero_reg__
 161 00ea 3CF4      		brge .L44
 162 00ec 8031      		cpi r24,16
 163 00ee 9105      		cpc r25,__zero_reg__
 164 00f0 31F1      		breq .L12
 165 00f2 4197      		sbiw r24,17
 166 00f4 09F4      		brne .+2
 167 00f6 46C0      		rjmp .L16
 168 00f8 40C1      		rjmp .L42
 169               	.L44:
 170 00fa 8431      		cpi r24,20
 171 00fc 9105      		cpc r25,__zero_reg__
 172 00fe 09F4      		brne .+2
 173 0100 8AC0      		rjmp .L26
 174 0102 4597      		sbiw r24,21
 175 0104 0CF0      		brlt .+2
 176 0106 AFC0      		rjmp .L31
 177 0108 7FC0      		rjmp .L25
 178               	.L43:
 179 010a 8931      		cpi r24,25
 180 010c 9105      		cpc r25,__zero_reg__
 181 010e 09F4      		brne .+2
 182 0110 70C0      		rjmp .L24
 183 0112 8A31      		cpi r24,26
 184 0114 9105      		cpc r25,__zero_reg__
 185 0116 44F4      		brge .L45
 186 0118 8731      		cpi r24,23
 187 011a 9105      		cpc r25,__zero_reg__
 188 011c 09F4      		brne .+2
 189 011e 69C0      		rjmp .L24
 190 0120 4897      		sbiw r24,24
 191 0122 09F4      		brne .+2
 192 0124 58C0      		rjmp .L22
 193 0126 29C1      		rjmp .L42
 194               	.L45:
 195 0128 8B31      		cpi r24,27
 196 012a 9105      		cpc r25,__zero_reg__
 197 012c E9F1      		breq .L18
 198 012e 8B31      		cpi r24,27
 199 0130 9105      		cpc r25,__zero_reg__
 200 0132 0CF4      		brge .+2
 201 0134 50C0      		rjmp .L22
 202 0136 4C97      		sbiw r24,28
 203 0138 09F4      		brne .+2
 204 013a 4DC0      		rjmp .L22
 205 013c 1EC1      		rjmp .L42
 206               	.L12:
 207               	.LBB2:
 208               	.LM19:
 209 013e 82E0      		ldi r24,lo8(2)
 210 0140 90E0      		ldi r25,hi8(2)
 211 0142 9093 0000 		sts (MessageSize)+1,r25
 212 0146 8093 0000 		sts MessageSize,r24
 213               	.LM20:
 214 014a 81E0      		ldi r24,lo8(1)
 215 014c 0E94 0000 		call DF_EnableDataflash
 216               	.LM21:
 217 0150 0E94 0000 		call DF_GetChipCharacteristics
 218               	.LM22:
 219 0154 8091 0000 		lds r24,DataflashInfo
 220 0158 8823      		tst r24
 221 015a 59F0      		breq .L13
 222               	.LM23:
 223 015c 80E0      		ldi r24,lo8(DataFlashProgMode)
 224 015e 90E0      		ldi r25,hi8(DataFlashProgMode)
 225 0160 0E94 0000 		call LCD_puts_f
 226               	.LM24:
 227 0164 81E0      		ldi r24,lo8(1)
 228 0166 8093 0000 		sts InProgrammingMode,r24
 229               	.LM25:
 230 016a 81B3      		in r24,49-0x20
 231 016c 8F7C      		andi r24,lo8(-49)
 232 016e 8062      		ori r24,lo8(32)
 233 0170 17C0      		rjmp .L60
 234               	.L13:
 235               	.LM26:
 236 0172 80E0      		ldi r24,lo8(DataFlashError)
 237 0174 90E0      		ldi r25,hi8(DataFlashError)
 238 0176 0E94 0000 		call LCD_puts_f
 239               	.LM27:
 240 017a 8D2D      		mov r24,r13
 241 017c 0E94 0000 		call DF_EnableDataflash
 242               	.LM28:
 243 0180 80EC      		ldi r24,lo8(-64)
 244 0182 02C1      		rjmp .L59
 245               	.L16:
 246               	.LM29:
 247 0184 82E0      		ldi r24,lo8(2)
 248 0186 90E0      		ldi r25,hi8(2)
 249 0188 9093 0000 		sts (MessageSize)+1,r25
 250 018c 8093 0000 		sts MessageSize,r24
 251               	.LM30:
 252 0190 D092 0000 		sts InProgrammingMode,r13
 253               	.LM31:
 254 0194 8D2D      		mov r24,r13
 255 0196 0E94 0000 		call DF_EnableDataflash
 256               	.LM32:
 257 019a 81B3      		in r24,49-0x20
 258 019c 8F7C      		andi r24,lo8(-49)
 259 019e 8061      		ori r24,lo8(16)
 260               	.L60:
 261 01a0 81BB      		out 49-0x20,r24
 262               	.LM33:
 263 01a2 D092 0000 		sts PacketBytes+1,r13
 264               	.LM34:
 265 01a6 F2C0      		rjmp .L11
 266               	.L18:
 267               	.LM35:
 268 01a8 84E0      		ldi r24,lo8(4)
 269 01aa 90E0      		ldi r25,hi8(4)
 270 01ac 9093 0000 		sts (MessageSize)+1,r25
 271 01b0 8093 0000 		sts MessageSize,r24
 272               	.LM36:
 273 01b4 D092 0000 		sts PacketBytes+1,r13
 274               	.LM37:
 275 01b8 82E0      		ldi r24,lo8(2)
 276 01ba 8093 0000 		sts PacketBytes+2,r24
 277               	.LM38:
 278 01be D092 0000 		sts PacketBytes+3,r13
 279               	.LM39:
 280 01c2 E4C0      		rjmp .L11
 281               	.L19:
 282               	.LM40:
 283 01c4 82E0      		ldi r24,lo8(2)
 284 01c6 90E0      		ldi r25,hi8(2)
 285 01c8 9093 0000 		sts (MessageSize)+1,r25
 286 01cc 8093 0000 		sts MessageSize,r24
 287               	.LM41:
 288 01d0 E1E0      		ldi r30,lo8(1)
 289 01d2 DE2E      		mov r13,r30
 290 01d4 7EC0      		rjmp .L54
 291               	.L22:
 292               	.LM42:
 293 01d6 84E0      		ldi r24,lo8(4)
 294 01d8 90E0      		ldi r25,hi8(4)
 295 01da 9093 0000 		sts (MessageSize)+1,r25
 296 01de 8093 0000 		sts MessageSize,r24
 297               	.LM43:
 298 01e2 1092 0000 		sts PacketBytes+1,__zero_reg__
 299               	.LM44:
 300 01e6 8FEF      		ldi r24,lo8(-1)
 301 01e8 8093 0000 		sts PacketBytes+2,r24
 302               	.LM45:
 303 01ec 1092 0000 		sts PacketBytes+3,__zero_reg__
 304               	.LM46:
 305 01f0 CDC0      		rjmp .L11
 306               	.L24:
 307               	.LM47:
 308 01f2 83E0      		ldi r24,lo8(3)
 309 01f4 90E0      		ldi r25,hi8(3)
 310 01f6 9093 0000 		sts (MessageSize)+1,r25
 311 01fa 8093 0000 		sts MessageSize,r24
 312               	.LM48:
 313 01fe 1092 0000 		sts PacketBytes+1,__zero_reg__
 314               	.LM49:
 315 0202 1092 0000 		sts PacketBytes+2,__zero_reg__
 316               	.LM50:
 317 0206 C2C0      		rjmp .L11
 318               	.L25:
 319               	.LM51:
 320 0208 82E0      		ldi r24,lo8(2)
 321 020a 90E0      		ldi r25,hi8(2)
 322 020c 9093 0000 		sts (MessageSize)+1,r25
 323 0210 8093 0000 		sts MessageSize,r24
 324 0214 5EC0      		rjmp .L54
 325               	.L26:
 326               	.LM52:
 327 0216 8091 0000 		lds r24,PacketBytes+1
 328 021a 9927      		clr r25
 329 021c 982F      		mov r25,r24
 330 021e 8827      		clr r24
 331 0220 2091 0000 		lds r18,PacketBytes+2
 332 0224 3327      		clr r19
 333 0226 822B      		or r24,r18
 334 0228 932B      		or r25,r19
 335 022a 0396      		adiw r24,3
 336 022c 9093 0000 		sts (MessageSize)+1,r25
 337 0230 8093 0000 		sts MessageSize,r24
 338               	.LBB3:
 339               	.LM53:
 340 0234 21E0      		ldi r18,lo8(1)
 341 0236 30E0      		ldi r19,hi8(1)
 342 0238 0297      		sbiw r24,2
 343 023a 2817      		cp r18,r24
 344 023c 3907      		cpc r19,r25
 345 023e 48F4      		brsh .L52
 346 0240 4FEF      		ldi r20,lo8(-1)
 347 0242 E0E0      		ldi r30,lo8(PacketBytes+1)
 348 0244 F0E0      		ldi r31,hi8(PacketBytes+1)
 349               	.L30:
 350               	.LM54:
 351 0246 4193      		st Z+,r20
 352               	.LM55:
 353 0248 2F5F      		subi r18,lo8(-(1))
 354 024a 3F4F      		sbci r19,hi8(-(1))
 355 024c 2817      		cp r18,r24
 356 024e 3907      		cpc r19,r25
 357 0250 D0F3      		brlo .L30
 358               	.L52:
 359               	.LBE3:
 360               	.LM56:
 361 0252 1092 0000 		sts PacketBytes+1,__zero_reg__
 362               	.LM57:
 363 0256 E091 0000 		lds r30,MessageSize
 364 025a F091 0000 		lds r31,(MessageSize)+1
 365 025e E050      		subi r30,lo8(-(PacketBytes-1))
 366 0260 F040      		sbci r31,hi8(-(PacketBytes-1))
 367 0262 1082      		st Z,__zero_reg__
 368               	.LM58:
 369 0264 93C0      		rjmp .L11
 370               	.L31:
 371               	.LM59:
 372 0266 0E94 0000 		call PD_SetupDFAddressCounters
 373               	.LM60:
 374 026a 8091 0000 		lds r24,CurrPageAddress
 375 026e 9091 0000 		lds r25,(CurrPageAddress)+1
 376 0272 0E94 0000 		call DF_CopyFlashPageToBuffer
 377               	.LM61:
 378 0276 8091 0000 		lds r24,CurrBuffByte
 379 027a 9091 0000 		lds r25,(CurrBuffByte)+1
 380 027e 0E94 0000 		call DF_BufferWriteEnable
 381               	.LM62:
 382 0282 8091 0000 		lds r24,PacketBytes+1
 383 0286 9927      		clr r25
 384 0288 D82F      		mov r29,r24
 385 028a CC27      		clr r28
 386 028c 8091 0000 		lds r24,PacketBytes+2
 387 0290 9927      		clr r25
 388 0292 C82B      		or r28,r24
 389 0294 D92B      		or r29,r25
 390               	.LBB4:
 391               	.LM63:
 392 0296 00E0      		ldi r16,lo8(0)
 393 0298 10E0      		ldi r17,hi8(0)
 394 029a 0C17      		cp r16,r28
 395 029c 1D07      		cpc r17,r29
 396 029e C8F4      		brsh .L54
 397 02a0 50E0      		ldi r21,lo8(PacketBytes+10)
 398 02a2 E52E      		mov r14,r21
 399 02a4 50E0      		ldi r21,hi8(PacketBytes+10)
 400 02a6 F52E      		mov r15,r21
 401               	.L35:
 402               	.LM64:
 403 02a8 F701      		movw r30,r14
 404 02aa 8191      		ld r24,Z+
 405 02ac 7F01      		movw r14,r30
 406 02ae 0E94 0000 		call PD_StoreDataflashByte
 407               	.LM65:
 408 02b2 8091 0000 		lds r24,CurrBuffByte
 409 02b6 9091 0000 		lds r25,(CurrBuffByte)+1
 410 02ba 0196      		adiw r24,1
 411 02bc 9093 0000 		sts (CurrBuffByte)+1,r25
 412 02c0 8093 0000 		sts CurrBuffByte,r24
 413               	.LM66:
 414 02c4 0E94 0000 		call V2P_IncrementCurrAddress
 415               	.LM67:
 416 02c8 0F5F      		subi r16,lo8(-(1))
 417 02ca 1F4F      		sbci r17,hi8(-(1))
 418 02cc 0C17      		cp r16,r28
 419 02ce 1D07      		cpc r17,r29
 420 02d0 58F3      		brlo .L35
 421               	.L54:
 422               	.LBE4:
 423               	.LM68:
 424 02d2 1092 0000 		sts PacketBytes+1,__zero_reg__
 425               	.LM69:
 426 02d6 5AC0      		rjmp .L11
 427               	.L36:
 428               	.LM70:
 429 02d8 0E94 0000 		call PD_SetupDFAddressCounters
 430               	.LM71:
 431 02dc 8091 0000 		lds r24,CurrPageAddress
 432 02e0 9091 0000 		lds r25,(CurrPageAddress)+1
 433 02e4 0E94 0000 		call DF_CopyFlashPageToBuffer
 434               	.LM72:
 435 02e8 8091 0000 		lds r24,PacketBytes+1
 436 02ec 9927      		clr r25
 437 02ee D82F      		mov r29,r24
 438 02f0 CC27      		clr r28
 439 02f2 8091 0000 		lds r24,PacketBytes+2
 440 02f6 9927      		clr r25
 441 02f8 C82B      		or r28,r24
 442 02fa D92B      		or r29,r25
 443               	.LBB5:
 444               	.LM73:
 445 02fc 00E0      		ldi r16,lo8(0)
 446 02fe 10E0      		ldi r17,hi8(0)
 447 0300 0C17      		cp r16,r28
 448 0302 1D07      		cpc r17,r29
 449 0304 70F5      		brsh .L56
 450 0306 30E0      		ldi r19,lo8(PacketBytes+2)
 451 0308 E32E      		mov r14,r19
 452 030a 30E0      		ldi r19,hi8(PacketBytes+2)
 453 030c F32E      		mov r15,r19
 454               	.L41:
 455               	.LM74:
 456 030e 2091 0000 		lds r18,CurrBuffByte
 457 0312 3091 0000 		lds r19,(CurrBuffByte)+1
 458 0316 8091 0000 		lds r24,DataflashInfo+1
 459 031a 9091 0000 		lds r25,(DataflashInfo+1)+1
 460 031e 2817      		cp r18,r24
 461 0320 3907      		cpc r19,r25
 462 0322 41F4      		brne .L40
 463               	.LM75:
 464 0324 0E94 0000 		call PD_SetupDFAddressCounters
 465               	.LM76:
 466 0328 8091 0000 		lds r24,CurrPageAddress
 467 032c 9091 0000 		lds r25,(CurrPageAddress)+1
 468 0330 0E94 0000 		call DF_CopyFlashPageToBuffer
 469               	.L40:
 470               	.LM77:
 471 0334 8091 0000 		lds r24,CurrBuffByte
 472 0338 9091 0000 		lds r25,(CurrBuffByte)+1
 473 033c 9C01      		movw r18,r24
 474 033e 0196      		adiw r24,1
 475 0340 9093 0000 		sts (CurrBuffByte)+1,r25
 476 0344 8093 0000 		sts CurrBuffByte,r24
 477 0348 C901      		movw r24,r18
 478 034a 0E94 0000 		call DF_ReadBufferByte
 479 034e F701      		movw r30,r14
 480 0350 8193      		st Z+,r24
 481 0352 7F01      		movw r14,r30
 482               	.LM78:
 483 0354 0E94 0000 		call V2P_IncrementCurrAddress
 484               	.LM79:
 485 0358 0F5F      		subi r16,lo8(-(1))
 486 035a 1F4F      		sbci r17,hi8(-(1))
 487 035c 0C17      		cp r16,r28
 488 035e 1D07      		cpc r17,r29
 489 0360 B0F2      		brlo .L41
 490               	.L56:
 491               	.LBE5:
 492               	.LM80:
 493 0362 2396      		adiw r28,3
 494 0364 D093 0000 		sts (MessageSize)+1,r29
 495 0368 C093 0000 		sts MessageSize,r28
 496 036c 2397      		sbiw r28,3
 497               	.LM81:
 498 036e 1092 0000 		sts PacketBytes+1,__zero_reg__
 499               	.LM82:
 500 0372 C050      		subi r28,lo8(-(PacketBytes))
 501 0374 D040      		sbci r29,hi8(-(PacketBytes))
 502 0376 1A82      		std Y+2,__zero_reg__
 503               	.LM83:
 504 0378 09C0      		rjmp .L11
 505               	.L42:
 506               	.LM84:
 507 037a 81E0      		ldi r24,lo8(1)
 508 037c 90E0      		ldi r25,hi8(1)
 509 037e 9093 0000 		sts (MessageSize)+1,r25
 510 0382 8093 0000 		sts MessageSize,r24
 511               	.LM85:
 512 0386 89EC      		ldi r24,lo8(-55)
 513               	.L59:
 514 0388 8093 0000 		sts PacketBytes+1,r24
 515               	.L11:
 516               	.LBE2:
 517               	.LM86:
 518 038c 0E94 0000 		call V2P_SendPacket
 519               	.LM87:
 520 0390 DD20      		tst r13
 521 0392 D9F0      		breq .L10
 522               	.LM88:
 523 0394 80E0      		ldi r24,lo8(WaitText)
 524 0396 90E0      		ldi r25,hi8(WaitText)
 525 0398 0E94 0000 		call LCD_puts_f
 526               	.LBB6:
 527               	.LM89:
 528 039c C0E0      		ldi r28,lo8(0)
 529 039e D0E0      		ldi r29,hi8(0)
 530               	.L61:
 531 03a0 8091 0000 		lds r24,DataflashInfo+3
 532 03a4 9091 0000 		lds r25,(DataflashInfo+3)+1
 533 03a8 23E0      		ldi r18,3
 534 03aa 9695      	1:	lsr r25
 535 03ac 8795      		ror r24
 536 03ae 2A95      		dec r18
 537 03b0 E1F7      		brne 1b
 538 03b2 C817      		cp r28,r24
 539 03b4 D907      		cpc r29,r25
 540 03b6 28F4      		brsh .L58
 541               	.LM90:
 542 03b8 CE01      		movw r24,r28
 543 03ba 0E94 0000 		call DF_EraseBlock
 544               	.LM91:
 545 03be 2196      		adiw r28,1
 546 03c0 EFCF      		rjmp .L61
 547               	.L58:
 548               	.LBE6:
 549               	.LM92:
 550 03c2 80E0      		ldi r24,lo8(DataFlashProgMode)
 551 03c4 90E0      		ldi r25,hi8(DataFlashProgMode)
 552 03c6 0E94 0000 		call LCD_puts_f
 553               	.L10:
 554               	/* epilogue: frame size=0 */
 555 03ca DF91      		pop r29
 556 03cc CF91      		pop r28
 557 03ce 1F91      		pop r17
 558 03d0 0F91      		pop r16
 559 03d2 FF90      		pop r15
 560 03d4 EF90      		pop r14
 561 03d6 DF90      		pop r13
 562 03d8 0895      		ret
 563               	/* epilogue end (size=8) */
 564               	/* function PD_InterpretAVRISPPacket size 404 (389) */
 565               	.LFE14:
 567               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 ProgDataflash.c
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:3      *ABS*:0000003f __SREG__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:4      *ABS*:0000003e __SP_H__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:5      *ABS*:0000003d __SP_L__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:6      *ABS*:00000000 __tmp_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:7      *ABS*:00000001 __zero_reg__
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:22     .progmem.data:00000000 DataFlashProgMode
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:27     .text:00000000 PD_SetupDFAddressCounters
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:80     .text:0000005a PD_StoreDataflashByte
C:\DOCUME~1\Dean\LOCALS~1\Temp/ccWCaaaa.s:130    .text:000000ba PD_InterpretAVRISPPacket

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
CurrAddress
CurrPageAddress
DataflashInfo
CurrBuffByte
DF_CopyBufferToFlashPage
DF_BufferWriteEnable
USI_SPITransmit
PacketBytes
MessageSize
DF_EnableDataflash
DF_GetChipCharacteristics
LCD_puts_f
InProgrammingMode
DataFlashError
DF_CopyFlashPageToBuffer
V2P_IncrementCurrAddress
DF_ReadBufferByte
V2P_SendPacket
WaitText
DF_EraseBlock
